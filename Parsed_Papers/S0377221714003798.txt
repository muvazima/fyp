@&#MAIN-TITLE@&#Optimal deterministic algorithms for some variants of Online Quota Traveling Salesman Problem

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           We examine various variants of the Online Quota Traveling Salesman Problem.


                        
                        
                           
                           The best lower bounds and algorithms for the variants are obtained.


                        
                        
                           
                           We get a nearly complete map of the optimal algorithms for variants of Online QTSP.


                        
                        
                           
                           A best lower bound for a variant of Online TSP on a half-line is also obtained.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Traveling salesman

Quota TSP

Online algorithm

Competitive ratio

@&#ABSTRACT@&#


               
               
                  This paper is concerned with the Online Quota Traveling Salesman Problem. Depending on the symmetry of the metric and the requirement for the salesman to return to the origin, four variants are analyzed. We present optimal deterministic algorithms for each variant defined on a general space, a real line, or a half-line. As a byproduct, an improved lower bound for a variant of Online TSP on a half-line is also obtained.
               
            

@&#INTRODUCTION@&#

The Quota Traveling Salesman Problem (QTSP) is a generalization of the well-known Traveling Salesman Problem (TSP), and can be described as follows. Let M be a metric space with a given origin o and a distance function 
                        
                           d
                           (
                           ·
                           ,
                           ·
                           )
                        
                      such that for all 
                        
                           x
                           ,
                           
                           y
                           ,
                           
                           z
                           ∈
                           M
                        
                     :
                        
                           (i)
                           
                              
                                 
                                    d
                                    (
                                    x
                                    ,
                                    y
                                    )
                                    ⩾
                                    0
                                 
                              , where “=” holds if and only if 
                                 
                                    x
                                    =
                                    y
                                 
                              ;


                              
                                 
                                    d
                                    (
                                    x
                                    ,
                                    y
                                    )
                                    =
                                    d
                                    (
                                    y
                                    ,
                                    x
                                    )
                                 
                              ;


                              
                                 
                                    d
                                    (
                                    x
                                    ,
                                    y
                                    )
                                    ⩽
                                    d
                                    (
                                    x
                                    ,
                                    z
                                    )
                                    +
                                    d
                                    (
                                    z
                                    ,
                                    y
                                    )
                                 
                              .

In QTSP, if the metric space is replaced by a quasi-metric space, which is equipped with a quasi-metric function satisfying the above conditions (i) and (iii) but not necessarily obeying the condition (ii) of symmetry, we obtain the Asymmetric Quota Traveling Salesman Problem (AQTSP). Clearly, AQTSP is a generalization of QTSP. We use pAQTSP to denote the path-version of AQTSP. Quasi-metric spaces arise naturally in a number of situations, for example, in a city including one-way streets, or on mountain roads, where traveling up hill takes longer than down hill. Particularly, a real line is a quasi-metric space if we define the asymmetrical distance function
                        
                           (1)
                           
                              d
                              (
                              x
                              ,
                              y
                              )
                              =
                              
                                 
                                    
                                       
                                          
                                             
                                                |
                                                x
                                                -
                                                y
                                                |
                                                ,
                                             
                                             
                                                x
                                                ⩽
                                                y
                                                ,
                                             
                                          
                                          
                                             
                                                c
                                                |
                                                x
                                                -
                                                y
                                                |
                                                ,
                                             
                                             
                                                x
                                                >
                                                y
                                                ,
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                     where 
                        
                           c
                           >
                           0
                        
                      is a measure of the asymmetry of the space. If 
                        
                           c
                           =
                           1
                        
                     , the real line turns into a metric space.

Another generalization of QTSP is to incorporate release times with vertices, where vertex v can only be visited at or after its release time 
                        
                           
                              
                                 r
                              
                              
                                 v
                              
                           
                        
                     , the salesman can travel at most at unit speed, and the objective is to find a vertex subset 
                        
                           
                              
                                 V
                              
                              
                                 ′
                              
                           
                        
                      reaching the quota Q and a tour on 
                        
                           
                              
                                 V
                              
                              
                                 ′
                              
                           
                           ∪
                           {
                           o
                           }
                        
                      to minimize the makespan, i.e. the time by which the salesman has visited all the vertices in 
                        
                           
                              
                                 V
                              
                              
                                 ′
                              
                           
                        
                      and returned to the origin o. Note that when all vertices are released at time zero, the makespan is just the length of the tour. QTSP with release times is called Offline QTSP if the release times, weights and positions of the vertices are known to the salesman already at time zero. However, the assumption that all the information is completely known a priori is unreasonable in many situations, and there are a lot of applications in which the information is revealed in real-time. These cases can be dealt with appropriately by online models. In Online QTSP, each vertex v presents at its release time 
                        
                           
                              
                                 r
                              
                              
                                 v
                              
                           
                        
                     , but the release time, weight and even existence of the vertex are known only after its presence. Online/Offline pQTSP, AQTSP, pAQTSP can be defined similarly as Online/Offline QTSP. Note that QTSP, pQTSP, AQTSP, pAQTSP are special cases of the corresponding offline problems in which all vertices are released at time zero. In this paper, we mainly investigate the above-mentioned online variants of QTSP.

We only care about the deterministic online algorithms, i.e., the algorithms without coin tosses. The performance of a deterministic online algorithm is usually evaluated by its competitive ratio, i.e., the worst-case ratio of the objective value of the solution produced by the algorithm to the optimal value of the corresponding offline problem. We call 
                        
                           γ
                        
                      a (deterministic) lower bound of the online problem if there is no deterministic algorithm with competitive ratio less than 
                        
                           γ
                        
                      for it. If the competitive ratio of some deterministic online algorithm matches a lower bound of the online problem, then the algorithm is called the best (or optimal). See Borodin and El-Yaniv (1998) or Fiat and Woeginger (1998) for a thorough study of online algorithms.


                     Awerbuch, Azar, Blum, and Vempala (1998) proposed an 
                        
                           O
                           (
                           
                              
                                 log
                              
                              
                                 2
                              
                           
                           (
                           min
                           (
                           Q
                           ,
                           n
                           )
                           )
                           )
                        
                     -approximation algorithm for QTSP. According to the results of Ausiello, Leonardi, and Marchetti-Spaccamela (2000), the approximation ratio can be improved to 10. Later, Chaudhuri, Godfrey, Rao, and Talwar (2003) devised, for any 
                        
                           ∊
                           >
                           0
                        
                     , a (
                        
                           2
                           +
                           ∊
                        
                     )-approximation algorithm for the Q-path problem in which the objective is to find a shortest path with two prescribed ending vertices going through a set of vertices reaching the quota Q. Note that the Q-path problem generalizes both QTSP and pQTSP. Chekuri, Korula, and Pál (2008) considered some related orienteering problems, and gave a (
                        
                           2
                           +
                           ∊
                        
                     )-approximation algorithm to find a path with length restriction such that the total weight of vertices visited is maximized. See Vansteenwegen, Souffriau, and Oudheusden (2011) for a survey about the orienteering problem. For Offline QTSP, Ausiello, Bonifaci, and Laura (2008b) gave a 
                        
                           (
                           1
                           +
                           ρ
                           )
                        
                     -approximation algorithm, where 
                        
                           ρ
                        
                      is the best available approximation ratio for QTSP.


                     Ausiello, Demange, Laura, and Paschos (2004) introduced Online QTSP and devised an algorithm for it with competitive ratio 
                        
                           2
                           ρ
                        
                      provided that a 
                        
                           ρ
                        
                     -approximation algorithm is available for QTSP. They also proved a lower bound of 2 when the metric space is the real line, which implies that their algorithm is optimal by using an exact algorithm to solve QTSP. For the real line case, there exists a simple polynomial exact algorithm for QTSP. By contrast, any existing exact algorithm for general QTSP takes exponential time. Moreover, the authors proposed a 3/2-competitive polynomial algorithm for the half-line case as well as a matching lower bound.

Offline TSP is a special case of Offline QTSP in which all vertices have to be visited, but Online TSP is not a special case of Online QTSP since the quota Q in Online QTSP is known a priori and the total number of the vertices in Online TSP is unknown. For Online TSP, both Ausiello, Feuerstein, Leonardi, Stougie, and Talamo (2001) and Lipmann (2003) gave a lower bound of 2, and Ascheuer, Krumke, and Rambau (2000) designed a 
                        
                           
                              
                                 1
                              
                              
                                 4
                              
                           
                           
                              
                                 
                                    4
                                    ρ
                                    +
                                    1
                                    +
                                    
                                       
                                          1
                                          +
                                          8
                                          ρ
                                       
                                    
                                 
                              
                           
                        
                     -competitive algorithm by using a 
                        
                           ρ
                        
                     -approximation algorithm for TSP, which is optimal by plugging in an exact algorithm for TSP. If the metric space is a real line, Ausiello et al. (2001) provided a lower bound of 
                        
                           
                              
                                 1
                                 +
                                 
                                    
                                       17
                                    
                                 
                              
                              
                                 8
                              
                           
                           ≈
                           1.64
                        
                     , while Lipmann (2003) devised an optimal polynomial algorithm. For Online TSP on a half-line, Blom, Krumke, de Paepe, and Stougie (2001) presented a 3/2-competitive polynomial algorithm as well as a matching lower bound.

For the real line and half-line cases of Online pTSP (the path-version of Online TSP, also called Nomadic Online TSP in the literature), Lipmann (2003) proved the lower bounds 2.03 and 1.63, respectively. The author also developed a 
                        
                           
                              
                                 
                                    
                                       
                                          2
                                       
                                    
                                    +
                                    ρ
                                 
                              
                           
                        
                     -competitive algorithm for the problem on a general metric space, provided a 
                        
                           ρ
                        
                     -approximation algorithm for pTSP. Later, Bonifaci (2007) proposed a 2-competitive algorithm for the half-line case.

For Online Asymmetric TSP, Ausiello, Bonifaci, and Laura (2008a) showed a lower bound of 
                        
                           
                              
                                 3
                                 +
                                 
                                    
                                       5
                                    
                                 
                              
                              
                                 2
                              
                           
                           ≈
                           2.618
                        
                      and proposed a 
                        
                           
                              
                                 1
                              
                              
                                 2
                              
                           
                           
                              
                                 
                                    2
                                    ρ
                                    +
                                    1
                                    +
                                    
                                       
                                          1
                                          +
                                          4
                                          ρ
                                       
                                    
                                 
                              
                           
                        
                     -competitive algorithm, where 
                        
                           ρ
                        
                      is the approximation ratio for ATSP. Their algorithm is optimal by solving ATSP to optimality. The authors also proved that the corresponding path-version has no online algorithm with competitive ratio bounded by a constant.

In this paper, we focus on Online QTSP and AQTSP as well as their path-versions. First we present polynomial 
                        
                           (
                           1
                           +
                           ρ
                           )
                        
                     -competitive algorithms for them, provided that 
                        
                           ρ
                        
                     -approximation algorithms are available for the corresponding offline problems with zero release times. Our algorithms improve on the 
                        
                           2
                           ρ
                        
                     -competitive algorithm for Online QTSP given by Ausiello et al. (2004). Then we provide algorithms for Online AQTSP and pAQTSP on a half-line with competitive ratios 
                        
                           
                              
                                 2
                                 c
                                 +
                                 1
                              
                              
                                 c
                                 +
                                 1
                              
                           
                        
                      and 
                        
                           min
                           {
                           1
                           +
                           c
                           ,
                           2
                           }
                        
                     , respectively, where c is the measure of asymmetry of the space. We also show that all the above algorithms are optimal by devising lower bounds matching the competitive ratios. Combining those existing results with ours, we obtain a complete mapping of the best deterministic lower bounds and algorithms for the variants concerned of Online QTSP. All the results are summarized in Table 1
                     . In addition, as a byproduct, we improve the lower bound of Online pTSP on a half-line from 1.63 to 2, which implies the 2-competitive algorithm in Bonifaci (2007) is optimal.

The remainder of the paper is organized as follows. In Section 2, we describe some notations. In Section 3, we present algorithms for Online AQTSP, pAQTSP, QTSP and pQTSP and analyze their competitive ratios. In Section 4, we prove the lower bounds of Online AQTSP, pQTSP, pAQTSP on a real line or a half-line and Online pTSP on a half-line.

Here we introduce some notations used throughout the paper. Let 
                        
                           σ
                        
                      be an instance of Online QTSP, pQTSP, AQTSP or pAQTSP. We use 
                        
                           T
                           (
                           σ
                           )
                        
                      to denote the solution given by some algorithm for 
                        
                           σ
                        
                      as well as the corresponding makespan, 
                        
                           p
                           (
                           t
                           )
                        
                      to denote the position of the salesman at time t by the algorithm, and 
                        
                           
                              
                                 T
                              
                              
                                 ∗
                              
                           
                           (
                           σ
                           )
                        
                      to denote the optimal makespan of the corresponding offline instance. For the sake of simplicity, we denote 
                        
                           T
                           (
                           σ
                           )
                        
                      and 
                        
                           
                              
                                 T
                              
                              
                                 ∗
                              
                           
                           (
                           σ
                           )
                        
                      as T and 
                        
                           
                              
                                 T
                              
                              
                                 ∗
                              
                           
                        
                      respectively, if 
                        
                           σ
                        
                      is explicit in the context. Let 
                        
                           
                              
                                 r
                              
                              
                                 1
                              
                           
                        
                      and 
                        
                           
                              
                                 r
                              
                              
                                 n
                              
                           
                        
                      denote the earliest and latest release times of the vertices in 
                        
                           σ
                        
                     .

Consider the vertices released no later than time t in 
                        
                           σ
                        
                     , and ignore their release times. Then, we obtain an instance 
                        
                           
                              
                                 σ
                              
                              
                                 t
                              
                           
                        
                      of QTSP, pQTSP, AQTSP or pAQTSP. Similarly, considering the vertices released before time t in 
                        
                           σ
                        
                     , and ignoring their release times, we obtain another instance 
                        
                           
                              
                                 σ
                              
                              
                                 t
                              
                              
                                 ′
                              
                           
                        
                      of QTSP, pQTSP, AQTSP or pAQTSP. We use 
                        
                           
                              
                                 T
                              
                              
                                 ρ
                              
                           
                           (
                           
                              
                                 σ
                              
                              
                                 t
                              
                           
                           )
                        
                      to denote the tour or path produced by a 
                        
                           ρ
                        
                     -approximation algorithm for 
                        
                           
                              
                                 σ
                              
                              
                                 t
                              
                           
                        
                      as well as its makespan, and 
                        
                           
                              
                                 T
                              
                              
                                 ∗
                              
                           
                           (
                           
                              
                                 σ
                              
                              
                                 t
                              
                           
                           )
                        
                      to denote the optimal makespan of 
                        
                           
                              
                                 σ
                              
                              
                                 t
                              
                           
                        
                     . We suppose that both 
                        
                           
                              
                                 T
                              
                              
                                 ρ
                              
                           
                           (
                           
                              
                                 σ
                              
                              
                                 t
                              
                           
                           )
                        
                      and 
                        
                           
                              
                                 T
                              
                              
                                 ∗
                              
                           
                           (
                           
                              
                                 σ
                              
                              
                                 t
                              
                           
                           )
                        
                      are positive infinity if 
                        
                           
                              
                                 ∑
                              
                              
                                 v
                                 ∈
                                 
                                    
                                       σ
                                    
                                    
                                       t
                                    
                                 
                              
                           
                           
                           
                              
                                 w
                              
                              
                                 v
                              
                           
                           <
                           Q
                        
                     . Similarly, we define 
                        
                           
                              
                                 T
                              
                              
                                 ρ
                              
                           
                           
                              
                                 
                                    
                                       
                                          σ
                                       
                                       
                                          t
                                       
                                       
                                          ′
                                       
                                    
                                 
                              
                           
                        
                      and 
                        
                           
                              
                                 T
                              
                              
                                 ∗
                              
                           
                           
                              
                                 
                                    
                                       
                                          σ
                                       
                                       
                                          t
                                       
                                       
                                          ′
                                       
                                    
                                 
                              
                           
                        
                      for 
                        
                           
                              
                                 σ
                              
                              
                                 t
                              
                              
                                 ′
                              
                           
                        
                     . Note that if t is not release time of any vertex, then 
                        
                           
                              
                                 σ
                              
                              
                                 t
                              
                           
                        
                      and 
                        
                           
                              
                                 σ
                              
                              
                                 t
                              
                              
                                 ′
                              
                           
                        
                      are the same and hence we have 
                        
                           
                              
                                 T
                              
                              
                                 ρ
                              
                           
                           (
                           
                              
                                 σ
                              
                              
                                 t
                              
                           
                           )
                           =
                           
                              
                                 T
                              
                              
                                 ρ
                              
                           
                           (
                           
                              
                                 σ
                              
                              
                                 t
                              
                              
                                 ′
                              
                           
                           )
                        
                     ; if t is the release time of some vertex, we can obtain 
                        
                           
                              
                                 T
                              
                              
                                 ρ
                              
                           
                           (
                           
                              
                                 σ
                              
                              
                                 t
                              
                              
                                 ′
                              
                           
                           )
                           =
                           
                              
                                 T
                              
                              
                                 ρ
                              
                           
                           (
                           
                              
                                 σ
                              
                              
                                 
                                    
                                       t
                                    
                                    
                                       ′
                                    
                                 
                              
                           
                           )
                        
                      by letting 
                        
                           
                              
                                 t
                              
                              
                                 ′
                              
                           
                        
                      be the release time immediately before time t.

In this section we present several algorithms for Online AQTSP and its path version.

First we give an algorithm applicable to each instance 
                           
                              σ
                           
                         of Online AQTSP, pAQTSP, QTSP and pQTSP. As in the 
                           
                              2
                              ρ
                           
                        -competitive algorithm in Ausiello et al. (2004), the main idea of our algorithm is to wait at the origin until some departure time and then follow an approximate tour or path to visit the vertices. However, we make a choice for the departure time different from that in Ausiello et al. (2004) and show that this choice leads to a polynomial time algorithm with better competitive ratio. Our algorithm is described below, where 
                           
                              α
                           
                         is a parameter.

Wait at the origin until the earliest time 
                              
                                 
                                    
                                       t
                                    
                                    
                                       0
                                    
                                 
                              
                            with 
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       v
                                       ∈
                                       
                                          
                                             σ
                                          
                                          
                                             
                                                
                                                   t
                                                
                                                
                                                   0
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                 
                                    
                                       w
                                    
                                    
                                       v
                                    
                                 
                                 ⩾
                                 Q
                              
                            and compute 
                              
                                 
                                    
                                       T
                                    
                                    
                                       ρ
                                    
                                 
                                 (
                                 
                                    
                                       σ
                                    
                                    
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                    
                                 
                                 )
                              
                           . If 
                              
                                 
                                    
                                       T
                                    
                                    
                                       ρ
                                    
                                 
                                 (
                                 
                                    
                                       σ
                                    
                                    
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                    
                                 
                                 )
                                 ⩽
                                 α
                                 
                                    
                                       t
                                    
                                    
                                       0
                                    
                                 
                              
                           , then go to Step 1; else go to Step 2.
                              
                                 
                                    Step 1.
                                 Execute 
                                       
                                          
                                             
                                                T
                                             
                                             
                                                ρ
                                             
                                          
                                          (
                                          
                                             
                                                σ
                                             
                                             
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      0
                                                   
                                                
                                             
                                          
                                          )
                                       
                                     at unit speed and then stop.

Continue to wait until the earliest time 
                                       
                                          
                                             
                                                t
                                             
                                             
                                                ∗
                                             
                                          
                                       
                                     such that
                                       
                                          (2)
                                          
                                             
                                                
                                                   T
                                                
                                                
                                                   ρ
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         
                                                            σ
                                                         
                                                         
                                                            
                                                               
                                                                  t
                                                               
                                                               
                                                                  ∗
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                             ⩽
                                             α
                                             
                                                
                                                   t
                                                
                                                
                                                   ∗
                                                
                                             
                                             ⩽
                                             
                                                
                                                   T
                                                
                                                
                                                   ρ
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         
                                                            σ
                                                         
                                                         
                                                            
                                                               
                                                                  t
                                                               
                                                               
                                                                  ∗
                                                               
                                                            
                                                         
                                                         
                                                            ′
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    and then execute 
                                       
                                          
                                             
                                                T
                                             
                                             
                                                ρ
                                             
                                          
                                          (
                                          
                                             
                                                σ
                                             
                                             
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      ∗
                                                   
                                                
                                             
                                          
                                          )
                                       
                                     at unit speed, and then stop.

We first analyze the performance of Algorithm 
                              
                                 H
                                 (
                                 α
                                 )
                              
                            for Online AQTSP. Then, in the end of this subsection we show that the same conclusion holds for Online pAQTSP. The following lemma proves the existence of 
                              
                                 
                                    
                                       t
                                    
                                    
                                       ∗
                                    
                                 
                              
                            in Step 2, which guarantees the feasibility of the algorithm.
                              Lemma 1
                              
                                 For any 
                                 
                                    
                                       α
                                       >
                                       0
                                    
                                 
                                 , if Algorithm 
                                 
                                    
                                       H
                                       (
                                       α
                                       )
                                    
                                  
                                 turns to Step 2, then there must exist some 
                                 
                                    
                                       
                                          
                                             t
                                          
                                          
                                             ∗
                                          
                                       
                                       >
                                       
                                          
                                             r
                                          
                                          
                                             1
                                          
                                       
                                    
                                  
                                 satisfying 
                                 
                                    (2)
                                 
                                 . Moreover, if 
                                 
                                    
                                       
                                          
                                             t
                                          
                                          
                                             ∗
                                          
                                       
                                       >
                                       
                                          
                                             r
                                          
                                          
                                             n
                                          
                                       
                                    
                                 
                                 , then both “=”s hold in 
                                 
                                    (2)
                                 
                                 .
                              

Suppose that there are k distinct release times 
                                    
                                       
                                          
                                             R
                                          
                                          
                                             1
                                          
                                       
                                       ,
                                       
                                          
                                             R
                                          
                                          
                                             2
                                          
                                       
                                       ,
                                       …
                                       ,
                                       
                                          
                                             R
                                          
                                          
                                             k
                                          
                                       
                                    
                                 , where 
                                    
                                       0
                                       ⩽
                                       
                                          
                                             R
                                          
                                          
                                             1
                                          
                                       
                                       <
                                       
                                          
                                             R
                                          
                                          
                                             2
                                          
                                       
                                       <
                                       ⋯
                                       <
                                       
                                          
                                             R
                                          
                                          
                                             k
                                          
                                       
                                       =
                                       
                                          
                                             r
                                          
                                          
                                             n
                                          
                                       
                                    
                                 . By definition, 
                                    
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                    
                                  must be some release time, say 
                                    
                                       
                                          
                                             R
                                          
                                          
                                             l
                                          
                                       
                                    
                                 . Let 
                                    
                                       
                                          
                                             f
                                          
                                          
                                             1
                                          
                                       
                                       (
                                       t
                                       )
                                       =
                                       
                                          
                                             T
                                          
                                          
                                             ρ
                                          
                                       
                                       (
                                       
                                          
                                             σ
                                          
                                          
                                             t
                                          
                                       
                                       )
                                    
                                  and 
                                    
                                       
                                          
                                             f
                                          
                                          
                                             2
                                          
                                       
                                       (
                                       t
                                       )
                                       =
                                       
                                          
                                             T
                                          
                                          
                                             ρ
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      σ
                                                   
                                                   
                                                      t
                                                   
                                                   
                                                      ′
                                                   
                                                
                                             
                                          
                                       
                                    
                                  for 
                                    
                                       t
                                       ⩾
                                       
                                          
                                             R
                                          
                                          
                                             l
                                          
                                       
                                    
                                 . Note that 
                                    
                                       
                                          
                                             f
                                          
                                          
                                             1
                                          
                                       
                                       (
                                       t
                                       )
                                    
                                  and 
                                    
                                       
                                          
                                             f
                                          
                                          
                                             2
                                          
                                       
                                       (
                                       t
                                       )
                                    
                                  are piecewise constant functions different only at 
                                    
                                       t
                                       =
                                       
                                          
                                             R
                                          
                                          
                                             l
                                          
                                       
                                       ,
                                       
                                       
                                          
                                             R
                                          
                                          
                                             l
                                             +
                                             1
                                          
                                       
                                       ,
                                       …
                                       ,
                                       
                                          
                                             R
                                          
                                          
                                             k
                                          
                                       
                                    
                                 , and 
                                    
                                       
                                          
                                             f
                                          
                                          
                                             1
                                          
                                       
                                       (
                                       
                                          
                                             R
                                          
                                          
                                             j
                                             -
                                             1
                                          
                                       
                                       )
                                       =
                                       
                                          
                                             f
                                          
                                          
                                             2
                                          
                                       
                                       (
                                       
                                          
                                             R
                                          
                                          
                                             j
                                          
                                       
                                       )
                                    
                                  for 
                                    
                                       j
                                       =
                                       l
                                       +
                                       1
                                       ,
                                       
                                       l
                                       +
                                       2
                                       ,
                                       …
                                       ,
                                       k
                                    
                                 . Obviously, both 
                                    
                                       
                                          
                                             f
                                          
                                          
                                             1
                                          
                                       
                                       (
                                       t
                                       )
                                    
                                  and 
                                    
                                       
                                          
                                             f
                                          
                                          
                                             2
                                          
                                       
                                       (
                                       t
                                       )
                                    
                                  are non-negative, and 
                                    
                                       
                                          
                                             f
                                          
                                          
                                             2
                                          
                                       
                                       (
                                       
                                          
                                             R
                                          
                                          
                                             l
                                          
                                       
                                       )
                                       =
                                       +
                                       ∞
                                    
                                 .

If the algorithm turns to Step 2, then we have 
                                    
                                       
                                          
                                             f
                                          
                                          
                                             1
                                          
                                       
                                       (
                                       
                                          
                                             R
                                          
                                          
                                             l
                                          
                                       
                                       )
                                       =
                                       
                                          
                                             T
                                          
                                          
                                             ρ
                                          
                                       
                                       (
                                       
                                          
                                             σ
                                          
                                          
                                             
                                                
                                                   t
                                                
                                                
                                                   0
                                                
                                             
                                          
                                       
                                       )
                                       >
                                       α
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                       =
                                       α
                                       
                                          
                                             R
                                          
                                          
                                             l
                                          
                                       
                                    
                                 . Thus, 
                                    
                                       min
                                       {
                                       
                                          
                                             f
                                          
                                          
                                             1
                                          
                                       
                                       (
                                       
                                          
                                             R
                                          
                                          
                                             l
                                          
                                       
                                       )
                                       ,
                                       
                                          
                                             f
                                          
                                          
                                             2
                                          
                                       
                                       (
                                       
                                          
                                             R
                                          
                                          
                                             l
                                          
                                       
                                       )
                                       }
                                       ⩾
                                       α
                                       
                                          
                                             R
                                          
                                          
                                             l
                                          
                                       
                                    
                                 . Since the function 
                                    
                                       α
                                       t
                                    
                                  is increasing, one of the following two cases happens:
                                    
                                       (i)
                                       there is some 
                                             
                                                i
                                                ⩾
                                                l
                                             
                                           such that 
                                             
                                                min
                                                {
                                                
                                                   
                                                      f
                                                   
                                                   
                                                      1
                                                   
                                                
                                                (
                                                
                                                   
                                                      R
                                                   
                                                   
                                                      i
                                                   
                                                
                                                )
                                                ,
                                                
                                                   
                                                      f
                                                   
                                                   
                                                      2
                                                   
                                                
                                                (
                                                
                                                   
                                                      R
                                                   
                                                   
                                                      i
                                                   
                                                
                                                )
                                                }
                                                ⩾
                                                α
                                                
                                                   
                                                      R
                                                   
                                                   
                                                      i
                                                   
                                                
                                             
                                           and 
                                             
                                                min
                                                {
                                                
                                                   
                                                      f
                                                   
                                                   
                                                      1
                                                   
                                                
                                                (
                                                
                                                   
                                                      R
                                                   
                                                   
                                                      i
                                                      +
                                                      1
                                                   
                                                
                                                )
                                                ,
                                                
                                                   
                                                      f
                                                   
                                                   
                                                      2
                                                   
                                                
                                                (
                                                
                                                   
                                                      R
                                                   
                                                   
                                                      i
                                                      +
                                                      1
                                                   
                                                
                                                )
                                                }
                                                <
                                                α
                                                
                                                   
                                                      R
                                                   
                                                   
                                                      i
                                                      +
                                                      1
                                                   
                                                
                                             
                                          ;


                                          
                                             
                                                min
                                                {
                                                
                                                   
                                                      f
                                                   
                                                   
                                                      1
                                                   
                                                
                                                (
                                                
                                                   
                                                      R
                                                   
                                                   
                                                      k
                                                   
                                                
                                                )
                                                ,
                                                
                                                   
                                                      f
                                                   
                                                   
                                                      2
                                                   
                                                
                                                (
                                                
                                                   
                                                      R
                                                   
                                                   
                                                      k
                                                   
                                                
                                                )
                                                }
                                                ⩾
                                                α
                                                
                                                   
                                                      R
                                                   
                                                   
                                                      k
                                                   
                                                
                                             
                                          .

Consider the former case. If 
                                    
                                       α
                                       
                                          
                                             R
                                          
                                          
                                             i
                                             +
                                             1
                                          
                                       
                                       ⩽
                                       
                                          
                                             f
                                          
                                          
                                             2
                                          
                                       
                                       (
                                       
                                          
                                             R
                                          
                                          
                                             i
                                             +
                                             1
                                          
                                       
                                       )
                                    
                                 , then by 
                                    
                                       min
                                       {
                                       
                                          
                                             f
                                          
                                          
                                             1
                                          
                                       
                                       (
                                       
                                          
                                             R
                                          
                                          
                                             i
                                             +
                                             1
                                          
                                       
                                       )
                                       ,
                                       
                                          
                                             f
                                          
                                          
                                             2
                                          
                                       
                                       (
                                       
                                          
                                             R
                                          
                                          
                                             i
                                             +
                                             1
                                          
                                       
                                       )
                                       }
                                       <
                                       α
                                       
                                          
                                             R
                                          
                                          
                                             i
                                             +
                                             1
                                          
                                       
                                    
                                 , we have 
                                    
                                       
                                          
                                             f
                                          
                                          
                                             1
                                          
                                       
                                       (
                                       
                                          
                                             R
                                          
                                          
                                             i
                                             +
                                             1
                                          
                                       
                                       )
                                       <
                                       α
                                       
                                          
                                             R
                                          
                                          
                                             i
                                             +
                                             1
                                          
                                       
                                    
                                 . Hence, 
                                    
                                       
                                          
                                             t
                                          
                                          
                                             ∗
                                          
                                       
                                       =
                                       
                                          
                                             R
                                          
                                          
                                             i
                                             +
                                             1
                                          
                                       
                                    
                                  satisfies (2). Otherwise, 
                                    
                                       α
                                       
                                          
                                             R
                                          
                                          
                                             i
                                             +
                                             1
                                          
                                       
                                       >
                                       
                                          
                                             f
                                          
                                          
                                             2
                                          
                                       
                                       (
                                       
                                          
                                             R
                                          
                                          
                                             i
                                             +
                                             1
                                          
                                       
                                       )
                                       =
                                       
                                          
                                             f
                                          
                                          
                                             1
                                          
                                       
                                       (
                                       
                                          
                                             R
                                          
                                          
                                             i
                                          
                                       
                                       )
                                    
                                  holds. Noticing that 
                                    
                                       
                                          
                                             f
                                          
                                          
                                             1
                                          
                                       
                                       (
                                       t
                                       )
                                       =
                                       
                                          
                                             f
                                          
                                          
                                             1
                                          
                                       
                                       (
                                       
                                          
                                             R
                                          
                                          
                                             i
                                          
                                       
                                       )
                                       ⩾
                                       α
                                       
                                          
                                             R
                                          
                                          
                                             i
                                          
                                       
                                    
                                  for 
                                    
                                       t
                                       ∈
                                       [
                                       
                                          
                                             R
                                          
                                          
                                             i
                                          
                                       
                                       ,
                                       
                                          
                                             R
                                          
                                          
                                             i
                                             +
                                             1
                                          
                                       
                                       )
                                    
                                 , we conclude that 
                                    
                                       α
                                       t
                                    
                                  intersects 
                                    
                                       
                                          
                                             f
                                          
                                          
                                             1
                                          
                                       
                                       (
                                       t
                                       )
                                    
                                  at 
                                    
                                       
                                          
                                             t
                                          
                                          
                                             ∗
                                          
                                       
                                       =
                                       
                                          
                                             
                                                
                                                   f
                                                
                                                
                                                   1
                                                
                                             
                                             (
                                             
                                                
                                                   R
                                                
                                                
                                                   i
                                                
                                             
                                             )
                                          
                                          
                                             α
                                          
                                       
                                       ∈
                                       [
                                       
                                          
                                             R
                                          
                                          
                                             i
                                          
                                       
                                       ,
                                       
                                          
                                             R
                                          
                                          
                                             i
                                             +
                                             1
                                          
                                       
                                       )
                                    
                                  which satisfies (2). For the latter case, 
                                    
                                       α
                                       t
                                    
                                  intersects 
                                    
                                       
                                          
                                             f
                                          
                                          
                                             1
                                          
                                       
                                       (
                                       t
                                       )
                                    
                                  at 
                                    
                                       
                                          
                                             t
                                          
                                          
                                             ∗
                                          
                                       
                                       =
                                       
                                          
                                             
                                                
                                                   f
                                                
                                                
                                                   1
                                                
                                             
                                             (
                                             
                                                
                                                   R
                                                
                                                
                                                   k
                                                
                                             
                                             )
                                          
                                          
                                             α
                                          
                                       
                                       ⩾
                                       
                                          
                                             R
                                          
                                          
                                             k
                                          
                                       
                                       =
                                       
                                          
                                             r
                                          
                                          
                                             n
                                          
                                       
                                    
                                  which satisfies (2). If 
                                    
                                       
                                          
                                             t
                                          
                                          
                                             ∗
                                          
                                       
                                       >
                                       
                                          
                                             R
                                          
                                          
                                             k
                                          
                                       
                                    
                                 , then 
                                    
                                       
                                          
                                             f
                                          
                                          
                                             1
                                          
                                       
                                       (
                                       
                                          
                                             t
                                          
                                          
                                             ∗
                                          
                                       
                                       )
                                       =
                                       
                                          
                                             f
                                          
                                          
                                             2
                                          
                                       
                                       (
                                       
                                          
                                             t
                                          
                                          
                                             ∗
                                          
                                       
                                       )
                                    
                                 , and both “=”s hold in (2). □

The following two lemmas give some lower bounds on the optimal makespan 
                              
                                 
                                    
                                       T
                                    
                                    
                                       ∗
                                    
                                 
                              
                            of Offline AQTSP.
                              Lemma 2
                              
                                 For 
                                 
                                    
                                       
                                          
                                             r
                                          
                                          
                                             1
                                          
                                       
                                       <
                                       t
                                       ⩽
                                       
                                          
                                             r
                                          
                                          
                                             n
                                          
                                       
                                       ,
                                       
                                          
                                             T
                                          
                                          
                                             ∗
                                          
                                       
                                       ⩾
                                       min
                                       
                                          
                                             
                                                
                                                   
                                                      T
                                                   
                                                   
                                                      ∗
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            
                                                               σ
                                                            
                                                            
                                                               t
                                                            
                                                            
                                                               ′
                                                            
                                                         
                                                      
                                                   
                                                
                                                ,
                                                t
                                             
                                          
                                       
                                    
                                  
                                 holds, and for 
                                 
                                    
                                       t
                                       ⩾
                                       
                                          
                                             r
                                          
                                          
                                             n
                                          
                                       
                                       ,
                                       
                                          
                                             T
                                          
                                          
                                             ∗
                                          
                                       
                                       ⩾
                                       
                                          
                                             T
                                          
                                          
                                             ∗
                                          
                                       
                                       (
                                       
                                          
                                             σ
                                          
                                          
                                             t
                                          
                                       
                                       )
                                    
                                  
                                 holds.
                              

For 
                                    
                                       
                                          
                                             r
                                          
                                          
                                             1
                                          
                                       
                                       <
                                       t
                                       ⩽
                                       
                                          
                                             r
                                          
                                          
                                             n
                                          
                                       
                                    
                                 , if in an optimal solution the salesman visits a vertex that presents no earlier than time t, then we have 
                                    
                                       
                                          
                                             T
                                          
                                          
                                             ∗
                                          
                                       
                                       ⩾
                                       t
                                    
                                 . Otherwise, all the vertices visited by the salesman are released before time t. Hence we obtain 
                                    
                                       
                                          
                                             T
                                          
                                          
                                             ∗
                                          
                                       
                                       ⩾
                                       
                                          
                                             T
                                          
                                          
                                             ∗
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      σ
                                                   
                                                   
                                                      t
                                                   
                                                   
                                                      ′
                                                   
                                                
                                             
                                          
                                       
                                    
                                 . For any 
                                    
                                       t
                                       ⩾
                                       
                                          
                                             r
                                          
                                          
                                             n
                                          
                                       
                                    
                                 , 
                                    
                                       
                                          
                                             σ
                                          
                                          
                                             t
                                          
                                       
                                    
                                  contains all the vertices in 
                                    
                                       σ
                                    
                                 , but the vertices are released at time zero. Hence 
                                    
                                       
                                          
                                             T
                                          
                                          
                                             ∗
                                          
                                       
                                       ⩾
                                       
                                          
                                             T
                                          
                                          
                                             ∗
                                          
                                       
                                       (
                                       
                                          
                                             σ
                                          
                                          
                                             t
                                          
                                       
                                       )
                                    
                                 . □


                                 If 
                                 
                                    
                                       
                                          
                                             t
                                          
                                          
                                             ∗
                                          
                                       
                                       >
                                       
                                          
                                             r
                                          
                                          
                                             n
                                          
                                       
                                    
                                 
                                 , then 
                                 
                                    
                                       
                                          
                                             t
                                          
                                          
                                             ∗
                                          
                                       
                                       +
                                       
                                          
                                             T
                                          
                                          
                                             ρ
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      σ
                                                   
                                                   
                                                      
                                                         
                                                            t
                                                         
                                                         
                                                            ∗
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                       ⩽
                                       
                                          
                                             
                                                
                                                   
                                                      1
                                                   
                                                   
                                                      α
                                                   
                                                
                                                +
                                                1
                                             
                                          
                                       
                                       ρ
                                       
                                          
                                             T
                                          
                                          
                                             ∗
                                          
                                       
                                    
                                 
                                 .
                              

If 
                                    
                                       
                                          
                                             t
                                          
                                          
                                             ∗
                                          
                                       
                                       >
                                       
                                          
                                             r
                                          
                                          
                                             n
                                          
                                       
                                    
                                 , we have 
                                    
                                       
                                          
                                             T
                                          
                                          
                                             ρ
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      σ
                                                   
                                                   
                                                      
                                                         
                                                            t
                                                         
                                                         
                                                            ∗
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                       =
                                       α
                                       
                                          
                                             t
                                          
                                          
                                             ∗
                                          
                                       
                                    
                                  by Lemma 1. So
                                    
                                       
                                          T
                                          =
                                          
                                             
                                                t
                                             
                                             
                                                ∗
                                             
                                          
                                          +
                                          
                                             
                                                T
                                             
                                             
                                                ρ
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         σ
                                                      
                                                      
                                                         
                                                            
                                                               t
                                                            
                                                            
                                                               ∗
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                          =
                                          
                                             
                                                
                                                   
                                                      
                                                         1
                                                      
                                                      
                                                         α
                                                      
                                                   
                                                   +
                                                   1
                                                
                                             
                                          
                                          
                                             
                                                T
                                             
                                             
                                                ρ
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         σ
                                                      
                                                      
                                                         
                                                            
                                                               t
                                                            
                                                            
                                                               ∗
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                          ⩽
                                          
                                             
                                                
                                                   
                                                      
                                                         1
                                                      
                                                      
                                                         α
                                                      
                                                   
                                                   +
                                                   1
                                                
                                             
                                          
                                          ρ
                                          
                                             
                                                T
                                             
                                             
                                                ∗
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         σ
                                                      
                                                      
                                                         
                                                            
                                                               t
                                                            
                                                            
                                                               ∗
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                          ⩽
                                          
                                             
                                                
                                                   
                                                      
                                                         1
                                                      
                                                      
                                                         α
                                                      
                                                   
                                                   +
                                                   1
                                                
                                             
                                          
                                          ρ
                                          
                                             
                                                T
                                             
                                             
                                                ∗
                                             
                                          
                                          ,
                                       
                                    
                                 where the last inequality follows from Lemma 2. □


                                 For any 
                                 
                                    
                                       α
                                       >
                                       0
                                    
                                 
                                 , the competitive ratio of Algorithm 
                                 
                                    
                                       H
                                       (
                                       α
                                       )
                                    
                                  
                                 is 
                                 
                                    
                                       max
                                       
                                          
                                             
                                                1
                                                +
                                                α
                                                ,
                                                
                                                   
                                                      
                                                         
                                                            
                                                               1
                                                            
                                                            
                                                               α
                                                            
                                                         
                                                         +
                                                         1
                                                      
                                                   
                                                
                                                ρ
                                             
                                          
                                       
                                    
                                  
                                 for Online AQTSP. Particularly, the competitive ratio does not exceed 
                                 
                                    
                                       1
                                       +
                                       ρ
                                    
                                  
                                 if we set 
                                 
                                    
                                       α
                                       =
                                       ρ
                                    
                                 
                                 .
                              

We consider two cases.
                                    
                                       Case 1.
                                       The algorithm terminates at Step 1. Then the salesman leaves the origin at the earliest time 
                                             
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      0
                                                   
                                                
                                             
                                           with 
                                             
                                                
                                                   
                                                      ∑
                                                   
                                                   
                                                      v
                                                      ∈
                                                      
                                                         
                                                            σ
                                                         
                                                         
                                                            
                                                               
                                                                  t
                                                               
                                                               
                                                                  0
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                                
                                                
                                                   
                                                      w
                                                   
                                                   
                                                      v
                                                   
                                                
                                                ⩾
                                                Q
                                             
                                           and then executes 
                                             
                                                
                                                   
                                                      T
                                                   
                                                   
                                                      ρ
                                                   
                                                
                                                (
                                                
                                                   
                                                      σ
                                                   
                                                   
                                                      
                                                         
                                                            t
                                                         
                                                         
                                                            0
                                                         
                                                      
                                                   
                                                
                                                )
                                             
                                          . So we have 
                                             
                                                T
                                                =
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      0
                                                   
                                                
                                                +
                                                
                                                   
                                                      T
                                                   
                                                   
                                                      ρ
                                                   
                                                
                                                (
                                                
                                                   
                                                      σ
                                                   
                                                   
                                                      
                                                         
                                                            t
                                                         
                                                         
                                                            0
                                                         
                                                      
                                                   
                                                
                                                )
                                             
                                          , and 
                                             
                                                
                                                   
                                                      T
                                                   
                                                   
                                                      ∗
                                                   
                                                
                                                ⩾
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      0
                                                   
                                                
                                             
                                          . Since 
                                             
                                                H
                                                (
                                                α
                                                )
                                             
                                           ends at Step 1, we know that 
                                             
                                                
                                                   
                                                      T
                                                   
                                                   
                                                      ρ
                                                   
                                                
                                                (
                                                
                                                   
                                                      σ
                                                   
                                                   
                                                      
                                                         
                                                            t
                                                         
                                                         
                                                            0
                                                         
                                                      
                                                   
                                                
                                                )
                                                ⩽
                                                α
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      0
                                                   
                                                
                                             
                                          . So
                                             
                                                
                                                   T
                                                   =
                                                   
                                                      
                                                         t
                                                      
                                                      
                                                         0
                                                      
                                                   
                                                   +
                                                   
                                                      
                                                         T
                                                      
                                                      
                                                         ρ
                                                      
                                                   
                                                   (
                                                   
                                                      
                                                         σ
                                                      
                                                      
                                                         
                                                            
                                                               t
                                                            
                                                            
                                                               0
                                                            
                                                         
                                                      
                                                   
                                                   )
                                                   ⩽
                                                   (
                                                   1
                                                   +
                                                   α
                                                   )
                                                   
                                                      
                                                         t
                                                      
                                                      
                                                         0
                                                      
                                                   
                                                   ⩽
                                                   (
                                                   1
                                                   +
                                                   α
                                                   )
                                                   
                                                      
                                                         T
                                                      
                                                      
                                                         ∗
                                                      
                                                   
                                                   .
                                                
                                             
                                          
                                       

The algorithm terminates at Step 2. Then the salesman leaves the origin at some time 
                                             
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      ∗
                                                   
                                                
                                                >
                                                
                                                   
                                                      r
                                                   
                                                   
                                                      1
                                                   
                                                
                                             
                                           satisfying (2) and then executes 
                                             
                                                
                                                   
                                                      T
                                                   
                                                   
                                                      ρ
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            
                                                               σ
                                                            
                                                            
                                                               
                                                                  
                                                                     t
                                                                  
                                                                  
                                                                     ∗
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          . So we have 
                                             
                                                T
                                                =
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      ∗
                                                   
                                                
                                                +
                                                
                                                   
                                                      T
                                                   
                                                   
                                                      ρ
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            
                                                               σ
                                                            
                                                            
                                                               
                                                                  
                                                                     t
                                                                  
                                                                  
                                                                     ∗
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          . By Lemma 3, we may assume 
                                             
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      ∗
                                                   
                                                
                                                ⩽
                                                
                                                   
                                                      r
                                                   
                                                   
                                                      n
                                                   
                                                
                                             
                                          . By (2), we have 
                                             
                                                T
                                                =
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      ∗
                                                   
                                                
                                                +
                                                
                                                   
                                                      T
                                                   
                                                   
                                                      ρ
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            
                                                               σ
                                                            
                                                            
                                                               
                                                                  
                                                                     t
                                                                  
                                                                  
                                                                     ∗
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                                ⩽
                                                (
                                                1
                                                +
                                                α
                                                )
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      ∗
                                                   
                                                
                                             
                                           and
                                             
                                                
                                                   T
                                                   =
                                                   
                                                      
                                                         t
                                                      
                                                      
                                                         ∗
                                                      
                                                   
                                                   +
                                                   
                                                      
                                                         T
                                                      
                                                      
                                                         ρ
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  σ
                                                               
                                                               
                                                                  
                                                                     
                                                                        t
                                                                     
                                                                     
                                                                        ∗
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   ⩽
                                                   
                                                      
                                                         1
                                                      
                                                      
                                                         α
                                                      
                                                   
                                                   
                                                      
                                                         T
                                                      
                                                      
                                                         ρ
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  σ
                                                               
                                                               
                                                                  
                                                                     
                                                                        t
                                                                     
                                                                     
                                                                        ∗
                                                                     
                                                                  
                                                               
                                                               
                                                                  ′
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   +
                                                   
                                                      
                                                         T
                                                      
                                                      
                                                         ρ
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  σ
                                                               
                                                               
                                                                  
                                                                     
                                                                        t
                                                                     
                                                                     
                                                                        ∗
                                                                     
                                                                  
                                                               
                                                               
                                                                  ′
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   ⩽
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  1
                                                               
                                                               
                                                                  α
                                                               
                                                            
                                                            +
                                                            1
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         T
                                                      
                                                      
                                                         ρ
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  σ
                                                               
                                                               
                                                                  
                                                                     
                                                                        t
                                                                     
                                                                     
                                                                        ∗
                                                                     
                                                                  
                                                               
                                                               
                                                                  ′
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   ⩽
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  1
                                                               
                                                               
                                                                  α
                                                               
                                                            
                                                            +
                                                            1
                                                         
                                                      
                                                   
                                                   ρ
                                                   
                                                      
                                                         T
                                                      
                                                      
                                                         ∗
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  σ
                                                               
                                                               
                                                                  
                                                                     
                                                                        t
                                                                     
                                                                     
                                                                        ∗
                                                                     
                                                                  
                                                               
                                                               
                                                                  ′
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   .
                                                
                                             
                                          Therefore we have
                                             
                                                
                                                   T
                                                   ⩽
                                                   
                                                      max
                                                   
                                                   
                                                      
                                                         
                                                            1
                                                            +
                                                            α
                                                            ,
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           1
                                                                        
                                                                        
                                                                           α
                                                                        
                                                                     
                                                                     +
                                                                     1
                                                                  
                                                               
                                                            
                                                            ρ
                                                         
                                                      
                                                   
                                                   
                                                      min
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  T
                                                               
                                                               
                                                                  ∗
                                                               
                                                            
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           σ
                                                                        
                                                                        
                                                                           
                                                                              
                                                                                 t
                                                                              
                                                                              
                                                                                 ∗
                                                                              
                                                                           
                                                                        
                                                                        
                                                                           ′
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                            ,
                                                            
                                                               
                                                                  t
                                                               
                                                               
                                                                  ∗
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   ⩽
                                                   
                                                      max
                                                   
                                                   
                                                      
                                                         
                                                            1
                                                            +
                                                            α
                                                            ,
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           1
                                                                        
                                                                        
                                                                           α
                                                                        
                                                                     
                                                                     +
                                                                     1
                                                                  
                                                               
                                                            
                                                            ρ
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         T
                                                      
                                                      
                                                         ∗
                                                      
                                                   
                                                   ,
                                                
                                             
                                          where the second inequality follows from Lemma 2. □

It is easy to see that the above analysis is also suitable for Online pAQTSP if we consider 
                              
                                 
                                    
                                       T
                                    
                                    
                                       ρ
                                    
                                 
                                 (
                                 
                                    
                                       σ
                                    
                                    
                                       t
                                    
                                 
                                 )
                              
                           , 
                              
                                 
                                    
                                       T
                                    
                                    
                                       ρ
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                σ
                                             
                                             
                                                t
                                             
                                             
                                                ′
                                             
                                          
                                       
                                    
                                 
                                 ,
                                 
                                    
                                       T
                                    
                                    
                                       ∗
                                    
                                 
                                 (
                                 
                                    
                                       σ
                                    
                                    
                                       t
                                    
                                 
                                 )
                              
                            and 
                              
                                 
                                    
                                       T
                                    
                                    
                                       ∗
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                σ
                                             
                                             
                                                t
                                             
                                             
                                                ′
                                             
                                          
                                       
                                    
                                 
                              
                            as traveling paths instead of tours. Therefore, we conclude that there is a 
                              
                                 (
                                 1
                                 +
                                 ρ
                                 )
                              
                           -competitive algorithm for Online pAQTSP if a 
                              
                                 ρ
                              
                           -approximation algorithm for pAQTSP is available. In addition, since the metric space is also quasi-metric, the following theorem holds.
                              Theorem 2
                              
                                 The competitive ratio of Algorithm 
                                 
                                    
                                       H
                                       (
                                       ρ
                                       )
                                    
                                  
                                 is 
                                 
                                    
                                       1
                                       +
                                       ρ
                                    
                                  
                                 for each of Online pAQTSP, QTSP and pQTSP.
                              

We note that AQTSP and pAQTSP on a real line can be solved in polynomial time since there exists an optimal solution such that the visited vertices distribute consecutively along the line. Therefore, we have the following theorem.
                           Theorem 3
                           
                              There are 2-competitive polynomial algorithms for Online AQTSP, pAQTSP, QTSP and pQTSP on a real line.
                           

Now we move to the problems defined on a half-line, i.e., the non-negative part of a real line. We first show that the competitive ratio 2 of Algorithm 
                           
                              H
                              (
                              α
                              )
                           
                         cannot be improved when it is used to solve Online AQTSP and pAQTSP on a half-line. For Online AQTSP, consider the instance: there are two vertices 
                           
                              
                                 
                                    v
                                 
                                 
                                    1
                                 
                              
                           
                         and 
                           
                              
                                 
                                    v
                                 
                                 
                                    2
                                 
                              
                           
                         of the same weight 
                           
                              Q
                              /
                              2
                           
                        , where 
                           
                              
                                 
                                    v
                                 
                                 
                                    1
                                 
                              
                           
                         is released at 1 at time 0 and 
                           
                              
                                 
                                    v
                                 
                                 
                                    2
                                 
                              
                           
                         presents at 0 at time 
                           
                              c
                              +
                              1
                           
                        . It is easy to see that when running Algorithm 
                           
                              H
                              (
                              α
                              )
                           
                         with any choice of 
                           
                              α
                           
                        , the salesman will wait at the origin until time 
                           
                              c
                              +
                              1
                           
                        . Therefore, the algorithm outputs a solution of makespan at least 
                           
                              2
                              (
                              c
                              +
                              1
                              )
                           
                        . However, the offline optimal value is 
                           
                              c
                              +
                              1
                           
                         obtained by visiting 
                           
                              
                                 
                                    v
                                 
                                 
                                    1
                                 
                              
                           
                         and 
                           
                              
                                 
                                    v
                                 
                                 
                                    2
                                 
                              
                           
                         at their release times. For Online pAQTSP, we consider the instance containing only one vertex located at 1 with weight Q and release time 1. When running Algorithm 
                           
                              H
                              (
                              α
                              )
                           
                         with any choice of 
                           
                              α
                           
                        , the salesman will wait at the origin until time 1. Therefore, the algorithm outputs a solution of makespan at least 2. However, the optimal value is 1 obtained by visiting the vertex at its release time.

In the following, to achieve better competitive ratios, we present two new algorithms for Online AQTSP and pAQTSP on a half-line. Since all vertices present on the same side of the origin we admit the salesman to travel away from the origin even before the total weight of the released vertices reaches the quota. Algorithm 
                           
                              
                                 
                                    H
                                 
                                 
                                    1
                                 
                              
                           
                         is designed for Online AQTSP on a half-line, which generalizes the algorithm in Ausiello et al. (2004) devised for the case of 
                           
                              c
                              =
                              1
                           
                        .

Let 
                              
                                 
                                    
                                       t
                                    
                                    
                                       0
                                    
                                 
                              
                            be the earliest time such that the total weight of the vertices released in 
                              
                                 
                                    
                                       
                                          0
                                          ,
                                          
                                             
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      0
                                                   
                                                
                                             
                                             
                                                1
                                                +
                                                c
                                             
                                          
                                       
                                    
                                 
                              
                            reaches the quota Q. Before time 
                              
                                 
                                    
                                       t
                                    
                                    
                                       0
                                    
                                 
                              
                           , the salesman travels away from the origin at a speed of 
                              
                                 
                                    
                                       1
                                    
                                    
                                       1
                                       +
                                       c
                                    
                                 
                              
                           . After time 
                              
                                 
                                    
                                       t
                                    
                                    
                                       0
                                    
                                 
                              
                           , the salesman travels toward the origin at unit speed, and visits those vertices in 
                              
                                 
                                    
                                       
                                          0
                                          ,
                                          
                                             
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      0
                                                   
                                                
                                             
                                             
                                                1
                                                +
                                                c
                                             
                                          
                                       
                                    
                                 
                              
                            released no later than 
                              
                                 
                                    
                                       t
                                    
                                    
                                       0
                                    
                                 
                              
                           .
                              Theorem 4
                              
                                 Algorithm 
                                 
                                    
                                       
                                          
                                             H
                                          
                                          
                                             1
                                          
                                       
                                    
                                  
                                 is a 
                                 
                                    
                                       
                                          
                                             2
                                             c
                                             +
                                             1
                                          
                                          
                                             c
                                             +
                                             1
                                          
                                       
                                    
                                 
                                 -competitive polynomial algorithm for Online AQTSP on a half-line.
                              

Clearly, the algorithm produces a feasible solution of makespan 
                                    
                                       T
                                       =
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                       +
                                       
                                          
                                             
                                                
                                                   ct
                                                
                                                
                                                   0
                                                
                                             
                                          
                                          
                                             1
                                             +
                                             c
                                          
                                       
                                       =
                                       
                                          
                                             2
                                             c
                                             +
                                             1
                                          
                                          
                                             1
                                             +
                                             c
                                          
                                       
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                    
                                 . Therefore, it is sufficient to show that the optimal makespan 
                                    
                                       
                                          
                                             T
                                          
                                          
                                             ∗
                                          
                                       
                                       ⩾
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                    
                                 . We consider two cases.
                                    
                                       Case 1.
                                       In the optimal solution, the salesman visits some vertices in 
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     t
                                                                  
                                                                  
                                                                     0
                                                                  
                                                               
                                                            
                                                            
                                                               1
                                                               +
                                                               c
                                                            
                                                         
                                                         ,
                                                         +
                                                         ∞
                                                      
                                                   
                                                
                                             
                                          . Then we have 
                                             
                                                
                                                   
                                                      T
                                                   
                                                   
                                                      ∗
                                                   
                                                
                                                ⩾
                                                
                                                   
                                                      
                                                         
                                                            t
                                                         
                                                         
                                                            0
                                                         
                                                      
                                                   
                                                   
                                                      1
                                                      +
                                                      c
                                                   
                                                
                                                ·
                                                (
                                                1
                                                +
                                                c
                                                )
                                                =
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      0
                                                   
                                                
                                             
                                          .

In the optimal solution, each vertex visited by the salesman locates in 
                                             
                                                [
                                                0
                                                ,
                                                
                                                   
                                                      
                                                         
                                                            t
                                                         
                                                         
                                                            0
                                                         
                                                      
                                                   
                                                   
                                                      1
                                                      +
                                                      c
                                                   
                                                
                                                )
                                             
                                          . Let 
                                             
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      ′
                                                   
                                                
                                             
                                           be the maximum release time of the visited vertices in the optimal solution, and X the maximum distance of the vertices from the origin. Then it holds that 
                                             
                                                X
                                                <
                                                
                                                   
                                                      
                                                         
                                                            t
                                                         
                                                         
                                                            0
                                                         
                                                      
                                                   
                                                   
                                                      1
                                                      +
                                                      c
                                                   
                                                
                                             
                                          . If 
                                             
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      ′
                                                   
                                                
                                                <
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      0
                                                   
                                                
                                             
                                          , then at time 
                                             
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      1
                                                   
                                                
                                                =
                                                max
                                                {
                                                (
                                                1
                                                +
                                                c
                                                )
                                                X
                                                ,
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      ′
                                                   
                                                
                                                }
                                                <
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      0
                                                   
                                                
                                             
                                           the total weight of the vertices released in 
                                             
                                                
                                                   
                                                      
                                                         0
                                                         ,
                                                         
                                                            
                                                               
                                                                  
                                                                     t
                                                                  
                                                                  
                                                                     1
                                                                  
                                                               
                                                            
                                                            
                                                               1
                                                               +
                                                               c
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                           has reached the quota Q, which contradicts the definition of 
                                             
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      0
                                                   
                                                
                                             
                                          . Therefore, we conclude that 
                                             
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      ′
                                                   
                                                
                                                ⩾
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      0
                                                   
                                                
                                             
                                          , which implies 
                                             
                                                
                                                   
                                                      T
                                                   
                                                   
                                                      ∗
                                                   
                                                
                                                ⩾
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      0
                                                   
                                                
                                             
                                          . □

For Online pAQTSP on a half-line, the following algorithm 
                              
                                 
                                    
                                       H
                                    
                                    
                                       2
                                    
                                 
                              
                            achieves a competitive ratio of 
                              
                                 1
                                 +
                                 c
                              
                           , better than 2 for any 
                              
                                 c
                                 <
                                 1
                              
                           .

Let 
                              
                                 
                                    
                                       t
                                    
                                    
                                       0
                                    
                                 
                              
                            be the earliest time such that the total weight of the vertices released in 
                              
                                 [
                                 0
                                 ,
                                 
                                    
                                       t
                                    
                                    
                                       0
                                    
                                 
                                 ]
                              
                            reaches the quota Q. Before time 
                              
                                 
                                    
                                       t
                                    
                                    
                                       0
                                    
                                 
                              
                           , the salesman travels away from the origin at unit speed. After time 
                              
                                 
                                    
                                       t
                                    
                                    
                                       0
                                    
                                 
                              
                           , the salesman travels toward the origin at unit speed, and visits those vertices in 
                              
                                 [
                                 0
                                 ,
                                 
                                    
                                       t
                                    
                                    
                                       0
                                    
                                 
                                 ]
                              
                            released no later than 
                              
                                 
                                    
                                       t
                                    
                                    
                                       0
                                    
                                 
                              
                           .
                              Theorem 5
                              
                                 Algorithm 
                                 
                                    
                                       
                                          
                                             H
                                          
                                          
                                             2
                                          
                                       
                                    
                                  
                                 is a 
                                 
                                    
                                       (
                                       1
                                       +
                                       c
                                       )
                                    
                                 
                                 -competitive polynomial algorithm for Online pAQTSP on a half-line.
                              

It is easy to see that the algorithm outputs a feasible solution of makespan 
                                    
                                       T
                                       =
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                       +
                                       
                                          
                                             ct
                                          
                                          
                                             0
                                          
                                       
                                       =
                                       (
                                       1
                                       +
                                       c
                                       )
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                    
                                 . Therefore, it remains to show that the optimal makespan 
                                    
                                       
                                          
                                             T
                                          
                                          
                                             ∗
                                          
                                       
                                       ⩾
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                    
                                 . Since the argumentation is similar to the proof of Theorem 4, we omit details here. □

Combining the above theorem with Theorem 1, we obtain the following result.
                              Theorem 6
                              
                                 There is a 
                                 
                                    
                                       min
                                       {
                                       1
                                       +
                                       c
                                       ,
                                       2
                                       }
                                    
                                 
                                 -competitive polynomial algorithm for Online pAQTSP on a half-line.
                              

In this section we present lower bounds for Online AQTSP and pAQTSP on a half-line or a real line. These bounds imply that all the algorithms in the last section are optimal. As a byproduct, we also obtain a lower bound of 2 for Online pTSP on a half-line, which implies the 2-competitive algorithm given by Bonifaci (2007) is optimal.

We first consider Online AQTSP on a half-line, where the quasi-metric is defined by formula (1) in Section 1. The following lemma indicates that according to a deterministic 
                           
                              α
                           
                        -competitive algorithm, the salesman cannot be too far away from the origin at any time.
                           Lemma 4
                           
                              For any deterministic 
                              
                                 
                                    α
                                 
                              
                              -competitive algorithm for Online AQTSP on a half-line, it holds that 
                              
                                 
                                    p
                                    (
                                    t
                                    )
                                    ⩽
                                    (
                                    α
                                    -
                                    1
                                    )
                                    t
                                    /
                                    c
                                 
                               
                              for any time t.
                           

Suppose that at some time 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                               the salesman is at 
                                 
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                    >
                                    (
                                    α
                                    -
                                    1
                                    )
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    /
                                    c
                                 
                               when we run some 
                                 
                                    α
                                 
                              -competitive algorithm on instance 
                                 
                                    σ
                                 
                              . We construct a new instance 
                                 
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                               that consists of all the vertices released before 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                               in 
                                 
                                    σ
                                 
                               and a vertex 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          0
                                       
                                    
                                 
                               located at the origin with weight Q and release time 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                              . Since the vertices released before time 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                               in 
                                 
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                               are exactly the same as in 
                                 
                                    σ
                                 
                              , we conclude that at time 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                               the salesman is also at 
                                 
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                 
                               when the 
                                 
                                    α
                                 
                              -competitive algorithm is run on 
                                 
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                              . Because the salesman must return to the origin in the problem, we have 
                                 
                                    T
                                    (
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                    )
                                    ⩾
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    +
                                    cp
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                    >
                                    α
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                              . However, it is easy to verify that in the optimal solution the salesman visits only 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          0
                                       
                                    
                                 
                               at time 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                              . As a result, 
                                 
                                    
                                       
                                          T
                                       
                                       
                                          ∗
                                       
                                    
                                    (
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                    )
                                    =
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    <
                                    T
                                    (
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                    )
                                    /
                                    α
                                 
                              , which contradicts the fact that the algorithm is 
                                 
                                    α
                                 
                              -competitive. □

Based on the above lemma, we can prove the following theorem.
                           Theorem 7
                           
                              Online AQTSP on a half-line has a lower bound of 
                              
                                 
                                    
                                       
                                          2
                                          c
                                          +
                                          1
                                       
                                       
                                          c
                                          +
                                          1
                                       
                                    
                                 
                              
                              .
                           

Consider an instance 
                                 
                                    σ
                                 
                               containing only one vertex of weight Q that presents at 1 at time zero. Clearly, 
                                 
                                    
                                       
                                          T
                                       
                                       
                                          ∗
                                       
                                    
                                    =
                                    1
                                    +
                                    c
                                 
                              . Given any deterministic 
                                 
                                    α
                                 
                              -competitive algorithm, we run it on 
                                 
                                    σ
                                 
                              . Let 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          1
                                       
                                    
                                 
                               be the time when the salesman first arrives at 1. By Lemma 4, we have 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          1
                                       
                                    
                                    ⩾
                                    c
                                    /
                                    (
                                    α
                                    -
                                    1
                                    )
                                 
                              . Since the salesman need return to the origin from 1, it holds that
                                 
                                    
                                       α
                                       (
                                       1
                                       +
                                       c
                                       )
                                       =
                                       α
                                       
                                          
                                             T
                                          
                                          
                                             ∗
                                          
                                       
                                       ⩾
                                       T
                                       ⩾
                                       
                                          
                                             t
                                          
                                          
                                             1
                                          
                                       
                                       +
                                       c
                                       ⩾
                                       
                                          
                                             c
                                          
                                          
                                             α
                                             -
                                             1
                                          
                                       
                                       +
                                       c
                                       ,
                                    
                                 
                              which implies 
                                 
                                    α
                                    ⩾
                                    (
                                    2
                                    c
                                    +
                                    1
                                    )
                                    /
                                    (
                                    c
                                    +
                                    1
                                    )
                                 
                              . □

For Online pAQTSP on a half-line, the following lemma shows that according to an 
                           
                              α
                           
                        -competitive algorithm, the salesman is confined within a small interval related to the current time t before the total weight of the released vertices reaches the quota Q.
                           Lemma 5
                           
                              For any deterministic 
                              
                                 
                                    α
                                 
                              
                              -competitive algorithm with 
                              
                                 
                                    α
                                    <
                                    2
                                 
                               
                              for Online pAQTSP on a half-line, it holds that 
                              
                                 
                                    (
                                    2
                                    -
                                    α
                                    )
                                    t
                                    ⩽
                                    p
                                    (
                                    t
                                    )
                                    ⩽
                                    (
                                    α
                                    -
                                    1
                                    )
                                    t
                                    /
                                    c
                                 
                               
                              for any time t with 
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          v
                                          ∈
                                          
                                             
                                                σ
                                             
                                             
                                                t
                                             
                                          
                                       
                                    
                                    
                                    
                                       
                                          w
                                       
                                       
                                          v
                                       
                                    
                                    <
                                    Q
                                 
                              
                              .
                           

Suppose that at some time 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                               with 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          v
                                          ∈
                                          
                                             
                                                σ
                                             
                                             
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      0
                                                   
                                                
                                             
                                          
                                       
                                    
                                    
                                    
                                       
                                          w
                                       
                                       
                                          v
                                       
                                    
                                    <
                                    Q
                                 
                               the salesman is at 
                                 
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                    >
                                    (
                                    α
                                    -
                                    1
                                    )
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    /
                                    c
                                 
                               when we run some 
                                 
                                    α
                                 
                              -competitive algorithm on instance 
                                 
                                    σ
                                 
                              . As in the proof of Lemma 4, we can derive an instance 
                                 
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                               that consists of all the vertices released before 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                               in 
                                 
                                    σ
                                 
                               and a vertex 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          0
                                       
                                    
                                 
                               located at the origin with weight Q and release time 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                              . Then the salesman is at 
                                 
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                 
                               at time 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                               when running the 
                                 
                                    α
                                 
                              -competitive algorithm on 
                                 
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                              . Since 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          v
                                          ∈
                                          
                                             
                                                σ
                                             
                                             
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      0
                                                   
                                                
                                             
                                          
                                       
                                    
                                    
                                    
                                       
                                          w
                                       
                                       
                                          v
                                       
                                    
                                    <
                                    Q
                                 
                              , the salesman has to visit 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          0
                                       
                                    
                                 
                               to reach the quota. Then, 
                                 
                                    T
                                    (
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                    )
                                    ⩾
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    +
                                    cp
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                    >
                                    α
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                              . However, it holds that 
                                 
                                    
                                       
                                          T
                                       
                                       
                                          ∗
                                       
                                    
                                    (
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                    )
                                    ⩽
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    <
                                    T
                                    (
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                    )
                                    /
                                    α
                                 
                              , a contradiction with the fact that the algorithm is 
                                 
                                    α
                                 
                              -competitive.

If the salesman is at 
                                 
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                    <
                                    (
                                    2
                                    -
                                    α
                                    )
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                               at time 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                              , we suppose that 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          0
                                       
                                    
                                 
                               presents at 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                               instead of the origin in the above argument. We have
                                 
                                    
                                       T
                                       (
                                       
                                          
                                             σ
                                          
                                          
                                             ˆ
                                          
                                       
                                       )
                                       ⩾
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                       +
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                       -
                                       p
                                       (
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                       )
                                       >
                                       2
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                       -
                                       (
                                       2
                                       -
                                       α
                                       )
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                       =
                                       α
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                       ,
                                    
                                 
                              and 
                                 
                                    
                                       
                                          T
                                       
                                       
                                          ∗
                                       
                                    
                                    (
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                    )
                                    ⩽
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                              , a contradiction again. □


                              Online pAQTSP on a half-line has a lower bound of 
                              
                                 
                                    min
                                    {
                                    1
                                    +
                                    c
                                    ,
                                    2
                                    }
                                 
                              .

Consider an instance 
                                 
                                    σ
                                 
                               consisting of two vertices 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          1
                                       
                                    
                                 
                               and 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          2
                                       
                                    
                                 
                               of the same weight 
                                 
                                    Q
                                    /
                                    2
                                 
                              , where 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          1
                                       
                                    
                                 
                               presents at the origin at time 
                                 
                                    ∊
                                 
                               and 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          2
                                       
                                    
                                 
                               presents at 1 at time 1. Note that 
                                 
                                    ∊
                                 
                               is a sufficiently small positive number. Clearly, in an optimal solution 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          1
                                       
                                    
                                 
                               and 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          2
                                       
                                    
                                 
                               are visited at time 
                                 
                                    ∊
                                 
                               and 
                                 
                                    1
                                    +
                                    ∊
                                 
                              , respectively. Hence, 
                                 
                                    
                                       
                                          T
                                       
                                       
                                          ∗
                                       
                                    
                                    =
                                    1
                                    +
                                    ∊
                                 
                              . If there is a deterministic 
                                 
                                    α
                                 
                              -competitive algorithm with 
                                 
                                    α
                                    <
                                    min
                                    {
                                    1
                                    +
                                    c
                                    ,
                                    2
                                    }
                                 
                              , then we run the algorithm on 
                                 
                                    σ
                                 
                              . By Lemma 5, it holds that
                                 
                                    
                                       0
                                       <
                                       (
                                       2
                                       -
                                       α
                                       )
                                       t
                                       ⩽
                                       p
                                       (
                                       t
                                       )
                                       ⩽
                                       (
                                       α
                                       -
                                       1
                                       )
                                       t
                                       /
                                       c
                                       <
                                       1
                                    
                                 
                              for any 
                                 
                                    t
                                    ∈
                                    [
                                    ∊
                                    ,
                                    1
                                    )
                                 
                              . Consequently, the salesman visits neither 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          1
                                       
                                    
                                 
                               nor 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          2
                                       
                                    
                                 
                               before time 1, and must start from some point in 
                                 
                                    [
                                    0
                                    ,
                                    1
                                    ]
                                 
                               to visit 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          1
                                       
                                    
                                 
                               and 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          2
                                       
                                    
                                 
                               after time 1. Then, 
                                 
                                    1
                                    +
                                    min
                                    {
                                    c
                                    ,
                                    1
                                    }
                                    ⩽
                                    T
                                    ⩽
                                    α
                                    
                                       
                                          T
                                       
                                       
                                          ∗
                                       
                                    
                                    =
                                    α
                                    (
                                    1
                                    +
                                    ∊
                                    )
                                 
                              , i.e., 
                                 
                                    α
                                    ⩾
                                    min
                                    {
                                    1
                                    +
                                    c
                                    ,
                                    2
                                    }
                                    /
                                    (
                                    1
                                    +
                                    ∊
                                    )
                                 
                              . When 
                                 
                                    ∊
                                 
                               tends to 0, 
                                 
                                    α
                                 
                               arbitrarily approaches 
                                 
                                    min
                                    {
                                    1
                                    +
                                    c
                                    ,
                                    2
                                    }
                                 
                              , a contradiction. □

By taking 
                           
                              c
                              =
                              1
                           
                         in Theorem 8, we obtain the following result.
                           Theorem 9
                           
                              Online pQTSP on a half-line has a lower bound of 2.
                           

We end this section with a lower bound for Online pTSP on a half-line, which implies the 2-competitive algorithm in Bonifaci (2007) is optimal.
                           Theorem 10
                           
                              Online pTSP on a half-line has a lower bound of 2.
                           

First, for any 
                                 
                                    α
                                 
                              -competitive algorithm with 
                                 
                                    α
                                    <
                                    2
                                 
                              , we can prove 
                                 
                                    (
                                    2
                                    -
                                    α
                                    )
                                    t
                                    ⩽
                                    p
                                    (
                                    t
                                    )
                                    ⩽
                                    (
                                    α
                                    -
                                    1
                                    )
                                    t
                                 
                               for any time t. Then, we can prove the conclusion. Since the argumentations are similar to the proofs of Lemma 5 and Theorem 8, we omit details here. □

Given a real line with the measure c of asymmetry, we can obtain a real line with the measure 
                           
                              1
                              /
                              c
                           
                         of asymmetry by reversing the positive direction of the line. Therefore, all the problems on a real line can be transformed into the cases with 
                           
                              c
                              ⩾
                              1
                           
                        . In the following discussion, we assume that 
                           
                              c
                              ⩾
                              1
                           
                        .

We first deal with Online AQTSP on a real line. As in the half-line case, we first prove that according to any deterministic 
                           
                              α
                           
                        -competitive algorithm the salesman cannot be too far away from the origin.
                           Lemma 6
                           
                              For any deterministic 
                              
                                 
                                    α
                                 
                              
                              -competitive algorithm with 
                              
                                 
                                    
                                       
                                          2
                                          c
                                          +
                                          1
                                       
                                       
                                          c
                                          +
                                          1
                                       
                                    
                                    ⩽
                                    α
                                    <
                                    2
                                 
                               
                              for Online AQTSP on a real line, it holds that
                              
                                 
                                    
                                       -
                                       
                                          
                                             t
                                          
                                          
                                             c
                                          
                                       
                                       ⩽
                                       p
                                       (
                                       t
                                       )
                                       ⩽
                                       
                                          
                                             (
                                             α
                                             -
                                             1
                                             )
                                             (
                                             c
                                             +
                                             1
                                             )
                                             -
                                             c
                                          
                                          
                                             
                                                
                                                   c
                                                
                                                
                                                   2
                                                
                                             
                                          
                                       
                                       t
                                    
                                 
                              
                              for any time t with 
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          v
                                          ∈
                                          A
                                          (
                                          t
                                          )
                                       
                                    
                                    
                                    
                                       
                                          w
                                       
                                       
                                          v
                                       
                                    
                                    <
                                    Q
                                 
                              
                              , where 
                              
                                 
                                    A
                                    (
                                    t
                                    )
                                 
                               
                              represents the set of vertices released no later than time t and located in 
                              
                                 
                                    
                                       
                                          
                                             -
                                             
                                                
                                                   t
                                                
                                                
                                                   c
                                                
                                             
                                             ,
                                             +
                                             ∞
                                          
                                       
                                    
                                 
                              .

Since the salesman can move at most at unit speed, 
                                 
                                    p
                                    (
                                    t
                                    )
                                    ⩾
                                    -
                                    t
                                    /
                                    c
                                 
                               for any time t. Suppose that at some time 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                               with 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          v
                                          ∈
                                          A
                                          (
                                          
                                             
                                                t
                                             
                                             
                                                0
                                             
                                          
                                          )
                                       
                                    
                                    
                                    
                                       
                                          w
                                       
                                       
                                          v
                                       
                                    
                                    <
                                    Q
                                 
                               the salesman is at 
                                 
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                    >
                                    
                                       
                                          (
                                          α
                                          -
                                          1
                                          )
                                          (
                                          c
                                          +
                                          1
                                          )
                                          -
                                          c
                                       
                                       
                                          
                                             
                                                c
                                             
                                             
                                                2
                                             
                                          
                                       
                                    
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                               when we run some 
                                 
                                    α
                                 
                              -competitive algorithm on instance 
                                 
                                    σ
                                 
                              . As in the proof of Lemma 4, we can derive an instance 
                                 
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                               that consists of all the vertices released before 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                               in 
                                 
                                    σ
                                 
                               and a vertex 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          0
                                       
                                    
                                 
                               located at 
                                 
                                    -
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    /
                                    c
                                 
                               with weight Q and release time 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                              . Then the salesman is at 
                                 
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                 
                               at time 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                               when running the 
                                 
                                    α
                                 
                              -competitive algorithm on 
                                 
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                              . Since 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          v
                                          ∈
                                          A
                                          (
                                          
                                             
                                                t
                                             
                                             
                                                0
                                             
                                          
                                          )
                                       
                                    
                                    
                                    
                                       
                                          w
                                       
                                       
                                          v
                                       
                                    
                                    <
                                    Q
                                 
                              , the salesman has to visit 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          0
                                       
                                    
                                 
                               to reach the quota. Then, 
                                 
                                    T
                                    (
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                    )
                                    ⩾
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    +
                                    cp
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                    +
                                    (
                                    c
                                    +
                                    1
                                    )
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    /
                                    c
                                    >
                                    α
                                    (
                                    c
                                    +
                                    1
                                    )
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    /
                                    c
                                 
                              . However, it can be seen that in the optimal solution the salesman visits only 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          0
                                       
                                    
                                 
                               at time 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                              . As a consequence we have 
                                 
                                    
                                       
                                          T
                                       
                                       
                                          ∗
                                       
                                    
                                    (
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                    )
                                    =
                                    (
                                    c
                                    +
                                    1
                                    )
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    /
                                    c
                                    <
                                    T
                                    (
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                    )
                                    /
                                    α
                                 
                              , a contradiction with the fact that the algorithm is 
                                 
                                    α
                                 
                              -competitive. □

Using the above constraint for the salesman, we prove the following theorem.
                           Theorem 11
                           
                              Online AQTSP on a real line has a lower bound of 2.
                           

Suppose to the contrary there is an 
                                 
                                    α
                                 
                              -competitive algorithm with competitive ratio 
                                 
                                    α
                                    <
                                    2
                                 
                              . Run the algorithm on the instance 
                                 
                                    σ
                                 
                               in which there are three vertices 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          1
                                       
                                    
                                    ,
                                    
                                    
                                       
                                          v
                                       
                                       
                                          2
                                       
                                    
                                    ,
                                    
                                    
                                       
                                          v
                                       
                                       
                                          3
                                       
                                    
                                 
                               released at 
                                 
                                    1
                                    ,
                                    -
                                    1
                                    ,
                                    0
                                 
                               at time 
                                 
                                    1
                                    ,
                                    
                                    c
                                    ,
                                    
                                    2
                                    c
                                    +
                                    3
                                 
                               respectively, and 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          1
                                       
                                    
                                    ,
                                    
                                    
                                       
                                          v
                                       
                                       
                                          2
                                       
                                    
                                    ,
                                    
                                    
                                       
                                          v
                                       
                                       
                                          3
                                       
                                    
                                 
                               have weights 
                                 
                                    Q
                                    /
                                    2
                                    ,
                                    
                                    Q
                                    /
                                    4
                                 
                               and 
                                 
                                    Q
                                    /
                                    4
                                 
                               respectively.

Let 
                                 
                                    f
                                    (
                                    t
                                    )
                                    =
                                    min
                                    {
                                    d
                                    (
                                    -
                                    1
                                    ,
                                    p
                                    (
                                    t
                                    )
                                    )
                                    ,
                                    d
                                    (
                                    p
                                    (
                                    t
                                    )
                                    ,
                                    1
                                    )
                                    }
                                    -
                                    t
                                    +
                                    c
                                 
                               be a function of time t, where 
                                 
                                    d
                                    (
                                    ·
                                    ,
                                    ·
                                    )
                                 
                               is the quasi-metric function as defined in formula (1). Clearly, 
                                 
                                    f
                                    (
                                    c
                                    )
                                    ⩾
                                    0
                                 
                              .

At time 
                                 
                                    t
                                    =
                                    c
                                 
                              , by Lemma 6, we have
                                 
                                    (3)
                                    
                                       -
                                       1
                                       ⩽
                                       p
                                       (
                                       c
                                       )
                                       ⩽
                                       
                                          
                                             (
                                             α
                                             -
                                             1
                                             )
                                             (
                                             c
                                             +
                                             1
                                             )
                                             -
                                             c
                                          
                                          
                                             c
                                          
                                       
                                       <
                                       
                                          
                                             1
                                          
                                          
                                             c
                                          
                                       
                                       .
                                    
                                 
                              Therefore, at time 
                                 
                                    t
                                    =
                                    c
                                    +
                                    1
                                 
                              , the position 
                                 
                                    p
                                    (
                                    c
                                    +
                                    1
                                    )
                                 
                               of the salesman satisfies
                                 
                                    
                                       -
                                       
                                          
                                             c
                                             +
                                             1
                                          
                                          
                                             c
                                          
                                       
                                       ⩽
                                       p
                                       (
                                       c
                                       )
                                       -
                                       
                                          
                                             1
                                          
                                          
                                             c
                                          
                                       
                                       ⩽
                                       p
                                       (
                                       c
                                       +
                                       1
                                       )
                                       ⩽
                                       p
                                       (
                                       c
                                       )
                                       +
                                       1
                                       <
                                       
                                          
                                             c
                                             +
                                             1
                                          
                                          
                                             c
                                          
                                       
                                       .
                                    
                                 
                              If 
                                 
                                    p
                                    (
                                    c
                                    +
                                    1
                                    )
                                    ∈
                                    [
                                    -
                                    (
                                    c
                                    +
                                    1
                                    )
                                    /
                                    c
                                    ,
                                    1
                                    ]
                                 
                              , then 
                                 
                                    min
                                    {
                                    d
                                    (
                                    -
                                    1
                                    ,
                                    p
                                    (
                                    c
                                    +
                                    1
                                    )
                                    )
                                    ,
                                    d
                                    (
                                    p
                                    (
                                    c
                                    +
                                    1
                                    )
                                    ,
                                    1
                                    )
                                    }
                                    ⩽
                                    1
                                 
                               and 
                                 
                                    f
                                    (
                                    c
                                    +
                                    1
                                    )
                                    ⩽
                                    0
                                 
                              . If 
                                 
                                    p
                                    (
                                    c
                                    +
                                    1
                                    )
                                    ∈
                                    (
                                    1
                                    ,
                                    (
                                    c
                                    +
                                    1
                                    )
                                    /
                                    c
                                    )
                                 
                              , then we have
                                 
                                    
                                       
                                          min
                                       
                                       {
                                       d
                                       (
                                       -
                                       1
                                       ,
                                       p
                                       (
                                       c
                                       +
                                       1
                                       )
                                       )
                                       ,
                                       d
                                       (
                                       p
                                       (
                                       c
                                       +
                                       1
                                       )
                                       ,
                                       1
                                       )
                                       }
                                       =
                                       d
                                       (
                                       p
                                       (
                                       c
                                       +
                                       1
                                       )
                                       ,
                                       1
                                       )
                                       ⩽
                                       1
                                    
                                 
                              and 
                                 
                                    f
                                    (
                                    c
                                    +
                                    1
                                    )
                                    ⩽
                                    0
                                 
                              . Hence, 
                                 
                                    f
                                    (
                                    c
                                    +
                                    1
                                    )
                                    ⩽
                                    0
                                 
                               always holds. Since 
                                 
                                    f
                                    (
                                    t
                                    )
                                 
                               is continuous, there exists some 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    ∈
                                    [
                                    c
                                    ,
                                    c
                                    +
                                    1
                                    ]
                                 
                               such that 
                                 
                                    f
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                    =
                                    0
                                 
                              . We analyze two cases.

Case 1. 
                                 
                                    d
                                    (
                                    -
                                    1
                                    ,
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                    )
                                    >
                                    d
                                    (
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                    ,
                                    1
                                    )
                                 
                              . In this case 
                                 
                                    f
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                    =
                                    0
                                 
                               implies 
                                 
                                    d
                                    (
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                    ,
                                    1
                                    )
                                    -
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    +
                                    c
                                    =
                                    0
                                 
                              , i.e., 
                                 
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                    =
                                    1
                                    -
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    +
                                    c
                                 
                               or 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    /
                                    c
                                 
                              . However, by (3) we have
                                 
                                    
                                       p
                                       (
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                       )
                                       ⩽
                                       p
                                       (
                                       c
                                       )
                                       +
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                       -
                                       c
                                       <
                                       
                                          
                                             1
                                          
                                          
                                             c
                                          
                                       
                                       +
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                       -
                                       c
                                       ⩽
                                       
                                          
                                             
                                                
                                                   t
                                                
                                                
                                                   0
                                                
                                             
                                          
                                          
                                             c
                                          
                                       
                                       ,
                                    
                                 
                              where the last inequality follows from 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    ⩽
                                    c
                                    +
                                    1
                                 
                              . So, 
                                 
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                    =
                                    1
                                    -
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    +
                                    c
                                 
                              . If 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    =
                                    c
                                    +
                                    1
                                 
                              , then 
                                 
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                    =
                                    0
                                 
                               and 
                                 
                                    d
                                    (
                                    -
                                    1
                                    ,
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                    )
                                    =
                                    d
                                    (
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                    ,
                                    1
                                    )
                                    =
                                    1
                                 
                              , which contradicts the assumption 
                                 
                                    d
                                    (
                                    -
                                    1
                                    ,
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                    )
                                    >
                                    d
                                    (
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                    ,
                                    1
                                    )
                                 
                              . Hence, 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    <
                                    c
                                    +
                                    1
                                 
                              .

By (3), the salesman cannot arrive at 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          1
                                       
                                    
                                 
                               before time c. Therefore, the earliest possible time to visit 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          1
                                       
                                    
                                 
                               and then arrive at 
                                 
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                 
                               is greater than 
                                 
                                    c
                                    +
                                    d
                                    (
                                    1
                                    ,
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                    =
                                    c
                                    +
                                    c
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    -
                                    c
                                    )
                                    ⩾
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                              , where the inequality holds for 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    ⩾
                                    c
                                 
                              . We deduce that the salesman has not visited 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          1
                                       
                                    
                                 
                               by time 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                              . Moreover, the earliest possible time to visit 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          2
                                       
                                    
                                 
                               and then arrive at 
                                 
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                 
                               is at least 
                                 
                                    d
                                    (
                                    0
                                    ,
                                    -
                                    1
                                    )
                                    +
                                    d
                                    (
                                    -
                                    1
                                    ,
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                    )
                                    =
                                    2
                                    (
                                    c
                                    +
                                    1
                                    )
                                    -
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    >
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                              , where the inequality is due to 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    <
                                    c
                                    +
                                    1
                                 
                              . Thus, 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          2
                                       
                                    
                                 
                               is also left unvisited by time 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                              .

Consider an instance 
                                 
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                               that consists of 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          1
                                       
                                    
                                    ,
                                    
                                    
                                       
                                          v
                                       
                                       
                                          2
                                       
                                    
                                 
                               as in 
                                 
                                    σ
                                 
                               and a new vertex 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          0
                                       
                                    
                                 
                               located at 
                                 
                                    -
                                    1
                                    +
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    -
                                    c
                                 
                               with weight 
                                 
                                    3
                                    Q
                                    /
                                    4
                                 
                               and release time 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                              . Since the vertices released before time 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                               in 
                                 
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                               are exactly the same as in 
                                 
                                    σ
                                 
                              , at time 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                               the salesman is also at 
                                 
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                 
                               when the 
                                 
                                    α
                                 
                              -competitive algorithm is run on 
                                 
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                              . Moreover, as discussed in the last paragraph neither 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          1
                                       
                                    
                                 
                               nor 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          2
                                       
                                    
                                 
                               has been visited by time 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                              . Consequently, in order to reach the quota the salesman has to visit 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          0
                                       
                                    
                                    ,
                                    
                                    
                                       
                                          v
                                       
                                       
                                          1
                                       
                                    
                                 
                               or 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          0
                                       
                                    
                                    ,
                                    
                                    
                                       
                                          v
                                       
                                       
                                          2
                                       
                                    
                                 
                               after time 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                              . In each situation the salesman has to move to the left by 
                                 
                                    2
                                    -
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    +
                                    c
                                 
                               and move to the right by one unit, so we have
                                 
                                    
                                       T
                                       (
                                       
                                          
                                             σ
                                          
                                          
                                             ˆ
                                          
                                       
                                       )
                                       ⩾
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                       +
                                       c
                                       (
                                       2
                                       -
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                       +
                                       c
                                       )
                                       +
                                       1
                                       =
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                       +
                                       c
                                       (
                                       1
                                       -
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                       +
                                       c
                                       )
                                       +
                                       c
                                       +
                                       1
                                       ⩾
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                       +
                                       (
                                       1
                                       -
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                       +
                                       c
                                       )
                                       +
                                       c
                                       +
                                       1
                                       =
                                       2
                                       (
                                       c
                                       +
                                       1
                                       )
                                       ,
                                    
                                 
                              where the second inequality follows from 
                                 
                                    c
                                    ⩾
                                    1
                                 
                               and 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    <
                                    c
                                    +
                                    1
                                 
                              . In the optimal solution the salesman first visits 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          2
                                       
                                    
                                 
                               at time c and then visits 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          0
                                       
                                    
                                 
                               at time 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                              . Therefore, 
                                 
                                    
                                       
                                          T
                                       
                                       
                                          ∗
                                       
                                    
                                    (
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                    )
                                    =
                                    c
                                    +
                                    1
                                 
                              , which implies 
                                 
                                    T
                                    (
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                    )
                                    ⩾
                                    2
                                    
                                       
                                          T
                                       
                                       
                                          ∗
                                       
                                    
                                    (
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                    )
                                    >
                                    α
                                    
                                       
                                          T
                                       
                                       
                                          ∗
                                       
                                    
                                    (
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                    )
                                 
                              , a contradiction.

Case 2. 
                                 
                                    d
                                    (
                                    -
                                    1
                                    ,
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                    )
                                    ⩽
                                    d
                                    (
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                    ,
                                    1
                                    )
                                 
                              . In this case 
                                 
                                    f
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                    =
                                    0
                                 
                               implies 
                                 
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                    =
                                    -
                                    1
                                    +
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    -
                                    c
                                 
                               or 
                                 
                                    -
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    /
                                    c
                                 
                              . Consider a new instance 
                                 
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                               that consists of 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          1
                                       
                                    
                                    ,
                                    
                                    
                                       
                                          v
                                       
                                       
                                          2
                                       
                                    
                                 
                               as in 
                                 
                                    σ
                                 
                               and a vertex 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          0
                                       
                                    
                                 
                               located at 0 with weight 
                                 
                                    Q
                                    /
                                    2
                                 
                               and release time 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                              . Since the vertices released before time 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                               in 
                                 
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                               are the same as in 
                                 
                                    σ
                                 
                              , at time 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                               the salesman is also at 
                                 
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                 
                               when we run the 
                                 
                                    α
                                 
                              -competitive algorithm on 
                                 
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                              .

If 
                                 
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                    =
                                    -
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    /
                                    c
                                 
                              , then the salesman always moves to the left at full speed before time 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                              . In order to reach the quota the salesman has to visit 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          1
                                       
                                    
                                 
                               after time 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                              , so
                                 
                                    
                                       T
                                       (
                                       
                                          
                                             σ
                                          
                                          
                                             ˆ
                                          
                                       
                                       )
                                       ⩾
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                       +
                                       d
                                       (
                                       p
                                       (
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                       )
                                       ,
                                       1
                                       )
                                       +
                                       d
                                       (
                                       1
                                       ,
                                       0
                                       )
                                       =
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                       +
                                       
                                          
                                             
                                                
                                                   t
                                                
                                                
                                                   0
                                                
                                             
                                          
                                          
                                             c
                                          
                                       
                                       +
                                       1
                                       +
                                       c
                                       ⩾
                                       2
                                       (
                                       c
                                       +
                                       1
                                       )
                                       ,
                                    
                                 
                              where the second inequality follows from 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    ⩾
                                    c
                                 
                              . In the optimal solution for 
                                 
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                               the salesman visits 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          1
                                       
                                    
                                    ,
                                    
                                    
                                       
                                          v
                                       
                                       
                                          0
                                       
                                    
                                 
                               at time 1 and 
                                 
                                    c
                                    +
                                    1
                                 
                               respectively. Hence 
                                 
                                    
                                       
                                          T
                                       
                                       
                                          ∗
                                       
                                    
                                    (
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                    )
                                    =
                                    1
                                    +
                                    c
                                 
                              . Then we have 
                                 
                                    T
                                    (
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                    )
                                    ⩾
                                    2
                                    
                                       
                                          T
                                       
                                       
                                          ∗
                                       
                                    
                                    (
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                    )
                                 
                              , a contradiction.

Next we suppose 
                                 
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                    =
                                    -
                                    1
                                    +
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    -
                                    c
                                 
                              . By (3), the salesman cannot arrive at 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          1
                                       
                                    
                                 
                               before time c. The earliest possible time to visit 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          1
                                       
                                    
                                 
                               and then arrive at 
                                 
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                 
                               is greater than 
                                 
                                    c
                                    +
                                    d
                                    (
                                    1
                                    ,
                                    p
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    )
                                    )
                                    ⩾
                                    c
                                    +
                                    c
                                    (
                                    2
                                    -
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                    +
                                    c
                                    )
                                    ⩾
                                    2
                                    c
                                    ⩾
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                              . We deduce that the salesman has not visited 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          1
                                       
                                    
                                 
                               by time 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                              . Therefore, to reach the quota the salesman has to visit 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          1
                                       
                                    
                                 
                               after time 
                                 
                                    
                                       
                                          t
                                       
                                       
                                          0
                                       
                                    
                                 
                              , and we have
                                 
                                    
                                       T
                                       (
                                       
                                          
                                             σ
                                          
                                          
                                             ˆ
                                          
                                       
                                       )
                                       ⩾
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                       +
                                       d
                                       (
                                       p
                                       (
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                       )
                                       ,
                                       1
                                       )
                                       +
                                       d
                                       (
                                       1
                                       ,
                                       0
                                       )
                                       =
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                       +
                                       (
                                       2
                                       -
                                       
                                          
                                             t
                                          
                                          
                                             0
                                          
                                       
                                       +
                                       c
                                       )
                                       +
                                       c
                                       =
                                       2
                                       (
                                       c
                                       +
                                       1
                                       )
                                       .
                                    
                                 
                              
                           

Combining it with 
                                 
                                    
                                       
                                          T
                                       
                                       
                                          ∗
                                       
                                    
                                    (
                                    
                                       
                                          σ
                                       
                                       
                                          ˆ
                                       
                                    
                                    )
                                    =
                                    1
                                    +
                                    c
                                 
                              , we obtain a contradiction. This completes the proof. □

For Online pAQTSP on a real line, by Theorem 8, 
                           
                              min
                              {
                              1
                              +
                              c
                              ,
                              2
                              }
                           
                         is a lower bound. Since 
                           
                              c
                              ⩾
                              1
                           
                        , the following theorem holds.
                           Theorem 12
                           
                              Online pAQTSP on a real line has a lower bound of 2.
                           

@&#ACKNOWLEDGEMENTS@&#

The authors are grateful to the anonymous referees for their constructive comments. This research is supported by the National Natural Science Foundation of China under Grants number 11171106, 11301184 and the Nature Science Foundation of Zhejiang Province (China) under Grant No. LQ12A01011.

@&#REFERENCES@&#

