@&#MAIN-TITLE@&#Rapid data quality oriented laser scan planning for dynamic construction environments

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           Deterministic relationships exist between laser scanning parameters and data quality.


                        
                        
                           
                           A laser scan planning method can ensure data quality for dynamic construction sites.


                        
                        
                           
                           Level of detail requirement (data density) are guaranteed for all targeted objects.


                        
                        
                           
                           The laser scan planning method can also achieve minimum data collection time.


                        
                        
                           
                           The computation time is greatly reduced compared with previous approaches.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Laser scanning

Sensor planning

Level of detail (LOD)

Inspection automation

Geometric data collection

Data quality

@&#ABSTRACT@&#


               
               
                  In construction environments, laser-scanning technologies can perform rapid spatial data collection to monitor construction progress, control construction quality, and support decisions about how to streamline field activities. However, even experienced surveyors cannot guarantee comprehensive laser scanning data collection in the field due to its constantly changing environment, wherein a large number of objects are subject to different data-quality requirements. The current practice of manually planned laser scanning often produces data of insufficient coverage, accuracy, and details. While redundant data collection can improve data quality, this process can also be inefficient and time-consuming. There are many studies on automatic sensor planning methods for guided laser-scanning data collection in the literature. However, fewer studies exist on how to handle exponentially large search space of laser scan plans that consider data quality requirements, such as accuracy and levels of details (LOD). This paper presents a rapid laser scan planning method that overcomes the computational complexity of planning laser scans based on diverse data quality requirements in the field. The goal is to minimize data collection time, while ensuring that the data quality requirements of all objects are satisfied. An analytical sensor model of laser scanning is constructed to create a “divide-and-conquer” strategy for rapid laser scan planning of dynamic environments wherein a graph is generated having specific data quality requirements (e.g., levels of accuracy and detail of certain objects) in terms of nodes and spatial relationships between these requirements as edges (e.g., distance, line-of-sight). A graph-coloring algorithm then decomposes the graph into sub-graphs and identifies “local” optimal laser scan plans of these sub-graphs. A solution aggregation algorithm then combines the local optimal plans to generate a plan for the entire site. Runtime analysis shows that the computation time of the proposed method does not increase exponentially with site size. Validation results of multiple case studies show that the proposed laser scan planning method can produce laser-scanning data with higher quality than data collected by experienced professionals, and without increasing the data collection time.
               
            

@&#INTRODUCTION@&#

Timely, detailed, and accurate geometrical information for decision making will improve the safety, quality, and productivity in construction projects [1,2]. Reliable sensing methods and comprehensive data collection are, therefore, requisite and highly desirable in construction management environments. Compared with conventional data collection methods such as laser tapes and the Global Navigation Satellite System, laser scanning technologies have many advantages that include high accuracy (mm level), faster data acquisition (up to hundreds of thousands of three-dimensional points per second), and more detailed spatial resolution [3–6]. Researchers and project engineers, thus, have been actively exploring the uses of laser scanning technology in construction.

The use of laser scanning in the construction field, however, comes with its own set of challenges. First, acquiring high quality 3D imagery data within the parameters of changing jobsites and diverse projects is challenging even for experienced engineers, primarily because data quality, environmental conditions, scanning locations, and the technical parameters of laser scanners (e.g., data density options) all combine to create complex interactions [7]. Second, 3D imagery data collection is time-consuming, and in a fast changing construction environment, the data can become quickly outdated, which leads to misleading information for decision makers. Finally, when using sophisticated 3D imagery data collection, project managers must hire experienced surveyors who can properly operate laser scanners and achieve high quality data collection, which can be costly [8,9].

To overcome the above challenges, this paper describes the development of a new automatic laser scan planning method. For a given jobsite, the objective is to determine a laser scan plan by specifying a sequence of scanning positions and parameters at each position as a means to minimize the data collection time while optimize the coverage and quality of the data. A fast and reliable laser scan planning method can thus save costs related to: (1) poor decision-making due to low-quality data; (2) interruptions in construction processes caused by data collection activities; and (3) training and hiring laser scanning professionals for high-quality data collection.

This paper attempts to address three questions that have remained unresolved in previous studies about the laser scan planning problem in construction:
                        
                           (1)
                           how to quantify and model the relationship between 3D imagery data quality and data collection parameters to develop a planning algorithm that uses the quantitative relationship for guiding the generation and assessment of laser scan plans [10];

how to explore the extremely large search space of laser scan plans in the limited time of decision-making in the context of dynamic environments [11,12];

how to achieve scalability of laser scan planning so that engineers can apply the same scan planning method to sites of different shapes and sizes [13].

To address the first question, we develop a 3D-imaging sensor model that shows the mathematical relationship between 3D data collection parameters and spatial data quality. To explore the second question, we propose a “divide-and-conquer” planning method for achieving efficient optimization of laser scan plans. To ensure the scalability of this laser scan planning method (question 3), the divide-and-conquer method adaptively adjusts its parameters according to building size and shape to produce reliable laser scan plans.

The organization of the paper is as follows: Section 2 introduces previous studies about laser scan planning, while highlighting the contributions of this paper. Section 3 provides a problem statement and a discussion of the three research questions. Section 4 describes the laser scan planning method. Section 5 validates the developed laser scan planning method using case studies on real buildings. Sections 6 and 7 present validation results, the conclusion, and future research plans.

Previous studies have stressed the importance of efficient and effective construction inspection using laser-scanning technologies. Akinci et al. [7] and Gordon et al. [11], for example, discuss how manual inspection could miss important site changes and defects, while the use of laser scanning could improve construction inspection through the delivery of timely and comprehensive as-built data. Turkan et al. [6] emphasize the need for effective laser scan planning to achieve effective construction progress control. Park et al. [14] illustrate the need for the best practices in collecting, searching, and reusing defect information for construction quality control in the field.

While construction industry practitioners acknowledge the importance of laser scanning, they are also confronted with the many obstacles that prevent both the effective and efficient use of laser scanning in construction [15–17]. One such obstacle is related to acquiring high quality 3D imageries for field applications [14]. Since 3D image quality greatly influences as-built Building Information Model (BIM) quality [18–20], examining quantitative relationships between data quality, scanning locations, and environmental factors become critical to the overall process [10,21–25]. In this context, manually reviewing a large number of such relationships is a challenging task, even for experienced engineers. In addition, manual data quality checks of numerous objects on jobsites against data quality requirements is tedious and error-prone [13]. This second obstacle is the difficulty of optimizing data collection time while minimizing interferences from the data collection and productive activities [7,11,26]. It has been shown, for example, that a badly designed workflow may need up to 300% data collection time when compared to a standard workflow for the same laser scanning task [26]. Yet another obstacle relates to the high cost of training and hiring laser scanning professionals [8,27]. Eid et al. found that the cost of laser scanning for the evaluation of forest inventory is approximately twice the cost of using photogrammetry [8].

Effective laser scan planning methods are lacking in the literature to date. Many existing studies focus on occlusion and visibility analysis for capturing the entire surface of a targeted object, but these studies lack detailed analysis of data quality [28–33]. Most are marked by high computational complexities that result in long computation times when generating laser scan plans [12,28,34]. Finally, the current array of studies fail to use flexible scanning parameters for each scanning position, according to varying data quality requirements of different objects [12,13,29,35]. Lack of flexibility can potentially lead to unnecessary planning computation time as well as redundant data collection. In a recent study by Ahn et al. [35], a semi-automatic scan planning method was used to decide the scanning position for achieving horizontal data quality requirements. However, it required manually selecting the same scanning resolution for all scans, thus failing to identify optimal plans that could have mixed use of scans with different resolutions. In addition, the proposed semi-automatic method was not able to handle buildings with curve-shaped walls.

The research methodology presented below will address this gap in order to improve the quality of field laser scanning significantly in dynamic construction environments.

The goal of laser scan planning is to create a method that can automatically generate laser scan plans for efficient collection of high quality 3D imageries of a given jobsite. The generated laser scan plans should achieve the following:
                        
                           (1)
                           The laser scan plans should specify scanning positions and parameters at those positions, so that an engineer with limited surveying experiences can rapidly collect comprehensive 3D imagery details of the jobsite with sufficient accuracy.

Following the laser scan plan, the engineer should be able to achieve optimal data collection time to minimize the interferences between data collection and construction workflows.

The time for generating a laser scan plan should be less than a few minutes in order to satisfy the dynamics of a construction jobsite.


                     Fig. 1
                      shows an IDEF0 process model describing the laser scan planning problem. The inputs of the IDEF0 process model are point goals, which include objects of interest or geometric features. Section 4.1.1 details the representations of point goals. The outputs of the IDEF0 are scanning positions and parameters, such as angular scanning resolutions that determine the 3D data point intensities. The controls of the IDEF0 process model include:
                        
                           (1)
                           Data quality requirements: For 3D imagery data, engineers require a certain level of accuracy (LOA, which indicates the measurement error) and level of detail (LOD, which measures the data density). The LOD requirement of laser scanning data in presented in Section 4.1.2.

Sensor model: An analytical sensor model describes the geometric principles of laser scanning, such as the relationship between laser scanning parameters and the point density of a laser scanning data. Given a sensor model, one can derive the scanning positions and the parameters at each position (e.g., angular resolution) to meet the data quality requirement (LOD). We use the concept of “feasible space” to visualize recommended data collection locations according to 3D data quality prediction based on a sensor model. Sections 4.1.3 and 4.1.4 present the sensor model developed in this research, and methods to utilize them for deriving feasible spaces of 3D data collection.

Schedule, budget, and space limits of a jobsite: These controls specify the spatiotemporal requirements of construction activities on a construction site, as well as cost information for quantifying the losses due to interferences between data collection and field activities.

Based on the IDEF0 model, we formulate here an optimization model of laser scan planning (Section 4.1.5). However, solving this optimization model is computationally expensive and challenging due to the exponentially large combinations of possible scanning locations and parameter values. For example, for a given a jobsite of 5000m2, the optimization model consists of more than 1500 constraints, 10,000 possible scanning positions, and 
                        
                           
                              
                                 10
                              
                              
                                 60
                              
                           
                        
                      calculations for solving this model with enumeration.

To shorten the calculation time, we propose a “divide-and-conquer” method to calculate the laser scan plan in a computationally efficient way. First, an algorithm is used to divide the overall construction site into several parts so that the large-scale optimization problem becomes smaller problems that require significantly fewer computations (Section 4.3). For each part of the construction site, the algorithm generates a laser scan plan and examines whether the correct execution of the plan could still result in any missing data (Section 4.4). Finally, the algorithm generates laser scan plans for addressing portions that are still missing (if there are any) in generated plans for parts of sites; it then combines the scan plans of all parts of the site together to form a complete laser scan plan for the entire site (Section 4.5).

Inspection goals are targets of construction inspection for various purposes, such as progress monitoring, site analysis, and quality control [11]. This study uses “point type” inspection goals (termed “point goals” hereafter) as the inputs of the laser scan planning method. The term “point goal” can be defined as important points that represent geometric information, e.g., the corners of a wall. For instance, if an engineer acquires precise midpoint and endpoint positions (considered as point goals) of a beam using laser scanning data, he or she can easily derive the length and deformation of this beam from point goals. We plan to analyze how point goals influence other types of inspection goals in future studies.

The purpose of identifying point goals on a construction site is to achieve a computationally efficient analysis of a site for rapid scan planning. Blaer et al. [12] used 1m3 cubes termed as “voxels” to represent the 3D model of a large jobsite during laser scan planning. However, this study found that such representation would be computationally expensive because the number of voxels grew exponentially with the size of the jobsite. On the other hand, the number of point goals can be around 100–200 depending on the number of objects on site, much less than the number of voxels. Handling point goals thus will consume considerably less computational time than processing voxels.

Point goals contain two elements of information necessary for laser scan planning: (1) coordinates of points and (2) the normal vector of the surface where a point goal locates. The latter indicates the direction from which laser scanners can capture the point goal [36–38]. The proposed laser scan planning method will conduct visibility checks of point goals, requiring both locations and surface orientations of point goals, as detailed in Section 4.3.2.

Level of Accuracy (LOA) and Level of Detail (LOD) are data quality requirements of point clouds. LOA represents the tolerance of positioning and dimensional errors, while LOD measures the data density within the neighborhood of each point goal in a point cloud. In this paper, the focus is on laser scan planning based on LOD requirements; LOA aspects will be studied in the future. In practice, different point goals can have different LOD requirements. For example, dense data may not be needed for simple geometries (e.g. flat walls). Instead, LOD may need to be increased for complex shapes, such as edges, openings, and decorations. Insufficient LOD causes missing details in data for further data processing and modeling, while excessively high LOD causes extra time and effort in data collection. As a result, if engineers specify LOD requirement for each point goal, they can collect 3D imageries containing all required geometric information while avoiding unnecessary dense data, which contributes to wasted time in data collection and processing.

At present, there is no widely accepted definition of LOD for 3D point clouds. Generally, researchers use two different methods to quantify LOD of point clouds. Dai et al. [9] use the number of points in a unit area (e.g., 1cm2, 1m2, etc.) to define the data density. MacKinnon et al. [39] assume that the laser source of a scanner rotates vertically to generate “scanning lines,” such that the distance between two adjacent points along a vertical scanning line is a measurement of the data density along the vertical direction. In addition, the laser source also rotates horizontally to create scanning lines to form a 3D image. The distance between neighboring scanning lines defines the data density along the horizontal direction. This study defines LOD similar to MacKinnon et al. [39]. The vertical LOD (
                              
                                 
                                    
                                       LOD
                                    
                                    
                                       v
                                    
                                 
                              
                           ) is the distance between a point and the next scanned point, and the angular resolution 
                              
                                 
                                    
                                       δ
                                    
                                    
                                       v
                                    
                                 
                              
                            is the difference between the elevation angles of these two adjacent points on a vertical scanning line. Horizontal LOD (
                              
                                 
                                    
                                       LOD
                                    
                                    
                                       h
                                    
                                 
                              
                           ) is the distance between two adjacent scanning lines, and the angular resolution 
                              
                                 
                                    
                                       δ
                                    
                                    
                                       h
                                    
                                 
                              
                            is the difference between the azimuths of the two adjacent scanning lines. For normal laser scanners, 
                              
                                 
                                    
                                       δ
                                    
                                    
                                       h
                                    
                                 
                                 =
                                 
                                    
                                       δ
                                    
                                    
                                       v
                                    
                                 
                                 ≡
                                 δ
                              
                           .

The laser scan planning algorithm needs to generate scanning parameters (scanning positions, angular resolutions at those positions) that can ensure acquiring 3D point cloud data with required LOD for all point goals. Therefore, it is essential to understand the geometric relationship between the data collection parameters and the densities of collected point clouds. In this paper, we define a “3D feasible space” as the set of scanning positions where a laser scanner can scan a point goal with required LOD using a defined angular resolution. Mathematically, a 3D feasible space 
                              
                                 
                                    
                                       S
                                    
                                    
                                       i
                                    
                                 
                              
                            of point goal 
                              
                                 i
                              
                            is the set of positions 
                              
                                 (
                                 x
                                 ,
                                 y
                                 ,
                                 z
                                 )
                              
                            in 3D space that satisfy:
                              
                                 (1)
                                 
                                    
                                       
                                          
                                             S
                                          
                                          
                                             i
                                          
                                       
                                       =
                                       
                                          
                                             
                                                (
                                                x
                                                ,
                                                y
                                                ,
                                                z
                                                )
                                                |
                                                
                                                   
                                                      s
                                                   
                                                   
                                                      h
                                                   
                                                
                                                (
                                                x
                                                ,
                                                y
                                                ,
                                                z
                                                ,
                                                δ
                                                )
                                                <
                                                
                                                   
                                                      LOD
                                                   
                                                   
                                                      h
                                                   
                                                
                                                ,
                                                
                                                
                                                   
                                                      s
                                                   
                                                   
                                                      v
                                                   
                                                
                                                (
                                                x
                                                ,
                                                y
                                                ,
                                                z
                                                ,
                                                δ
                                                )
                                                <
                                                
                                                   
                                                      LOD
                                                   
                                                   
                                                      v
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           where 
                              
                                 δ
                              
                            is the angular resolution of the laser scanner; 
                              
                                 
                                    
                                       s
                                    
                                    
                                       v
                                    
                                 
                              
                            is vertical surface sampling distance along the scanning line [10] and 
                              
                                 
                                    
                                       s
                                    
                                    
                                       h
                                    
                                 
                              
                            is the horizontal surface sampling distance, which is the spacing between adjacent scanning lines. If the scanning position is within the 3D feasible space 
                              
                                 
                                    
                                       S
                                    
                                    
                                       i
                                    
                                 
                              
                            of point goal 
                              
                                 i
                              
                            using angular resolution 
                              
                                 δ
                              
                           , the collected point cloud of point goal 
                              
                                 i
                              
                            will satisfy the horizontal LOD (
                              
                                 
                                    
                                       LOD
                                    
                                    
                                       h
                                    
                                 
                              
                           ) and vertical LOD (
                              
                                 
                                    
                                       LOD
                                    
                                    
                                       v
                                    
                                 
                                 )
                              
                           .


                           Fig. 2
                            shows the geometric principle of horizontal/vertical surface sampling distance of a laser scan. Without losing generality, we set the coordinate of the point goal as 
                              
                                 (
                                 0
                                 ,
                                 0
                                 ,
                                 0
                                 )
                              
                           , the normal vector of the surface as 
                              
                                 (
                                 0
                                 ,
                                 1
                                 ,
                                 0
                                 )
                              
                           , and the coordinate of the laser scanner as 
                              
                                 (
                                 x
                                 ,
                                 y
                                 ,
                                 z
                                 )
                              
                           . In order to derive the mathematical representation of the 3D feasible space of the point goal at (0, 0, 0), we derive the mathematical representations of sampling distances along vertical and horizontal directions:
                              
                                 
                                    
                                       
                                          
                                             s
                                          
                                          
                                             v
                                          
                                       
                                       =
                                       
                                          
                                             δ
                                             D
                                          
                                          
                                             
                                                
                                                   cosi
                                                
                                                
                                                   v
                                                
                                             
                                          
                                       
                                       =
                                       
                                          
                                             δ
                                             
                                                
                                                   
                                                      
                                                         x
                                                      
                                                      
                                                         2
                                                      
                                                   
                                                   +
                                                   
                                                      
                                                         y
                                                      
                                                      
                                                         2
                                                      
                                                   
                                                   +
                                                   
                                                      
                                                         z
                                                      
                                                      
                                                         2
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               x
                                                            
                                                            
                                                               2
                                                            
                                                         
                                                         +
                                                         
                                                            
                                                               y
                                                            
                                                            
                                                               2
                                                            
                                                         
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            
                                                               x
                                                            
                                                            
                                                               2
                                                            
                                                         
                                                         +
                                                         
                                                            
                                                               y
                                                            
                                                            
                                                               2
                                                            
                                                         
                                                         +
                                                         
                                                            
                                                               z
                                                            
                                                            
                                                               2
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                       =
                                       
                                          
                                             δ
                                             (
                                             
                                                
                                                   x
                                                
                                                
                                                   2
                                                
                                             
                                             +
                                             
                                                
                                                   y
                                                
                                                
                                                   2
                                                
                                             
                                             +
                                             
                                                
                                                   z
                                                
                                                
                                                   2
                                                
                                             
                                             )
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         x
                                                      
                                                      
                                                         2
                                                      
                                                   
                                                   +
                                                   
                                                      
                                                         y
                                                      
                                                      
                                                         2
                                                      
                                                   
                                                
                                             
                                          
                                       
                                       ,
                                       
                                       
                                          
                                             s
                                          
                                          
                                             h
                                          
                                       
                                       =
                                       
                                          
                                             δ
                                             D
                                          
                                          
                                             
                                                
                                                   cosi
                                                
                                                
                                                   h
                                                
                                             
                                          
                                       
                                       =
                                       
                                          
                                             δ
                                             (
                                             
                                                
                                                   x
                                                
                                                
                                                   2
                                                
                                             
                                             +
                                             
                                                
                                                   y
                                                
                                                
                                                   2
                                                
                                             
                                             +
                                             
                                                
                                                   z
                                                
                                                
                                                   2
                                                
                                             
                                             )
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         z
                                                      
                                                      
                                                         2
                                                      
                                                   
                                                   +
                                                   
                                                      
                                                         y
                                                      
                                                      
                                                         2
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           where D is the laser traveling distance; 
                              
                                 
                                    
                                       i
                                    
                                    
                                       h
                                    
                                 
                              
                            and 
                              
                                 
                                    
                                       i
                                    
                                    
                                       v
                                    
                                 
                              
                            are the horizontal and vertical incidence angle, respectively. The horizontal and vertical surface sampling distance in the point cloud around a point goal should satisfy the horizontal and vertical LOD requirement:
                              
                                 (2)
                                 
                                    
                                       
                                          
                                             s
                                          
                                          
                                             h
                                          
                                       
                                       ⩽
                                       
                                          
                                             LOD
                                          
                                          
                                             h
                                          
                                       
                                       ,
                                       
                                       y
                                       >
                                       0
                                    
                                 
                              
                           
                           
                              
                                 (3)
                                 
                                    
                                       
                                          
                                             s
                                          
                                          
                                             v
                                          
                                       
                                       ⩽
                                       
                                          
                                             LOD
                                          
                                          
                                             v
                                          
                                       
                                       ,
                                       
                                       y
                                       >
                                       0
                                    
                                 
                              
                           
                           Fig. 3
                           (a) and (b) presents the space consisting of all scanning positions that enable Eqs. (2) and (3), respectively. In practice, the data within the neighborhood of a point goal should satisfy both vertical and horizontal LOD requirements. As a result, the 3D feasible space of a point goal should be the intersection of these two 3D feasible spaces, as shown in Eq. (4) and visualized in Fig. 3(c).
                              
                                 (4)
                                 
                                    
                                       
                                          
                                             S
                                          
                                          
                                             i
                                          
                                       
                                       =
                                       
                                          
                                             
                                                (
                                                x
                                                ,
                                                y
                                                ,
                                                z
                                                )
                                                |
                                                
                                                   
                                                      
                                                         
                                                            
                                                               (
                                                               
                                                                  
                                                                     
                                                                        
                                                                           y
                                                                        
                                                                        
                                                                           2
                                                                        
                                                                     
                                                                     +
                                                                     
                                                                        
                                                                           z
                                                                        
                                                                        
                                                                           2
                                                                        
                                                                     
                                                                  
                                                               
                                                               -
                                                               
                                                                  
                                                                     
                                                                        
                                                                           LOD
                                                                        
                                                                        
                                                                           v
                                                                        
                                                                     
                                                                  
                                                                  
                                                                     2
                                                                     δ
                                                                  
                                                               
                                                               )
                                                            
                                                            
                                                               2
                                                            
                                                         
                                                         +
                                                         
                                                            
                                                               x
                                                            
                                                            
                                                               2
                                                            
                                                         
                                                         ⩽
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 LOD
                                                                              
                                                                              
                                                                                 v
                                                                              
                                                                           
                                                                        
                                                                        
                                                                           2
                                                                           δ
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                            
                                                               2
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               (
                                                               
                                                                  
                                                                     
                                                                        
                                                                           x
                                                                        
                                                                        
                                                                           2
                                                                        
                                                                     
                                                                     +
                                                                     
                                                                        
                                                                           y
                                                                        
                                                                        
                                                                           2
                                                                        
                                                                     
                                                                  
                                                               
                                                               -
                                                               
                                                                  
                                                                     
                                                                        
                                                                           LOD
                                                                        
                                                                        
                                                                           h
                                                                        
                                                                     
                                                                  
                                                                  
                                                                     2
                                                                     δ
                                                                  
                                                               
                                                               )
                                                            
                                                            
                                                               2
                                                            
                                                         
                                                         +
                                                         
                                                            
                                                               z
                                                            
                                                            
                                                               2
                                                            
                                                         
                                                         ⩽
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 LOD
                                                                              
                                                                              
                                                                                 h
                                                                              
                                                                           
                                                                        
                                                                        
                                                                           2
                                                                           δ
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                            
                                                               2
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         y
                                                         >
                                                         0
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

A 2D feasible area is the horizontal cutting area of a 3D feasible space at the height of the selected laser scanner. If a surveyor installs the laser scanner on the ground, then the 2D feasible area of point goal 
                              
                                 i
                              
                            (
                              
                                 
                                    
                                       A
                                    
                                    
                                       i
                                    
                                 
                              
                           ) should show the scanning positions on the ground to scan the point goal 
                              
                                 i
                              
                            with LOD requirements, as shown in


                           Fig. 3(d) and described in the equation below:
                              
                                 
                                    
                                       
                                          
                                             A
                                          
                                          
                                             i
                                          
                                       
                                       =
                                       
                                          
                                             
                                                (
                                                x
                                                ,
                                                y
                                                )
                                                |
                                                
                                                   
                                                      s
                                                   
                                                   
                                                      h
                                                   
                                                
                                                (
                                                x
                                                ,
                                                y
                                                ,
                                                δ
                                                )
                                                <
                                                
                                                   
                                                      LOD
                                                   
                                                   
                                                      h
                                                   
                                                
                                                ,
                                                
                                                
                                                   
                                                      s
                                                   
                                                   
                                                      v
                                                   
                                                
                                                (
                                                x
                                                ,
                                                y
                                                ,
                                                δ
                                                )
                                                <
                                                
                                                   
                                                      LOD
                                                   
                                                   
                                                      v
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           where 
                              
                                 
                                    
                                       s
                                    
                                    
                                       v
                                    
                                 
                              
                            is the vertical surface sampling distance; 
                              
                                 
                                    
                                       s
                                    
                                    
                                       h
                                    
                                 
                              
                            is the horizontal sampling distance; 
                              
                                 δ
                              
                            is the angular resolution (see 3.2.3). Considering a case where all point goals are on the surface perpendicular to the ground, such as points on a vertical wall, we set up the laser scanner position as 
                              
                                 (
                                 x
                                 ,
                                 y
                                 ,
                                 Δ
                                 h
                                 )
                              
                           , where 
                              
                                 Δ
                                 h
                              
                            is the vertical distance between the point goal and the laser scanner. The mathematical representation of the 2D feasible area of a point goal is as Eq. (5) below.


                           Fig. 3(e) visualize this 2D feasible space.
                              
                                 (5)
                                 
                                    
                                       
                                          
                                             A
                                          
                                          
                                             i
                                          
                                       
                                       =
                                       
                                          
                                             
                                                (
                                                x
                                                ,
                                                y
                                                )
                                                |
                                                
                                                   
                                                      
                                                         
                                                            
                                                               δ
                                                               (
                                                               
                                                                  
                                                                     x
                                                                  
                                                                  
                                                                     2
                                                                  
                                                               
                                                               +
                                                               
                                                                  
                                                                     y
                                                                  
                                                                  
                                                                     2
                                                                  
                                                               
                                                               +
                                                               Δ
                                                               
                                                                  
                                                                     h
                                                                  
                                                                  
                                                                     2
                                                                  
                                                               
                                                               )
                                                            
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           y
                                                                        
                                                                        
                                                                           2
                                                                        
                                                                     
                                                                     +
                                                                     Δ
                                                                     
                                                                        
                                                                           h
                                                                        
                                                                        
                                                                           2
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                         ⩽
                                                         
                                                            
                                                               LOD
                                                            
                                                            
                                                               h
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               δ
                                                               (
                                                               
                                                                  
                                                                     x
                                                                  
                                                                  
                                                                     2
                                                                  
                                                               
                                                               +
                                                               
                                                                  
                                                                     y
                                                                  
                                                                  
                                                                     2
                                                                  
                                                               
                                                               +
                                                               Δ
                                                               
                                                                  
                                                                     h
                                                                  
                                                                  
                                                                     2
                                                                  
                                                               
                                                               )
                                                            
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           x
                                                                        
                                                                        
                                                                           2
                                                                        
                                                                     
                                                                     +
                                                                     
                                                                        
                                                                           y
                                                                        
                                                                        
                                                                           2
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                         ⩽
                                                         
                                                            
                                                               LOD
                                                            
                                                            
                                                               v
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         y
                                                         >
                                                         0
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           The set 
                              
                                 
                                    
                                       A
                                    
                                    
                                       i
                                    
                                 
                              
                            in Eq. (5) should not be an empty set; otherwise, no positions can achieve the required LOD for point goal i. To guarantee that 
                              
                                 
                                    
                                       A
                                    
                                    
                                       i
                                    
                                 
                              
                            is non-empty, 
                              
                                 δ
                              
                           , 
                              
                                 Δ
                                 h
                              
                           , 
                              
                                 
                                    
                                       LOD
                                    
                                    
                                       h
                                    
                                 
                              
                           , and 
                              
                                 
                                    
                                       LOD
                                    
                                    
                                       v
                                    
                                 
                              
                            should meet certain requirements described in Eq. (6):
                              
                                 (6)
                                 
                                    
                                       
                                          
                                             
                                                
                                                   Δ
                                                   h
                                                   ·
                                                   δ
                                                   ⩽
                                                   
                                                      
                                                         δ
                                                         (
                                                         
                                                            
                                                               x
                                                            
                                                            
                                                               2
                                                            
                                                         
                                                         +
                                                         
                                                            
                                                               y
                                                            
                                                            
                                                               2
                                                            
                                                         
                                                         +
                                                         Δ
                                                         
                                                            
                                                               h
                                                            
                                                            
                                                               2
                                                            
                                                         
                                                         )
                                                      
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     y
                                                                  
                                                                  
                                                                     2
                                                                  
                                                               
                                                               +
                                                               Δ
                                                               
                                                                  
                                                                     h
                                                                  
                                                                  
                                                                     2
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   ⩽
                                                   
                                                      
                                                         LOD
                                                      
                                                      
                                                         h
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   2
                                                   Δ
                                                   h
                                                   ·
                                                   δ
                                                   ⩽
                                                   
                                                      
                                                         δ
                                                         (
                                                         
                                                            
                                                               x
                                                            
                                                            
                                                               2
                                                            
                                                         
                                                         +
                                                         
                                                            
                                                               y
                                                            
                                                            
                                                               2
                                                            
                                                         
                                                         +
                                                         Δ
                                                         
                                                            
                                                               h
                                                            
                                                            
                                                               2
                                                            
                                                         
                                                         )
                                                      
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     x
                                                                  
                                                                  
                                                                     2
                                                                  
                                                               
                                                               +
                                                               
                                                                  
                                                                     y
                                                                  
                                                                  
                                                                     2
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   ⩽
                                                   
                                                      
                                                         LOD
                                                      
                                                      
                                                         v
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                    ⇒
                                    δ
                                    ⩽
                                    min
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         LOD
                                                      
                                                      
                                                         v
                                                      
                                                   
                                                
                                                
                                                   2
                                                   Δ
                                                   h
                                                
                                             
                                             ,
                                             
                                                
                                                   
                                                      
                                                         LOD
                                                      
                                                      
                                                         h
                                                      
                                                   
                                                
                                                
                                                   Δ
                                                   h
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           The maximum value of 
                              
                                 δ
                              
                            that satisfies Eq. (6) will be the sparsest resolution 
                              
                                 
                                    
                                       δ
                                    
                                    
                                       sparsest
                                    
                                 
                              
                            qualified to capture a certain point goal with the required LOD. Otherwise, the feasible spaces of these points could have no intersections with the horizontal plane passing through the laser source, so that no positions on the ground could achieve the required LOD for the considered point goal.

This section uses an optimization model to show the computational complexity of solving the laser scan planning problem. The decision variables of this optimization model are:
                              
                                 (1)
                                 The number of scans needed is 
                                       
                                          k
                                       
                                    . When solving the optimization model, the optimal number of scans needed for the entire jobsite is unknown. As a result, we will try different iterations of k increasing from 1 to m, where m is the possible upper limit of the number of scans.

Angular resolution of the scanner 
                                       
                                          
                                             
                                                resolution
                                             
                                             
                                                j
                                                ,
                                                k
                                             
                                          
                                       
                                    , which is the scanning angular resolution used at the scanning position j when the total number of scans is 
                                       
                                          k
                                       
                                    .

The objective function of the optimization model is the scanning time T:
                              
                                 (7)
                                 
                                    
                                       Min
                                       :
                                       T
                                       =
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                j
                                                =
                                                1
                                             
                                             
                                                k
                                             
                                          
                                       
                                       T
                                       (
                                       
                                          
                                             resolution
                                          
                                          
                                             j
                                             ,
                                             k
                                          
                                       
                                       )
                                       ,
                                       j
                                       ⩽
                                       k
                                       ,
                                       k
                                       ⩽
                                       m
                                    
                                 
                              
                           where 
                              
                                 T
                                 (
                                 
                                    
                                       resolution
                                    
                                    
                                       j
                                       ,
                                       k
                                    
                                 
                                 )
                              
                            is the scanning time of the jth scan, a function of 
                              
                                 
                                    
                                       resolution
                                    
                                    
                                       j
                                       ,
                                       k
                                    
                                 
                              
                           .

The constraints of this optimization model (Eq. (8)) should be that at least one scan exists within the feasible area of every point goal. In these constraints, six parameters form the representation of a point goal: 
                              
                                 [
                                 
                                    
                                       x
                                    
                                    
                                       i
                                    
                                 
                                 ,
                                 
                                    
                                       y
                                    
                                    
                                       i
                                    
                                 
                                 ,
                                 
                                    
                                       z
                                    
                                    
                                       i
                                    
                                 
                                 ,
                                 
                                    
                                       x
                                    
                                    
                                       oi
                                    
                                 
                                 ,
                                 
                                    
                                       y
                                    
                                    
                                       oi
                                    
                                 
                                 ,
                                 
                                    
                                       LOD
                                    
                                    
                                       i
                                    
                                 
                                 ]
                              
                           . 
                              
                                 (
                                 
                                    
                                       x
                                    
                                    
                                       i
                                    
                                 
                                 ,
                                 
                                    
                                       y
                                    
                                    
                                       i
                                    
                                 
                                 ,
                                 
                                    
                                       z
                                    
                                    
                                       i
                                    
                                 
                                 )
                              
                            represents the coordinates of point goal 
                              
                                 i
                              
                           . The number of point goals is 
                              
                                 n
                              
                           . 
                              
                                 (
                                 
                                    
                                       x
                                    
                                    
                                       oi
                                    
                                 
                                 ,
                                 
                                    
                                       y
                                    
                                    
                                       oi
                                    
                                 
                                 )
                              
                            represents the unit normal vector of the surface where point goal 
                              
                                 i
                              
                            locates. This is because this study assumes that all point goals are on flat surfaces perpendicular to the ground (i.e., vertical walls). 
                              
                                 
                                    
                                       LOD
                                    
                                    
                                       i
                                    
                                 
                              
                            represents the level of detail requirements of 
                              
                                 i
                              
                           . 
                              
                                 h
                              
                            is the height of the laser scanner. In addition, 
                              
                                 [
                                 
                                    
                                       x
                                    
                                    
                                       ∗
                                    
                                 
                                 ,
                                 
                                    
                                       y
                                    
                                    
                                       ∗
                                    
                                 
                                 ]
                              
                            is the horizontal coordinates of scanning position in the local point goal coordinate system, which has the origin at point goal 
                              
                                 i
                              
                           , y-axis is the normal vector of the surface where point goal 
                              
                                 i
                              
                            locates, and z-axis is the zenith direction. 
                              
                                 [
                                 
                                    
                                       x
                                    
                                    
                                       j
                                       ,
                                       k
                                    
                                 
                                 ,
                                 
                                    
                                       y
                                    
                                    
                                       j
                                       ,
                                       k
                                    
                                 
                                 ]
                              
                            is the horizontal coordinate of the scanning position 
                              
                                 j
                              
                            in the global coordinate system. 
                              
                                 
                                    
                                       s
                                    
                                    
                                       i
                                    
                                    
                                       j
                                       ,
                                       k
                                    
                                 
                              
                            shows whether the scan at scanning position 
                              
                                 j
                              
                            covers point goal 
                              
                                 i
                              
                           . When 
                              
                                 
                                    
                                       s
                                    
                                    
                                       i
                                    
                                    
                                       j
                                       ,
                                       k
                                    
                                 
                                 =
                                 1
                              
                           , the scan at scanning position covers the point goal 
                              
                                 i
                              
                            with sufficient LOD with the angular resolution 
                              
                                 
                                    
                                       δ
                                    
                                    
                                       j
                                       ,
                                       k
                                    
                                 
                              
                            when the number of scans is 
                              
                                 k
                              
                           .
                              
                                 (8)
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            s
                                                         
                                                         
                                                            i
                                                         
                                                         
                                                            j
                                                            ,
                                                            k
                                                         
                                                      
                                                      =
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        1
                                                                        ,
                                                                        if
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    
                                                                                       
                                                                                          
                                                                                             
                                                                                                (
                                                                                                
                                                                                                   
                                                                                                      x
                                                                                                   
                                                                                                   
                                                                                                      ∗
                                                                                                      2
                                                                                                   
                                                                                                
                                                                                                +
                                                                                                
                                                                                                   
                                                                                                      y
                                                                                                   
                                                                                                   
                                                                                                      ∗
                                                                                                      2
                                                                                                   
                                                                                                
                                                                                                +
                                                                                                
                                                                                                   
                                                                                                      (
                                                                                                      h
                                                                                                      -
                                                                                                      
                                                                                                         
                                                                                                            z
                                                                                                         
                                                                                                         
                                                                                                            i
                                                                                                         
                                                                                                      
                                                                                                      )
                                                                                                   
                                                                                                   
                                                                                                      2
                                                                                                   
                                                                                                
                                                                                                )
                                                                                                
                                                                                                   
                                                                                                      δ
                                                                                                   
                                                                                                   
                                                                                                      j
                                                                                                      .
                                                                                                      k
                                                                                                   
                                                                                                
                                                                                             
                                                                                             
                                                                                                
                                                                                                   
                                                                                                      
                                                                                                         
                                                                                                            x
                                                                                                         
                                                                                                         
                                                                                                            ∗
                                                                                                            2
                                                                                                         
                                                                                                      
                                                                                                      +
                                                                                                      
                                                                                                         
                                                                                                            y
                                                                                                         
                                                                                                         
                                                                                                            ∗
                                                                                                            2
                                                                                                         
                                                                                                      
                                                                                                   
                                                                                                
                                                                                             
                                                                                          
                                                                                          ⩽
                                                                                          
                                                                                             
                                                                                                LOD
                                                                                             
                                                                                             
                                                                                                i
                                                                                             
                                                                                          
                                                                                       
                                                                                    
                                                                                    
                                                                                       
                                                                                          
                                                                                             
                                                                                                (
                                                                                                
                                                                                                   
                                                                                                      x
                                                                                                   
                                                                                                   
                                                                                                      ∗
                                                                                                      2
                                                                                                   
                                                                                                
                                                                                                +
                                                                                                
                                                                                                   
                                                                                                      y
                                                                                                   
                                                                                                   
                                                                                                      ∗
                                                                                                      2
                                                                                                   
                                                                                                
                                                                                                +
                                                                                                
                                                                                                   
                                                                                                      (
                                                                                                      h
                                                                                                      -
                                                                                                      
                                                                                                         
                                                                                                            z
                                                                                                         
                                                                                                         
                                                                                                            i
                                                                                                         
                                                                                                      
                                                                                                      )
                                                                                                   
                                                                                                   
                                                                                                      2
                                                                                                   
                                                                                                
                                                                                                )
                                                                                                
                                                                                                   
                                                                                                      δ
                                                                                                   
                                                                                                   
                                                                                                      j
                                                                                                      ,
                                                                                                      k
                                                                                                   
                                                                                                
                                                                                             
                                                                                             
                                                                                                
                                                                                                   
                                                                                                      
                                                                                                         
                                                                                                            y
                                                                                                         
                                                                                                         
                                                                                                            ∗
                                                                                                            2
                                                                                                         
                                                                                                      
                                                                                                      +
                                                                                                      
                                                                                                         
                                                                                                            (
                                                                                                            h
                                                                                                            -
                                                                                                            
                                                                                                               
                                                                                                                  z
                                                                                                               
                                                                                                               
                                                                                                                  i
                                                                                                               
                                                                                                            
                                                                                                            )
                                                                                                         
                                                                                                         
                                                                                                            2
                                                                                                         
                                                                                                      
                                                                                                   
                                                                                                
                                                                                             
                                                                                          
                                                                                          ⩽
                                                                                          
                                                                                             
                                                                                                LOD
                                                                                             
                                                                                             
                                                                                                i
                                                                                             
                                                                                          
                                                                                       
                                                                                    
                                                                                    
                                                                                       
                                                                                          
                                                                                             
                                                                                                
                                                                                                   
                                                                                                      
                                                                                                         
                                                                                                            
                                                                                                               
                                                                                                                  x
                                                                                                               
                                                                                                               
                                                                                                                  j
                                                                                                                  ,
                                                                                                                  k
                                                                                                               
                                                                                                            
                                                                                                         
                                                                                                      
                                                                                                      
                                                                                                         
                                                                                                            
                                                                                                               
                                                                                                                  y
                                                                                                               
                                                                                                               
                                                                                                                  j
                                                                                                                  ,
                                                                                                                  k
                                                                                                               
                                                                                                            
                                                                                                         
                                                                                                      
                                                                                                   
                                                                                                
                                                                                             
                                                                                          
                                                                                          =
                                                                                          
                                                                                             
                                                                                                
                                                                                                   
                                                                                                      
                                                                                                         
                                                                                                            
                                                                                                               
                                                                                                                  x
                                                                                                               
                                                                                                               
                                                                                                                  i
                                                                                                               
                                                                                                            
                                                                                                         
                                                                                                      
                                                                                                      
                                                                                                         
                                                                                                            
                                                                                                               
                                                                                                                  y
                                                                                                               
                                                                                                               
                                                                                                                  i
                                                                                                               
                                                                                                            
                                                                                                         
                                                                                                      
                                                                                                   
                                                                                                
                                                                                             
                                                                                          
                                                                                          +
                                                                                          
                                                                                             
                                                                                                
                                                                                                   
                                                                                                      
                                                                                                         
                                                                                                            
                                                                                                               
                                                                                                                  y
                                                                                                               
                                                                                                               
                                                                                                                  io
                                                                                                               
                                                                                                            
                                                                                                         
                                                                                                         
                                                                                                            -
                                                                                                            
                                                                                                               
                                                                                                                  x
                                                                                                               
                                                                                                               
                                                                                                                  io
                                                                                                               
                                                                                                            
                                                                                                         
                                                                                                      
                                                                                                      
                                                                                                         
                                                                                                            
                                                                                                               
                                                                                                                  x
                                                                                                               
                                                                                                               
                                                                                                                  io
                                                                                                               
                                                                                                            
                                                                                                         
                                                                                                         
                                                                                                            
                                                                                                               
                                                                                                                  y
                                                                                                               
                                                                                                               
                                                                                                                  io
                                                                                                               
                                                                                                            
                                                                                                         
                                                                                                      
                                                                                                   
                                                                                                
                                                                                             
                                                                                          
                                                                                          
                                                                                             
                                                                                                
                                                                                                   
                                                                                                      
                                                                                                         
                                                                                                            
                                                                                                               
                                                                                                                  x
                                                                                                               
                                                                                                               
                                                                                                                  ∗
                                                                                                               
                                                                                                            
                                                                                                         
                                                                                                      
                                                                                                      
                                                                                                         
                                                                                                            
                                                                                                               
                                                                                                                  y
                                                                                                               
                                                                                                               
                                                                                                                  ∗
                                                                                                               
                                                                                                            
                                                                                                         
                                                                                                      
                                                                                                   
                                                                                                
                                                                                             
                                                                                          
                                                                                       
                                                                                    
                                                                                 
                                                                              
                                                                           
                                                                        
                                                                     
                                                                  
                                                                  
                                                                     
                                                                        0
                                                                        ,
                                                                        
                                                                        else
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                      ,
                                                      i
                                                      ∈
                                                      [
                                                      1
                                                      ,
                                                      n
                                                      ]
                                                      ,
                                                      j
                                                      ∈
                                                      [
                                                      1
                                                      ,
                                                      k
                                                      ]
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            
                                                               ∑
                                                            
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            
                                                               k
                                                            
                                                         
                                                      
                                                      
                                                         
                                                            s
                                                         
                                                         
                                                            i
                                                         
                                                         
                                                            j
                                                            ,
                                                            k
                                                         
                                                      
                                                      ⩾
                                                      1
                                                      ,
                                                      i
                                                      ∈
                                                      [
                                                      1
                                                      ,
                                                      n
                                                      ]
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            resolution
                                                         
                                                         
                                                            j
                                                            ,
                                                            k
                                                         
                                                      
                                                      ∈
                                                      
                                                         
                                                            
                                                               1
                                                               ,
                                                               
                                                                  
                                                                     1
                                                                  
                                                                  
                                                                     2
                                                                  
                                                               
                                                               ,
                                                               
                                                                  
                                                                     1
                                                                  
                                                                  
                                                                     4
                                                                  
                                                               
                                                               ,
                                                               
                                                                  
                                                                     1
                                                                  
                                                                  
                                                                     5
                                                                  
                                                               
                                                               ,
                                                               
                                                                  
                                                                     1
                                                                  
                                                                  
                                                                     8
                                                                  
                                                               
                                                               ,
                                                               
                                                                  
                                                                     1
                                                                  
                                                                  
                                                                     10
                                                                  
                                                               
                                                               ,
                                                               
                                                                  
                                                                     1
                                                                  
                                                                  
                                                                     16
                                                                  
                                                               
                                                               ,
                                                               
                                                                  
                                                                     1
                                                                  
                                                                  
                                                                     20
                                                                  
                                                               
                                                               ,
                                                               
                                                                  
                                                                     1
                                                                  
                                                                  
                                                                     32
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            δ
                                                         
                                                         
                                                            j
                                                            ,
                                                            k
                                                         
                                                      
                                                      =
                                                      
                                                         
                                                            π
                                                         
                                                         
                                                            20000
                                                            ∗
                                                            
                                                               
                                                                  resolution
                                                               
                                                               
                                                                  j
                                                                  ,
                                                                  k
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           Assuming that 10,000 possible scanning positions and 200 point goals are in the whole jobsite. Also, the maximum number of scans necessary is 20. We need to solve 
                              
                                 200
                                 ×
                                 3
                                 ×
                                 
                                    
                                       ∑
                                    
                                    
                                       k
                                       =
                                       1
                                    
                                    
                                       20
                                    
                                 
                                 
                                    
                                       C
                                    
                                    
                                       10000
                                    
                                    
                                       k
                                    
                                 
                                 ×
                                 9
                                 =
                                 2.182
                                 ∗
                                 
                                    
                                       10
                                    
                                    
                                       65
                                    
                                 
                              
                            (“9” is the number of resolution options available from the laser scanner) inequalities and equations to find the solution using exhaustive searching, which is infeasible using any existing computing platform. We thus explore a new approach for solving such a large-scale optimization problem in a more efficient way, namely, the “divide-and-conquer” approach, as described in the following section.

In order to reduce the computational complexity of the optimization problem described in the previous section, the laser scan planning algorithm developed in this study first divides the jobsite into parts. It generates a laser scan plan for each part of the jobsite, and then combines the solutions of these jobsite parts into a comprehensive laser scan plan for the whole jobsite. We term this approach as the “divide-and-conquer” method of laser scan planning.

The inputs of this divide-and-conquer method are point goals. Field engineers can derive point goals from as-designed models of jobsites, field photos, or sparse 3D imageries. Specifically, some studies generate point goals based on as-designed building information models [7]. Some image analysis methods can identify parts of the images where detailed spatial data is necessary, such as parts that have discontinuities of color and changes in curvatures [40]. Given point goals extracted from various data sources, the proposed algorithm can then automatically generate the laser scan plan through three steps, as shown in Fig. 4
                        :
                           
                              1.
                              
                                 Clustering the point goals into different clusters according to contradicting visibility relationship analysis (Section 4.3, Fig. 4b):

Different areas on a jobsite may require different LODs, leading to different angular resolution requirements. If the algorithm configures scanning resolution for each individual point goal, the computational complexity of the algorithm will be high. On the other hand, if the algorithm configures the angular resolution for all point goals as a whole, the imaging plan will always satisfy the most LOD-demanding point goals, and thus waste time on generating unnecessary dense data for point goals that require lower LODs. Instead of using the above two inefficient planning strategies, the divide-and-conquer method will first cluster point goals that have similar LOD requirements and locate close to each other and then determine laser scanning positions and resolution for each clusters.

Overall, the algorithm automatically detects whether a single scan is able to capture two point goals with sufficient data quality, termed as the “contradicting visibility relationship” between two goals. Then the algorithm groups all point goals that have no contradicting visibility relationship with each other into one cluster, so that the number of clusters is the minimum number of necessary scans to satisfy the data quality requirements of all point goals.
                           
                              2.
                              
                                 Determining scanning positions and resolutions for clusters of point goals to satisfy the data quality requirements (Section 4.4, Fig. 4c):

Within each cluster, the algorithm first derives the feasible area (discussed in Section 4.1.4) for every point goal. The algorithm then determines the minimum scanning positions according to the feasible areas, ensuring the coverage of all point goals in the current cluster. Some scans may only cover a few point goals at the borders between clusters (e.g., scan 1b in the orange group and scan 2b in the blue group in Fig. 4c) so that adding them into the plan would actually cause redundancies. The algorithm thus ignores any scans that only cover a small portion of total point goals in order to address most point goals with least number of scans to improve scanning efficiency. In the next step, the planning algorithm will address those missed point goals through a “garbage collection” step.
                           
                              3.
                              
                                 Addressing point goals not covered by the laser scan plan through “garbage collection” (Section 4.5, Fig. 4d)

After determining scanning positions and the angular resolution for each cluster of point goals, the algorithm identifies point goals at the borders between clusters and assigns redundant scans as the “garbage”. The algorithm then combines these point goals into a new cluster, thereby determining the angular resolution and positions of this new cluster. This particular algorithm is named as “garbage collection” in this paper. Finally, the algorithm combines all scanning positions and their respective angular resolutions to form the laser scan plan based on plans that address clusters of point goals.

The proposed laser scan planning method uses two levels of simplification to reduce the computational complexity. The first level of simplification generates point goals to represent critical information requirements across the whole jobsite. The second level of simplification clusters point goals to decompose the jobsite into parts, and generates laser scan plans for each cluster of point goals, which are parts of the jobsite. The objective of point goal clustering is to divide them into the minimum number of clusters so that the planning method would consider fewer clusters, while having as many possible point goals within one cluster that are visible to a single scanning position. This enables the algorithm to choose the optimal scanning position and resolution for the point goals in each cluster. Therefore, the method strives to minimize the number of scans for covering all point goals, thereby improving the overall computational efficiency.


                        Fig. 5
                         shows that the clustering algorithm uses several rules to assess whether every pair of point goal is visible at certain scanning positions, hereby termed as “contradicting visibility relationship.” For example, if two point goals are on two sides of a wall, the visibility of these two points contradicts with each other. Another example of contradicting visibility relationship is two point goals that are too far away from each other. The rules assessing the contradicting visibility relationship of point goals (Section 4.3.2) involve three variables: (1) the angle between the surface orientation at two point goals, (2) the distance between two point goals, and (3) “featured length” of the jobsite determined by the elevation and LOD of all point goals (Section 4.3.1). Knowing the contradicting visibility relationship of any pair of point goals, the clustering algorithm is able to cluster point goals without contradicting visibility relationship into the same cluster, in order to obtain the minimum number of clusters. Section 4.3.3 presents the algorithm of clustering point goals according to the visibility-contradict assessment rules.

Generally, the clustering algorithm will cluster all the point goals that one single scan can possibly cover. The clustering algorithm thus needs to determine the likelihood of capturing certain point goals in one scan. The “featured length” of a building facade is the horizontal range that one single scan will cover using the sparsest angular resolution that can secure all goals on the façade with the required LOD, which is equal to the width of the 3D feasible space of the point goal requiring the densest scanning resolution. If the distance between two point goals is longer than the featured length, a sparse scan will not capture both goals, and increasing the data density will cause significant increase in scanning time.


                           Fig. 6
                            demonstrates the geometric concept of featured length. The distance between point goals A and B in Fig. 6(a) is 15m, while the distance between point goals A’ and B’ in Fig. 6(b) is 25m. A and B are 4m above the height of the laser scanner, while A’ and B’ are 24m above the scanner. The LOD requirements of all four goals (A, B, A’, B’) are 0.025m. Among all the point goals in the building shown in Fig. 6(a), A and B require the densest scanning resolution to meet the LOD requirement because of their elevation. According to Eq. (6) in Section 4.1.4, engineers need to choose the scanning angular resolution of 
                              
                                 2.51
                                 ×
                                 
                                    
                                       10
                                    
                                    
                                       -
                                       3
                                    
                                 
                                 
                                 
                                 rad
                              
                            to scan the wall that AB is on in order to satisfy the LOD requirements. In the point cloud of the wall, the horizontal range with required LOD is equal to the width of the 3D feasible space of the point goal A or B, which is around 4.97m. We identify this length as the featured length of the building in Fig. 6(a). Similarly, the featured length of building (b) is l’
                           
                           =
                           39.78m because engineers need to use a much denser angular resolution of 
                              
                                 3.14
                                 ×
                                 
                                    
                                       10
                                    
                                    
                                       -
                                       4
                                    
                                 
                                 
                                 
                                 rad
                              
                            to scan A’ and B’. Therefore, AB
                           
                           >
                           
                           3l while A’B’
                           
                           <
                           
                           l’, which means that it is efficient to scan point A’ and B’ in a single sparse scan in (b), while it is not necessary to cover A and B in one scan in (a) because that needs denser scanning that significantly increases the data collection time. Section 4.3.2 will show more details about how featured length will help the grouping of point goals.

The first step of deriving the featured length is to determine the sparsest angular resolution that can cover any point goal on all facades of the building on the jobsite with required LOD, 
                              
                                 
                                    
                                       δ
                                    
                                    
                                       jobsite
                                    
                                 
                              
                           , which relates to the elevation and LOD of each point goal:
                              
                                 
                                    
                                       
                                          
                                             δ
                                          
                                          
                                             jobsite
                                          
                                       
                                       =
                                       
                                          min
                                       
                                       (
                                       
                                          
                                             δ
                                          
                                          
                                             sparsest
                                             ,
                                             i
                                          
                                       
                                       )
                                       ,
                                       i
                                       =
                                       1
                                       ,
                                       2
                                       ,
                                       3
                                       …
                                       n
                                    
                                 
                              
                           where
                              
                                 
                                    
                                       
                                          
                                             δ
                                          
                                          
                                             sparsest
                                             ,
                                             i
                                          
                                       
                                       ⩽
                                       
                                          
                                             
                                                
                                                   LOD
                                                
                                                
                                                   i
                                                
                                             
                                          
                                          
                                             2
                                             Δ
                                             
                                                
                                                   h
                                                
                                                
                                                   i
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           where n is the number of point goals at the jobsite, and i refers to any point goals at the jobsite. 
                              
                                 
                                    
                                       δ
                                    
                                    
                                       sparsest
                                       ,
                                       i
                                    
                                 
                              
                            is the sparsest resolution applicable for point goal i, and 
                              
                                 Δ
                                 
                                    
                                       h
                                    
                                    
                                       i
                                    
                                 
                              
                            is the vertical distance between point goal i and the laser scanner (Section 4.1.4).

The second step in deriving the featured length 
                              
                                 l
                              
                            is determining the range that one single scan can cover based on 
                              
                                 
                                    
                                       δ
                                    
                                    
                                       jobsite
                                    
                                 
                              
                            and the LOD of the point goals that need to be scanned with 
                              
                                 
                                    
                                       δ
                                    
                                    
                                       jobsite
                                    
                                 
                              
                           :
                              
                                 
                                    
                                       l
                                       =
                                       max
                                       (
                                       
                                          
                                             LOD
                                          
                                          
                                             j
                                          
                                       
                                       /
                                       (
                                       2
                                       
                                          
                                             δ
                                          
                                          
                                             sparsest
                                             ,
                                             j
                                          
                                       
                                       )
                                       )
                                       ,
                                       j
                                       
                                       
                                       ∈
                                       (
                                       j
                                       |
                                       
                                          
                                             δ
                                          
                                          
                                             sparsest
                                             ,
                                             j
                                          
                                       
                                       =
                                       
                                          
                                             δ
                                          
                                          
                                             jobsite
                                          
                                       
                                       )
                                    
                                 
                              
                           
                        

Contradicting visibility relationship analysis determines the likelihood of having one scan cover two point goals with required LOD. This also means the possibility of having the 3D feasible spaces of two point goals intersect. Instead of calculating the 3D feasible spaces of all point goals and then checking for overlaps, which is time-consuming, this approach will instead calculate the contradicting visibility relationship using a fast and approximate approach. The inputs of the contradicting-visibility-relationship analyzing algorithm include the distances between pairs of point goals, angles between the surface orientations at pairs of point goals, and the featured length of the jobsite. In the clustering stage, the algorithm assumes the angular resolution used as 
                              
                                 
                                    
                                       δ
                                    
                                    
                                       jobsite
                                    
                                 
                              
                            (defined in 4.3.1). This algorithm utilizes an extensive library that contains a number of visibility-contradict analysis rules generated from geometric relationships of 2D feasible areas of point goals and experimental results. The following rules are some examples selected from this library:
                              
                                 1.
                                 
                                    Fig. 7
                                     (a) shows two point goals, A and B, and the possible outer boundaries of their feasible areas, which are the projections on the x–y plane of the 3D feasible spaces of these two point goals. Fig. 7(a) shows that if the distance between A and B is larger than four times of the featured length l, then the two point goals contradict in visibility. Hence, it is not efficient to use unnecessarily high scan resolution to cover distance goals, A and B, in the same scan, because other areas covered in this scan will be over sampled. No matter what the orientations of point goal A and B are, it is impossible for the feasible spaces to intersect with each other if the distance between A and B is larger than 4 times the featured length.


                                    Fig. 7(b) shows two point goals that have the surfaces between them form a 90-degree angle. According to the geometric relationship of two feasible areas of point goals shown in Fig. 7(b), if the distance between A and B is larger than 
                                       
                                          (
                                          2
                                          +
                                          
                                             
                                                2
                                             
                                          
                                          )
                                       
                                     times of the featured length l, and the angle between the surfaces at A and B varies from 90 to 180 degrees, then the two point goals have contradicting visibility relationship. If the distance increases or the angle decreases, then it is impossible for the two feasible spaces to intersect with each other.


                                    Fig. 7(c) shows two surfaces with 305-degree angles and close to each other. If the angle between the surfaces at A and B was between 305 and 360 degrees, then the two point goals have contradicting visibility relationship. One example is that two point goals are on two sides of a wall. In this case, the orientation angle of two point goals is 180 degrees. If two point goals are close enough, their feasible area may intersect. However, this case is very rare in actual jobsites. Therefore, two point goals are in contradicting visibility relationship as long as the angle of the surface is larger than 305 degrees.


                                    Fig. 7(d) shows that two point goals A and B are occluded by an object, which has point goals A’ and B’ on its two sides. In practice, A is often occluded by the object when B is visible, and vice versa. Therefore, A and B have a contradicting visibility relationship due to the occlusion of the object between A and B. Furthermore, such an object between A and B often contains point goals with contradicting visibility relationships, shown in rule 3 (A’ and B’ in Fig. 7d). As a result, this rule means that A and B have a contradicting visibility relationship if: 1) two point goals (A and B) are “close” to another pair of point goals (A’ and B’) with contradicting visibility relationship described in (3); and 2) the distance AB is greater than A’B’. Here, “close” is defined as “the length of AA’ (or BB’) in x–y plane is less than 10% of the featured length.”

The clustering algorithm will group all point goals that satisfy two conditions. The first condition is that the point goals without contradicting visibility relationships are in the same clusters while ensuring the least possible number of clusters. The second condition is that the point goals in the same cluster should be close to the geometric center of the cluster.

The first clustering condition uses the following statement: n vertices are in a graph to represent n point goals; an edge connects two vertices if they are contradicting in visibility. The algorithm will label two connected vertices as different colors to indicate that they belong to different clusters. So the least number of colors needed to color the whole graph, called the ’chromatic number’ of the graph [41], is the smallest positive integer k that allows the algorithm to partition the set of point goals into k parts containing point goals not contradicting with each other. Vertices coloring is a heavily discussed topic in modern graph theory and there are multiple coloring algorithms available in the literature [42–44]. The clustering algorithm uses the greedy coloring algorithm, which considers the vertices of the graph in sequence and assigns each vertex its first color without contradiction [43]. The “divide” algorithm will run greedy coloring algorithm repeatedly and choose a clustering result with the minimum number of clusters as the starting point for further optimization of clustering result. Fig. 8(a) and (b) shows the clustering of point goals according to the first clustering condition.

The result of the coloring of graph nodes using a greedy algorithm is not unique [43]. There could be multiple clustering results achieving the same minimum number of clusters. Therefore, the “divide” algorithm will further improve the clustering results according to the second clustering condition. Without losing generality, a clustering result has k clusters, and a cluster i has ni
                            point goals. In one cluster, the performance index of clustering results is the sum of the square distance between point goals and the geometric center of clusters:
                              
                                 (9)
                                 
                                    
                                       C
                                       =
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                i
                                                =
                                                1
                                             
                                             
                                                k
                                             
                                          
                                       
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                j
                                                =
                                                1
                                             
                                             
                                                n
                                             
                                          
                                       
                                       [
                                       
                                          
                                             (
                                             
                                                
                                                   x
                                                
                                                
                                                   ji
                                                
                                             
                                             -
                                             
                                                
                                                   x
                                                
                                                
                                                   ci
                                                
                                             
                                             )
                                          
                                          
                                             2
                                          
                                       
                                       +
                                       
                                          
                                             (
                                             
                                                
                                                   y
                                                
                                                
                                                   ji
                                                
                                             
                                             -
                                             
                                                
                                                   y
                                                
                                                
                                                   ci
                                                
                                             
                                             )
                                          
                                          
                                             2
                                          
                                       
                                       ]
                                    
                                 
                              
                           where 
                              
                                 
                                    
                                       x
                                    
                                    
                                       ji
                                    
                                 
                              
                            and 
                              
                                 
                                    
                                       y
                                    
                                    
                                       ji
                                    
                                 
                              
                            are the (x, y) coordinates of the jth point goal in cluster i, respectively. 
                              
                                 
                                    
                                       x
                                    
                                    
                                       ci
                                    
                                 
                              
                            and 
                              
                                 
                                    
                                       y
                                    
                                    
                                       ci
                                    
                                 
                              
                            are the (x, y) coordinates of the center point of cluster i, respectively.

Based on the clustering result that satisfies the first clustering condition (Fig. 8b), the divide algorithm will iteratively improve the result by moving the point goals between clusters to minimize 
                              
                                 C
                              
                            defined in Eq. (9), keeping the point goals having contradicting relationship in different clusters (the first clustering condition). Fig. 8(b) and (c) shows the algorithm for improving the performance of the clustering result. The result shown in Fig. 8
                           c is different from the starting point (Fig. 8b), because of moving point goals between clusters to minimize C.

After clustering point goals, the algorithm will generate a laser scan plan for each cluster called the “conquer” algorithm. These laser scan plans for clusters are thus parts of a complete laser scan plan that covers the whole jobsite. The pseudo code of the conquer algorithm below shows the process of scanning position detection and resolution configuration in each cluster.

This algorithm of generating “local” plans includes four steps: first, the “conquer” algorithm will set a sparse angular resolution value for initializing the generations of feasible spaces of point goals within a cluster. Second, the “conquer” algorithm will generate scanning positions according to the feasible areas, called “next-best-view” algorithm [13,45,46]. Third, the algorithm will progressively densify the angular resolutions and repeat step 2, and then compare the total scanning time of the plans generated based on different angular resolution values. In this way, the “conquer” algorithm will find the most time-efficient combination of scanning resolution and positions for this cluster of point goals. In the fourth step, the algorithm will identify the point goals that were ignored by the “next-best-view” algorithm, for the algorithm ignores a percentage of total point goals when scanning those single goals can significantly increase the data collection time. Parameter “a” is the function of the number of clusters, the highest resolution used in all clusters, and the resolution determined in the current cluster. For example, in one of the case studies, the algorithm ignored two point goals in one cluster, which is less than 1% of total point goals. If the algorithm planned a scan for the ignored point goals, the total scanning time would have increased by about 10%.

The outputs of this algorithm of generating laser scan plans for clusters of point goals include the scanning positions and the corresponding angular resolutions, as well as the “garbage” - point goals that remain un-scanned in the current cluster. Section 4.5 presents a garbage collection algorithm that addresses these remaining point goals.
                           
                              
                                 
                                 
                                 
                                    
                                       Pseudo code of the “Conquer” algorithm
                                    
                                 
                                 
                                    
                                       1:
                                       
                                          Input: point goal information in one cluster
                                    
                                    
                                       2:
                                       
                                          Output: Scanning positions in the cluster; scanning resolution; point goals un-scanned
                                    
                                    
                                       3:
                                       resolution 
                                             
                                                ←
                                             
                                           sparsest_resolution_in_current_cluster // set initial value of scanning resolution
                                    
                                    
                                       4:
                                       [scanning_position] 
                                             
                                                ←
                                             
                                           
                                          next_best_view(pointgoals, resolution) // Use next-best-view algorithm to generate the scanning positions according to initial scanning resolution
                                    
                                    
                                       5:
                                       scan_time_previous 
                                             
                                                ←
                                             
                                           scan_time_initial
                                    
                                    
                                       6:
                                       scan_time_current 
                                             
                                                ←
                                             
                                           scan_time_initial
                                    
                                    
                                       7:
                                       
                                          while scan_time_current <= scan_time_previous do // find the optimal scanning resolution
                                    
                                    
                                       8:
                                       scan_time_previous 
                                             
                                                ←
                                             
                                           scan_time_current
                                    
                                    
                                       9:
                                       [scanning_position, scan_time_current, un-scanned_point_goals] 
                                             
                                                ←
                                             
                                           
                                          next_best_view(pointgoals, resolution)
                                    
                                    
                                       10:
                                       resolution 
                                             
                                                ←
                                             
                                           
                                          higher_resolution (resolution)
                                    
                                    
                                       11:
                                       end while
                                    
                                    
                                       12:
                                       
                                          return scan_position, scan_time_current, un-scanned_point_goals
                                    
                                 
                              
                           
                        
                     

The “conquer” algorithm only requires the scans to cover most of the point goals in one cluster and ignore some difficult point goals that significantly increase the data collection time.

For each cluster, the algorithm will collect point goals that remain un-scanned after determining the local laser scan plans. These un-scanned point goals from all clusters form a new cluster, and the algorithm will carry out the laser scan planning for this new cluster using the same process described in the previous section. We name this algorithm as “garbage collection”. The pseudo code of “garbage collection” algorithm below shows the detailed information of this step.
                           
                              
                                 
                                 
                                 
                                    
                                       Pseudo code of the “Garbage collection” algorithm
                                    
                                 
                                 
                                    
                                       1:
                                       
                                          Input: all point goal remain un-scanned from all clusters, scanning positions from other clusters
                                    
                                    
                                       2:
                                       
                                          Output: Scanning position(s) and scanning resolution for “garbage” cluster
                                    
                                    
                                       3:
                                       
                                          if scanning positions from other clusters cover any un-scanned_pointgoals do
                                       
                                    
                                    
                                       4:
                                       
                                          delete current un-scanned_ pointgoals
                                    
                                    
                                       5:
                                       
                                          end if // Because the scans for Cluster A may cover the “garbage” point goals in Cluster B, the algorithm examines whether previous scans has already cover any of the point goals from other clusters. If so, delete these point goals from the “garbage” cluster.
                                    
                                    
                                       6:
                                       [scanning_position, scanning_resolution, pointgoals_covered_in_each_scan] 
                                             
                                                ←
                                             
                                           
                                          “Conquer” algorithm(un-scanned_pointgoals)
                                    
                                    
                                       7:
                                       
                                          for each scanning_position
                                    
                                    
                                       8:
                                       
                                          if pointgoals_covered_in_each_scan < a% ∗ total_number_of_ pointgoals do
                                       
                                    
                                    
                                       9:
                                       
                                          delete current scan_position
                                    
                                    
                                       10:
                                       end if
                                    
                                    
                                       11:
                                       
                                          end for // If a scan will only cover a% of total number of point goals, we consider it inefficient and discard this scan. This is a trade-off between data quality and scanning efficiency. In addition, doing this improves the robustness to outlier point goals due to inaccurate data or model.
                                    
                                    
                                       12:
                                       
                                          return scanning_positions, angular_resolutions
                                    
                                 
                              
                           
                        
                     

In this study we conducted big-O analysis [28] to show the upper bound on the runtime of the laser scan planning method. The inputs of the planning method are point goals, so the big-O analysis examines how the computational time increases with the number of point goals n. The runtime of “divide” algorithm is O(n
                        2) because the algorithm needs to check the contradicting visibility relationship between all goals. The runtime of “conquer” and “combine” is also O(n
                        2) because the algorithm needs to calculate the feasible area for each point goal. As a result, the computational complexity of the laser scan planning method developed in this study is O(n
                        2).
                     

In order to validate the big-O analysis, we executed the developed laser scan planning algorithm for multiple sites with different numbers of point goals and buildings of various shapes. We developed the laser scan planning algorithm using Matlab R2014b, and tested the algorithm on a computer with 3.60GHz CPU and 32GB RAM. Fig. 9
                         shows that the square root of the running time of this algorithm increases linearly with respect to the number of point goals, and so does the square root of the number of contradicting visibility relationships between point goals. This reveals a computational complexity of 
                           
                              O
                              (
                              
                                 
                                    n
                                 
                                 
                                    2
                                 
                              
                              )
                           
                        . Looking into these results, we found that in one case study, the number of a large campus building with a gross area of 13,015m2 had 258 point goals. The runtime of the algorithm for this building was 381.6s, about 6.36min. This shows the potential of achieving real-time laser scan planning on construction sites that require timely and detailed spatiotemporal information for proactive project control.

To validate the proposed laser scan planning method, we conducted laser scanning on a campus building based on the optimal plan automatically identified by the algorithm and several plans generated by a 3D imaging researcher and a laser scanning professional who has been using laser scanners in more than ten large building projects. Fig. 10
                        a shows the as-designed model of this campus building at Arizona State University (ASU). All the automatic and manual laser scan plans use 258 point goals specified by an engineer on the as-designed model (Fig. 10b–c) of the building, according to the General Services Administration (GSA) manual of laser scanning for building facades [47]. The point goals include the corners of windows, points along the edges of walls, and the corners of walls. In addition, we set the LOD requirement of each goal as 25mm (one inch), which is GSA Level 2, a commonly adopted standard for building exterior design and renovation [47].

In the study of the campus building, we compared the performance of three laser scan plans. Plan A: a plan automatically generated by the developed laser scan planning algorithm; Plan B: a plan manually created by a 3D imaging researcher, and Plan C: a plan manually created by a laser scanning professional from a construction general contractor who built this studied building.

This study uses two metrics to measure the performances of laser scan plans: (1) data collection time, and (2) data quality. The data collection time consists of scanning time, time for moving scanners between stations, and time for setting up at each station. The data quality assessment focuses on level of detail (LOD) captured in the collected data. The metric of data quality is the percentage of point goals captured with their required LODs (P).

The evaluation of a laser scan plan has three phases: Phase 1, collecting laser scanning data of the building according to the developed plan; Phase 2, calculating the percentage of point goals captured with their required LODs; Phase 3, performing additional scans for addressing point goals that were missing or lacking details. Overall, we compared laser scan plans in terms of: (1) Percentage of point goals captured with the required LODs (P); (2) time for completing the scans in phase 1; (3) time for completing the scans in phase 1 plus additional time required to perform scans in phase 3.

Given the point goals as the inputs for manual laser scan planning, the developed algorithm generated the automated scanning plan (Plan A). The researcher and the laser scanning professional generated plans B and C, respectively, by following the Building Information Model Guide for Laser Scanning of the United States General Services Administration (GSA BIM Guide) [47]. GSA BIM guide specifies that the distances between adjacent scanning locations should be between 20m to 40m to capture high quality data. The yellow stars in Fig. 11
                           (a)–(c) show the scanning positions of the three laser scan plans. In these plans, the numbers next to the scanning positions (e.g. 1/5, 1/4, etc.) are the scanning resolutions used at those scanning positions. The noise level of laser scanning data were kept at constant for all scans, which is the other parameter influencing the laser scanning time. The corresponding angular resolution of 1/5, for example, equals to 
                              
                                 
                                    
                                       δ
                                    
                                    
                                       1
                                       /
                                       5
                                    
                                 
                                 =
                                 
                                    
                                       π
                                    
                                    
                                       20000
                                       ∗
                                       
                                          
                                             
                                                
                                                   
                                                      1
                                                   
                                                   
                                                      5
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 =
                                 7.85
                                 ×
                                 
                                    
                                       10
                                    
                                    
                                       -
                                       4
                                    
                                 
                                 
                                 rad
                              
                            
                           [48].

The data quality of the 3D laser scanning point clouds of the studied campus building were evaluated using the software “CloudCompare” [49]. Fig. 12
                            visualizes all points where the LOD requirements were satisfied in the point clouds collected through the three compared plans. The red circles in these figures highlight areas where the point cloud does not satisfy the GSA Level 2 LOD requirements due to poorly designed scanning positions and resolutions.


                           Fig. 12 shows that the data collected according to the automatically generated plan cover more areas with sufficient LODs compared with the data collected according to manually generated plans. In the results of automatic laser scanning planning (Fig. 12a), all 258 point goals were with the required GSA Level 2 LOD (denser than 25mm along both vertical and horizontal directions). However, only 151 out of 258 point goals have the required GSA Level 2 LOD in data collected through manual planning by the experienced laser scanning researcher (Fig. 12b). Only 195 out of 258 point goals meet LOD requirement in data collected according to the plan manually created by a laser scanning professional (Fig. 12c).

In order to address point goals missed by manual planning, we conducted five additional scans for Plan B, and four additional scans for plan C. Red stars and corresponding numbers in Fig. 11(b) and (c) shows the locations and resolutions of these extra scans. Table 1
                            shows a detailed comparison of the performances of manual and automatic laser scan planning.

The above results indicate that it is difficult for manually generated laser scan plans to achieve 100% coverage of point goals with required LOD. The first difficulty is in choosing the right scanning resolution. For example, for these areas shown in Fig. 12d, only scanning with the resolution of 1/2 can ensure the LOD because the elevation of these areas is high above the ground. The second difficulty is in estimating the area that one scan can cover with sufficient LODs. In the case study, the curved shape of the studied building caused additional challenges for a human to precisely choose the scanning positions so that areas with required LOD would connect without gaps.

The case study of this campus building shows that the coverage of automatically planned laser scanning is better than that of manually planned laser scanning (100% point goals in automatic planning versus 58.3% (researcher) and 75.6% (surveying professional) point goals in manual planning satisfy the required LOD), although the data collection time of automatically generated laser scan plan is longer than that of the manually generated plan. This is because the laser scan planning method uses data quality requirements as the priority. When both automatic and manual planning generates high-quality 3D imageries, automatic laser scan planning is time-efficient (8495s versus 11989s and 11669s) because the laser scan planning method will optimize the data collection time while ensuring that data quality requirements are satisfied.

@&#DISCUSSIONS@&#

The developed new laser scan planning method in this study comes with a number of limitations as detailed next, which serve as objectives for future research.
                           
                              (1)
                              The generation of point goals for the laser scan planning algorithm is manual. In future research, we plan to explore methods that can automatically identify point goals based on patterns in collected imageries (images, videos, etc.) that will help guide the divide-and-conquer method, particularly if the as-designed model of the building is not available. In a separate publication, we have explored the use of pictures and the “structure from motion” method [50] to generate sparse 3D point clouds of a building, and then identify areas that are visually complex in the point cloud as point goals for guiding scan planning [40]. In addition, we will extend the jobsite presentation from point goals to goals of different geometric elements, including lines, planes, cylinder surfaces, and spheres. The analytical solution of scanning goals of different geometric elements could simplify the scan planning process.

Different construction environments and tasks have different LOD requirements. Currently, the developed approach still requires engineers to specify LOD requirements of point goals based on GSA requirements and the experiences of experts. Future studies will focus on automatically deriving the LOD of every point goal to fully reflect the dynamic properties and visual information requirements (e.g., shapes and colors) for comprehensive monitoring of different kinds of building features and structures.

In the proposed method, contradicting visibility relationship analysis is able to help identify the scanning locations where no point goal blocks the visibility of any other point goal. However, objects that do not have a point goal (e.g., vegetation) may block the visibility of other point goals during laser scanning, thus causing occlusion problems in the collected point data. Therefore, utilizing previously collected sparse 3D imagery data, future studies will develop a time-efficient visibility checking process to reduce the influence of the unknown environment on data quality.

This study does not cover how the laser scanning positions and parameters influence the accuracies of 3D measurements, and how to coordinate multiple scanning stations to achieve accurate and detailed imageries. In surveying science, there is a theory about arranging surveying positions for maximum accuracy by ensuring the “strength of figure” of the network consisting of all surveying positions [51], which we believe could be applied to the laser scan planning method. In the future, we plan to enable the scan planning algorithm to cover all given point goals with sufficient LOD and LOA by maximizing the strength of figure of the automatically generated scan plans.

In addition, we will try to integrate the laser scan planning method with construction scheduling. We expect that the optimization of construction workflows for inspection activities will realize real-time and proactive construction quality control while minimizing interferences between data collection activities and construction workflows.

According to engineers in the construction industry, acquiring detailed as-built 3D building information model will cost tens of thousands of dollars, varying with the scale of the projects. As a result, full automation of 3D site inspections will save time and money for contractors. In the future, using the proposed laser scan planning method, unmanned aerial vehicles (UAVs) or robots could enable autonomous robots that carry sensors and process 3D imagery collection with minimum human involvement. This will help autonomous high quality data collection in remote areas that are dangerous for human inspectors, such as underwater structures, top of skyscrapers, or rescue missions after an earthquake. Automatic laser scan planning will make laser scanning autonomous, safer, more precise, and more efficient on various dynamic sites.

@&#CONCLUSION@&#

This paper describes the development of a rapid laser scan planning method that generates scanning positions and recommends angular resolutions for different positions in order to achieve efficient and effective laser scanning data collection. Compared with previously developed sensor planning methods, this new approach not only guarantees the density of collected 3D data, but also optimizes the data collection time. Moreover, the new laser scan planning method is able to achieve a computational complexity of 
                        
                           O
                           (
                           
                              
                                 n
                              
                              
                                 2
                              
                           
                           )
                        
                     , which is more efficient than previously developed algorithms. Evaluation results on different buildings show the effectiveness of the proposed method, and how this method outperform manual laser scan planning conducted by experienced researchers and professional surveyors. Laser scan plans generated by the new method will benefit high quality data collection without wasting time and resources. In future research, we will focus on the automation of point goal generation in order to achieve an automatic data-driven workflow of 3D data collection on dynamic jobsites.

@&#ACKNOWLEDGEMENTS@&#

This material is based on work supported by the National Science Foundation (NSF) under Grant No. 1443069 and Grant No. 1454654. NSF’s support is gratefully acknowledged. In addition, the authors would like to thank DPR Construction, the City of Phoenix Water Service Department, and HDR Inc. for their help with the laser scanning data collection on construction sites, as well as for sharing their experiences and Building Information Models and project materials. Any opinions, findings, conclusions, or recommendations expressed in this paper are those of the authors and do not necessarily reflect the views of NSF, DPR Construction, the City of Phoenix, and HDR Inc.

@&#REFERENCES@&#

