@&#MAIN-TITLE@&#Inventory management for stochastic lead times with order crossovers

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           We consider the order-up-to policy with a stochastic lead time and order crossovers.


                        
                        
                           
                           We find the distribution of the number of open orders.


                        
                        
                           
                           The inventory distribution when orders and work-in-progress are correlated is found.


                        
                        
                           
                           We show minimal safety stock and inventory variance do not lead to minimum costs.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Stochastic lead-times

Safety stock

Order cross-over

Order-up-to policy

Global supply chains

@&#ABSTRACT@&#


               
               
                  We study the impact of stochastic lead times with order crossover on inventory costs and safety stocks in the order-up-to (OUT) policy. To motivate our research we present global logistics data which violates the traditional assumption that lead time demand is normally distributed. We also observe that order crossover is a common and important phenomenon in real supply chains. We present a new method for determining the distribution of the number of open orders. Using this method we identify the distribution of inventory levels when orders and the work-in-process are correlated. This correlation is present when demand is auto-correlated, demand forecasts are generated with non-optimal methods, or when certain ordering policies are present. Our method allows us to obtain exact safety stock requirements for the so-called proportional order-up-to (POUT) policy, a popular, implementable, linear generalization of the OUT policy. We highlight that the OUT replenishment policy is not cost optimal in global supply chains, as we are able to demonstrate the POUT policy always outperforms it under order cross-over. We show that unlike the constant lead-time case, minimum safety stocks and minimal inventory variance do not always lead to minimum costs under stochastic lead-times with order crossover. We also highlight an interesting side effect of minimizing inventory costs under stochastic lead times with order crossover with the POUT policy—an often significant reduction in the order variance.
               
            

@&#INTRODUCTION@&#

Global sourcing often allows access to low-cost supply but is frequently associated with long and variable lead times. These longer and more variable lead times bring with them a number of complications and potential pitfalls, from both the cost and the service perspective (Stalk, 2006). In particular, inventory planners must now account for uncertainty in both demand and lead time when determining safety stock levels (Warburton & Stratton, 2002).

We add to the literature on planning with stochastic lead times by formulating and testing a calculation of safety stock that reflects these real-world complications. Our method allows for order crossover and correlation between pipeline inventory and replenishment orders, a factor often ignored. We introduce a novel approach to better understand the distribution of outstanding orders when lead times are uncertain.

This research was motivated by both practical and analytical issues. Practically, we have tracked and analyzed logistics data for global supply chains for both major forwarders and retailers, and are struck by the violations of the lead time normality assumption—see Fig. 1
                     . Furthermore, most inventory models do not allow for order crossover where shipments are received in a different sequence from which they were dispatched, yet variable shipment delays, clerical errors, and random custom inspections can easily delay a shipment long enough for others to pass it. Robinson, Bradley, and Thomas (2001) also provide real-world examples of order crossover. Another investigation we have conducted is summarized in Figs. 2 and 3. Fig. 2 shows the distribution lead time between a supplier in Colorado, USA and a customer in Shenzhen, China. Fig. 3 tracks how many queue positions each shipment gained or lost between the date-sorted list of dispatches and the date-sorted list of arrivals. There are clearly a significant amount of order crossovers—nearly 40% of orders cross.

From the analytical perspective, two prescriptions for inventory management are widely disseminated. These approaches use either an average (or maximum) lead time in the constant lead time reorder point solution or assume that the demand during the lead time is normally distributed and then use the mean and variance of a random sum of random variables to determine the reorder point. Neither approach is well-suited to global supply chains with long transit times and multiple hand-offs. Rationalizations have been made for what is clearly a suspect assumption (Chopra, Reinhardt, & Dada, 2004; Eppen & Martin, 1988; Tyworth & O’Neill, 1997).

This paper develops an exact theoretical treatment of the impact of the stochastic lead times with order crossover on the probability density function (pdf) of the net stock levels. As we progressed in our investigations, we also began questioning the well-known assertion (Kaplan, 1970) that the order-up-to (OUT) model is always a good fit for global supply chains. We find that, when there is order crossover, lower average inventories are possible when the ordering strategy follows the linear proportional order-up-to (POUT) policy (Disney & Lambrecht, 2008). We also became aware that the orders and work-in-progress (WIP) are cross-correlated, an effect that does not happen under the assumptions of independently and identically distributed (i.i.d.) demand, minimum mean square error forecasting, and OUT replenishment. However, whenever any one of these assumptions is relaxed, there is a co-variance term that must be accounted for. We believe this is the first treatment of this effect in the literature and this innovation allows one to relax a wide range of modeling assumptions in the study of order crossovers.

In the constant lead time case it is known that piecewise linear convex inventory holding and backlog costs are minimized when the safety stock is set to the critical newsvendor fractile. In this case, the replenishment polices should be selected and designed to minimize inventory variance and the optimal policy is the OUT policy. The minimal cost design also leads to minimal safety stock requirements. We will show that in the stochastic lead time case with order crossovers these insights do not always hold. While it remains true that optimal availability is the critical fractile, we find a linear policy that is always more economical than the OUT policy which sometimes requires less, sometimes more, safety stock. The inventory levels under our policy have less variance than the OUT policy. As an additional side benefit, our solution significantly reduces the variance of the replenishment orders even though our objective function is only concerned with inventory related costs.

The
                      structure of the paper is as follows. After a review of the relevant literature (Section 2), we discuss some of the major assumptions and choices that we make in Section 3. We discuss the POUT/OUT policy with a constant lead time in Section 4.1. This establishes the notation for the stochastic lead time analysis. Developing further the approach of Robinson et al. (2001), we provide a new method to determine the distribution of the number of open orders for the stochastic lead time in Section 4.2. We then study the POUT policy and present a new method for determining the pdf of the inventory levels in Section 4.3. This method allows for order crossover and is required as the orders and the WIP become correlated in the POUT policy. Section 5 presents a numerical example. Section 6 applies our theory to the empirical lead time distributions in Figs. 1 and 2. Section 7 concludes.

@&#LITERATURE REVIEW@&#

As with other recent treatments of these issues, we work in the periodic review, base stock inventory management framework (Bischak, Robb, Silver, & Blackburn, 2014; Muharremoglu & Yang, 2010; Srinivasan, Novack, & Thomas, 2011). Several streams of research are particularly relevant to our goal of better understanding the effects of stochastic lead times that are virtually certain to come up in global supply chains.

                        
                           1.
                           
                              Determining order quantities: 
                              Simon (1952) outlined a mechanism for determining order quantities based on information about demand, inventory, WIP, lead times, and demand variability. Later, Kaplan (1970) proved that the so-called base stock or OUT inventory procedures were cost-optimal for stochastic lead times with no order crossover and independence between lead times and the number and size of open orders. This result is still widely cited and used today. In this paper, we suggest an alternative procedure for sizing orders based on a linear generalization of the OUT policy (Dejonckheere, Disney, Lambrecht, & Towill, 2003).


                              Determining safety stocks: Replenishment systems require safety stock targets, T, to be specified; T is the average inventory level. This is usually achieved with 
                                 
                                    T
                                    =
                                    
                                       Φ
                                       
                                          −
                                          1
                                       
                                    
                                    
                                       [
                                       α
                                       ]
                                    
                                    σ
                                    
                                       
                                          1
                                          +
                                          k
                                       
                                    
                                    ,
                                 
                               where σ is the standard deviation of demand, k is the replenishment lead time, and 
                                 
                                    
                                       Φ
                                       
                                          −
                                          1
                                       
                                    
                                    
                                       [
                                       α
                                       ]
                                    
                                 
                               is the inverse of the normal cumulative distribution function—the ‘safety factor’ that achieves an availability of α. This mainstream formula explicitly incorporates demand variability, but does not do the same for lead time variability. As lead times lengthen and process complexity increases with globalization, ignoring lead time variability seems ill-advised at best. Order crossover and correlation between orders and WIP, in particular, are real possibilities (Bradley & Robinson, 2005; Muharremoglu & Yang, 2010; Robinson et al., 2001; 2008; Srinivasan et al., 2011).


                              Characterizing variability: Reorder points and safety stock levels in a variable lead time setting are often based on the variance of a random sum of random variables. This second order moment is then used to set safety stock requirements via 
                                 
                                    T
                                    =
                                    
                                       Φ
                                       
                                          −
                                          1
                                       
                                    
                                    
                                       [
                                       α
                                       ]
                                    
                                    
                                       
                                          
                                             k
                                             ¯
                                          
                                          
                                             σ
                                             2
                                          
                                          +
                                          
                                             μ
                                             2
                                          
                                          
                                             σ
                                             k
                                             2
                                          
                                       
                                    
                                 
                               where 
                                 
                                    {
                                    
                                       k
                                       ¯
                                    
                                    ,
                                    
                                       σ
                                       k
                                       2
                                    
                                    }
                                 
                               is the mean and variance of the lead time and {μ, σ
                              2} is the mean and variance of the demand. This approach assumes that the inventory levels are normally distributed. It is also a popular approach, despite having been shown to result in clear errors for even simple systems (Chopra et al., 2004; Eppen & Martin, 1988; Tadikamala, 1984; Tyworth & O’Neill, 1997) and somewhat more sophisticated treatments being available (Cachon & Terwiesch, 2009; Silver, Pyke, & Peterson, 1998).

Textbooks treatments of inventory planning and ordering policies generally start with purely deterministic models, such as the economic order quantity model, that posit constant demand and lead times. Typically, they then progress to ‘probabilistic’ models, such as Reorder Point, (Q, R) and OUT models, that account for demand variability and forecast errors by incorporating safety stock calculations into the setting of reorder points.

A few textbooks then try to add provisions for understanding lead time variability, usually through the well-known formula for computing the variance of a random sum of random numbers (Brown, 1963; Feller, 1966). Textbooks often then emphasize the need to have sufficient inventory on hand and on order, to cover customer demands until the next order arrives. Thus, they call out the critical issue of the demand during the lead time. Unfortunately, many texts simply assume that lead times are stable enough to be considered constant or that an uncertain demand combined with an uncertain lead time will result in a normal distribution of demand during the lead time. This has the advantage of resulting in a fairly simple safety stock calculation, but its reliability is in question. Others (Axsäter, 2000, for example) separate the problem into two classes: those without order crossover, which can be modeled using queuing theory, and those with crossover which can be approximated by the random sum of random variables approach.

With longer global supply chains, these assumptions become less tenable. Robinson et al. (2001) claimed that order crossover is actually fairly common, and our experience is consistent with their assertion (see Fig. 3). They found that using the shortfall distribution for planning purposes, rather than the distribution of lead time demand, results in better inventory performance. Although in later papers they acknowledge the usefulness of approximations (Bradley & Robinson, 2005; Robinson, Bradley, & Thomas, 2008), their fundamental insight is one that we build on in this research. Another important stream of research on order crossover involves the concept of an effective lead time (Hayya, Harrison, & He, 2011). This refers to the fact that the order crossover has the effect of reducing the average lead time.

There are practical issues that introduce uncertainty and variability into lead times from multiple sources. These include: ocean issues (Saldanha, Tyworth, Swan, & Russell, 2009), import issues (Jula & Leachman, 2011; Leachman & Jula, 2012), transit reliability (Caplice and Kalkanci, 2012; Kalkanci and Caplice, 2012), containers (Fransoo & Lee, 2012), and general issues (Stalk, 2006).

There are also a number of common inventory approaches to studying the stochastic lead time problem. They can be classified as follows:

                        
                           1.
                           Lead times described by distribution functions (Bagchi, Hayya, & Chu, 1986; Bischak et al., 2014; Chopra et al., 2004; Eppen & Martin, 1988; Hayya, Bagchi, Kim, & Sun, 2008; Hayya et al., 2011; Kim, Chatfield, Harrison, & Hayya, 2006; Mentzer & Krishnan, 1985).

OUT and base stock policies and procedures (Bischak et al., 2014; Hayya et al., 2011; Kaplan, 1970).

Correlated and non-i.i.d. lead times (Bischak et al., 2014; Muharremoglu & Yang, 2010).

Order crossovers (Bischak et al., 2014; Hayya et al., 2011; Muharremoglu & Yang, 2010; Robinson et al., 2001; 2008; Srinivasan et al., 2011).

Effective lead times with order crossover (Bischak et al., 2014; Hayya et al., 2011).

Stochastic lead times and the bullwhip effect (Chatfield, Kim, Harrison, & Hayya, 2004; Kim et al., 2006).

Endogenous lead times, where there may also be correlation between the orders and the WIP (Boute, Disney, Lambrecht, & Houdt, 2014; So & Zheng, 2003).


                     Kaplan (1970) found that the OUT policy will result in an optimal inventory cost if incoming orders do not cross. A natural question then arises: Is this still the case when the OUT policy is used in the presence of stochastic lead times with crossovers? We show that it is not as we are able to find a linear policy that outperforms the OUT policy. While our policy may not be the optimal policy itself (see Srinivasan et al. (2011), where characteristics of the optimal non-linear policy are discussed), it is a linear policy that is well understood and implementable.

Our objective is always to minimize the sum of the unit inventory holding cost (h) and the unit backlog cost (b) as given by J,

                        
                           (1)
                           
                              
                                 J
                                 =
                                 h
                                 
                                    
                                       (
                                       
                                          I
                                          t
                                       
                                       )
                                    
                                    +
                                 
                                 +
                                 b
                                 
                                    
                                       (
                                       −
                                       
                                          I
                                          t
                                       
                                       )
                                    
                                    +
                                 
                                 ,
                              
                           
                        
                     
                  

where It
                      is the inventory levels at time t. It is well known that this cost is minimized when the safety stock is set so availability equals 
                        
                           b
                           /
                           (
                           h
                           +
                           b
                           )
                        
                      (Brown, 1963). The term availability is defined as:

                        
                           (2)
                           
                              
                                 Availability
                                 =
                                 
                                    
                                       N
                                       u
                                       m
                                       b
                                       e
                                       r
                                       
                                       o
                                       f
                                       
                                       p
                                       e
                                       r
                                       i
                                       o
                                       d
                                       s
                                       
                                       w
                                       i
                                       t
                                       h
                                       o
                                       u
                                       t
                                       
                                       a
                                       
                                       s
                                       t
                                       o
                                       c
                                       k
                                       -
                                       o
                                       u
                                       t
                                    
                                    
                                       T
                                       o
                                       t
                                       a
                                       l
                                       
                                       n
                                       u
                                       m
                                       b
                                       e
                                       r
                                       
                                       o
                                       f
                                       
                                       p
                                       e
                                       r
                                       i
                                       o
                                       d
                                       s
                                    
                                 
                                 .
                              
                           
                        
                     
                  

Availability targets vary widely by product type. Basic products with no inventory risk can be sold over long periods and tend to have high availability. On the other hand, products with short life cycles may have stock-out rates of 50% or more (Warburton & Stratton, 2002). Low availability does not necessarily imply a low fill rate, which directly measures the proportion of customer demand fulfilled from stock (Chopra et al., 2004). The fill rate is probably a more popular metric, especially in high-volume settings. However, due to its analytical complexity resulting from the double accounting of backlogs and the correlation between demand and the net stock (Disney, Gaalman, Hedenstierna, & Hosoda, 2015), we have not pursued this approach herein.

From a practical perspective, the definition of the lead time deserves some thought. While it is straightforward to define lead time as the time from order to receipt, in the real-world this includes many factors. The lead time may include manufacturing, shipment to port, ship transit time, unloading (possibly with transfer to another ship), transfer to rail and/or truck, and unloading. Within that process are often customs clearances, both at outbound export and inbound import. Any of these factors can introduce variation into the lead time. If the product is not too bulky, many companies order some fraction to be delivered quickly via air, with the remainder to be delivered by sea. It is hoped that the availability of air transport for emergency shipments can reduce the risk of a stock-out.

Real-world logistics data typically include the time taken by all of the above activities, and any analysis is complicated by additional issues. Companies typically ship products in individual containers, but a ship transports many such containers, which then all experience the same transit time and, possibly, delays. Also, customs clearance depends on the type of cargo, random inspections, and the port at which it occurs. For example, clearance in a busy port (e.g., Los Angeles) can take a week, while in a small port (e.g., Providence) it may take less than a day. This is further exacerbated by the extremely large (and growing) container liner ships that frequent the busier ports. In addition, industrial action can have a major impact on port performance (O’Marsh, 2014).


                        Fig. 1 presents a collection of data on lead times for shipments of product in containers from a port in China to a port in the United States. The figure plots the time from the COB to COT dates, highlighting the variability of the shipping delay. The COB is the date a container was confirmed on-board a ship at the port of origin. The COT refers to the container out date, which is the time that a container leaves its destination port. The key observation from Fig. 1 is that the lead time distribution is rarely normal, or even close to normal, and it often has a long tail. Also, this lead time actually represents only a part of the total lead time between a factory in China and the customer’s warehouse in the U.S. The time required to get the products from the factory, into a container, delivered to the port, through port operations, and onto a ship is not included. Also not included are the activities needed to get the container from the destination port to the customer’s warehouse and to unload the container. These in-bound and out-bound activities may take a considerable amount of time, and may also be quite variable. As there is little reason to suspect that this variability is in any way correlated to the variability in the COB to COT lead times, we can only suppose that this variability will add to the shipping variability.

Another complication in the definition of the lead time that occurs in global supply chains is the inclusion of the time to manufacture products ‘to order’. For example, many Chinese manufacturers will not schedule the production of an order until it has been paid for. In that case, the replenishment lead time may include the time to schedule and manufacture the product.

Rather
                         than just the port-to-port lead times shown in Fig. 1, Fig. 2 gives the door-to-door lead times between a supplier in Colorado and a manufacturer in Shenzhen, China. This is the complete lead time from the moment the product leaves the factory in Colorado to the time it arrives and is booked in at the Shenzhen factory. This gives a more complete view of the lead time than that given by Fig. 1. We were also able to carefully investigate the timing of the dispatches and arrivals, and determined that order crossovers were actually quite frequent. In Fig. 3, we have illustrated how many queue positions each shipment gained or lost in sequences of dispatches and arrivals. Note that when one order gains (or loses) one position in the queue another must have lost (or gained) a position. However, if one order gains (or loses) several positions in the queue, one or more orders may have lost (or gained) one or more positions in the queue.

While some question the use of the normal distribution to represent demand (see Strijbosch, Heuts, & Luijten, 2002) the assumption of normally distributed demand has been adopted frequently in inventory management literature (Disney & Towill, 2003; Schneeweiss, 1974; Sobel, 2004). We later show that under stochastic lead times the inventory distribution is made up of a weighted sum of sub-processes. The normally distributed demand, together with a linear system assumption means that these sub-processes are also normally distributed. If we further assume that demand is i.i.d., then the equations describing the first and second moments of the inventory levels are relatively simple.

Although most real demand patterns are likely to be autocorrelated over time, i.i.d. demands are observed in practice. Fig. 4 shows a demand series that we have collected from an industrial equipment manufacturer and it is both normally distributed and temporally independent. This series of data has passed the K–S test for normality hypothesis at significance of 0.1 (
                           
                              p
                              =
                              0.1326
                           
                        ). The property of independence can be verified through the autocorrelation function (ACF) and the partial autocorrelation function analysis (PACF), see Fig. 4. The two horizontal lines in the ACF and PACF diagrams show the critical values for the null hypothesis of independence. For a visual verification, Fig. 4 plots a normal pdf with a mean 197.1 and a standard deviation of 59.9. These parameters were chosen as they minimized the mean absolute error to the real data.

This particular demand pattern consists of integer units of demand as it is a discrete product. However, given the large demand numbers, the relative error introduced by the continuous normal distribution is rather small. We also note that many other products can be sold in continuous units, especially those sold by weight, length or volume.

We first specify the discrete time POUT policy with constant lead times in Section 4.1 as it defines notation and introduces the policy. The POUT policy is a linear generalization of the OUT policy, so studying the POUT policy allows us to also understand the OUT policy ‘for free’. We then move on to study the POUT policy with stochastic lead times and order crossover in Sections 4.2–4.3.

We assume a sequence of events as shown in Fig. 5. We satisfy the demand and receive previously ordered product during the period. We observe the inventory and place a new order at the end of the period. At the end of the period we also determine the service level achieved with the availability metric. Note that if the physical lead time 
                           
                              k
                              =
                              0
                              ,
                           
                         then the order will be received in the next period and information about this receipt will be used in the next period’s replenishment decision.

As the POUT policy operates on a discrete time basis, the lead time, k, must be an integer. Thus, an order with a physical lead time of 0.5 time periods, placed at the end of period 
                           
                              t
                              =
                              0
                           
                         will influence the inventory that will be observed at the end of period 
                           
                              t
                              =
                              1
                           
                        . That is, if the lead time is a decimal number then it must be rounded down to the integer. It is for this reason that we presented the real-world lead time data in Section 3.1 as discrete lead times (we will also make the assumption that the order lead times are uncorrelated and independent of the orders and all other system states). Furthermore, note the POUT policy has a sequence-of-events delay (the +1 in the ‘
                           
                              k
                              +
                              1
                           
                        ’ of Fig. 5). The inventory balance equation is given by
                        
                           
                              (3)
                              
                                 
                                    
                                       I
                                       t
                                    
                                    =
                                    
                                       I
                                       
                                          t
                                          −
                                          1
                                       
                                    
                                    +
                                    
                                       R
                                       t
                                    
                                    −
                                    
                                       D
                                       t
                                    
                                    .
                                 
                              
                           
                        Here It
                         is the inventory at time t, Dt
                         is the demand at time t and the variable Rt
                         is used to keep track of the receipts. The receipts are merely the orders placed in period 
                           
                              (
                              t
                              −
                              k
                              −
                              1
                              )
                              ,
                           
                         so 
                           
                              
                                 R
                                 t
                              
                              =
                              
                                 O
                                 
                                    t
                                    −
                                    k
                                    −
                                    1
                                 
                              
                              ,
                           
                         where k is a discrete (possibly random) variable that represents the time delay in the completion of orders (Ot
                        ), which we leave undefined at the moment (see Fig. 5).

We assume that the demand is an i.i.d. random variable drawn from a normal distribution with a mean of μ and standard deviation of σ. The minimum mean square error forecast of the demand for all periods ahead is given by its conditional expectation. For our i.i.d. demand process, this is

                           
                              (4)
                              
                                 
                                    
                                       
                                          D
                                          ^
                                       
                                       
                                          t
                                          :
                                          t
                                          +
                                          k
                                       
                                    
                                    =
                                    μ
                                    .
                                 
                              
                           
                        
                     

The POUT replenishment policy can be formulated (Disney & Lambrecht, 2008) as

                           
                              (5)
                              
                                 
                                    
                                       O
                                       t
                                    
                                    =
                                    μ
                                    +
                                    β
                                    
                                       (
                                       T
                                       +
                                       
                                          k
                                          ¯
                                       
                                       μ
                                       −
                                       
                                          (
                                          
                                             I
                                             t
                                          
                                          +
                                          
                                             W
                                             t
                                          
                                          )
                                       
                                       )
                                    
                                    .
                                 
                              
                           
                        
                     

Here, β is the proportional feedback controller that we can tune to regulate the speed at which deviations of the inventory position 
                           
                              (
                              
                                 I
                                 t
                              
                              +
                              
                                 W
                                 t
                              
                              )
                           
                         from the target 
                           
                              (
                              T
                              +
                              
                                 k
                                 ¯
                              
                              μ
                              )
                           
                         are corrected. This approach is common in hardware control and has a long history in both physical systems and inventory control systems (Nise, 2011; Simon, 1952). 0 ≤ β < 2 is required for stability. When 
                           
                              β
                              =
                              1
                           
                         the POUT policy degenerates into the OUT policy. The POUT policy has been shown to attenuate the bullwhip effect (Dejonckheere et al., 2003; Disney & Towill, 2003; Disney, Towill, & Van de Velde, 2004), and is relatively easy to implement in real supply chains; see Potter and Disney (2010) and Disney, Hoshiko, Polley, and Weigel (2013) for two case studies reporting how it has been implemented in practice. We can arrange (5) into the following form

                           
                              (6)
                              
                                 
                                    
                                       O
                                       t
                                    
                                    =
                                    β
                                    
                                       (
                                       
                                          D
                                          t
                                       
                                       −
                                       μ
                                       )
                                    
                                    +
                                    
                                       (
                                       1
                                       −
                                       β
                                       )
                                    
                                    
                                       (
                                       
                                          O
                                          
                                             t
                                             −
                                             1
                                          
                                       
                                       −
                                       μ
                                       )
                                    
                                    +
                                    μ
                                    .
                                 
                              
                           
                        showing that the POUT policy generates orders that are a convex combination of the stochastic component of the demand and the previous order (Balakrishnan, Geunes, & Pangburn, 2004; Boute & Van Mieghem, 2014).

The term T in (5) is the target net stock—the safety stock—the average inventory level. T is a decision variable to be optimized to minimize inventory holding and backlog costs via the newsvendor principle. 
                           
                              k
                              ¯
                           
                         is the average lead time (when a constant lead time exists, 
                           
                              
                                 k
                                 ¯
                              
                              =
                              k
                           
                        ). The WIP is the inventory on order—the orders placed but not yet received, the in-transit inventory—and is given by

                           
                              (7)
                              
                                 
                                    
                                       
                                          W
                                          t
                                       
                                       =
                                       
                                          ∑
                                          
                                             i
                                             =
                                             1
                                          
                                          k
                                       
                                       
                                          O
                                          
                                             t
                                             −
                                             i
                                          
                                       
                                       =
                                       
                                          W
                                          
                                             t
                                             −
                                             1
                                          
                                       
                                       +
                                       
                                          O
                                          
                                             t
                                             −
                                             1
                                          
                                       
                                       −
                                       
                                          R
                                          t
                                       
                                       .
                                    
                                 
                              
                           
                        
                     

When 
                           
                              k
                              =
                              0
                              ,
                           
                         there is no WIP, as orders are received before the next order is generated. With the POUT policy, with arbitrary but constant lead-times, i.i.d. demand and MMSE forecasting the following expressions hold for the variance of the orders,

                           
                              (8)
                              
                                 
                                    
                                       σ
                                       O
                                       2
                                    
                                    =
                                    
                                       
                                          
                                             σ
                                             2
                                          
                                          β
                                       
                                       
                                          2
                                          −
                                          β
                                       
                                    
                                 
                              
                           
                        and the net stock variance,

                           
                              (9)
                              
                                 
                                    
                                       σ
                                       I
                                       2
                                    
                                    =
                                    
                                       σ
                                       2
                                    
                                    
                                       (
                                       k
                                       +
                                       
                                          1
                                          
                                             β
                                             (
                                             2
                                             −
                                             β
                                             )
                                          
                                       
                                       )
                                    
                                    ,
                                 
                              
                           
                        
                        Disney and Towill (2003). Fig. 6 plots the bullwhip ratio 
                           
                              (
                              
                                 σ
                                 O
                                 2
                              
                              /
                              
                                 σ
                                 2
                              
                              )
                              ,
                           
                         and the net stock variance ratio, NSAmp 
                           
                              (
                              
                                 σ
                                 I
                                 2
                              
                              /
                              
                                 σ
                                 2
                              
                              )
                              ,
                           
                         minus k as the influence of k is independent of β. The bullwhip ratio is unity at 
                           
                              β
                              =
                              1
                              ,
                           
                         zero at 
                           
                              β
                              =
                              0
                              ,
                           
                         ∞ at 
                           
                              β
                              =
                              2
                              ,
                           
                         strictly increasing, and convex in β. Note that the bullwhip ratio and order variance are not affected by the (possibly stochastic) lead time. The inventory variance is minimal (and equal to 
                           
                              1
                              +
                              k
                           
                        ) when 
                           
                              β
                              =
                              1
                              ,
                           
                         ∞ at 
                           
                              β
                              =
                              {
                              0
                              ,
                              2
                              }
                              ,
                           
                         and convex in β. As the lead time k influences the inventory variance, the stochastic lead time will have an effect on the inventory distribution. However, for constant lead times, 
                           
                              β
                              =
                              1
                           
                         minimizes the net stock variance, safety stock requirements, and inventory costs. Also note that in this constant lead time setting, the influence of k on the inventory variance is independent of β.

When 
                           
                              β
                              =
                              1
                              ,
                           
                         the MMSE forecasting assumption (4) has a number of consequences. The most important consequence is that the orders in each period are simply the demand in that period, 
                           
                              
                                 O
                                 t
                              
                              =
                              
                                 D
                                 t
                              
                           
                        . That is, the OUT policy acts as a ‘one-for-one’ or ‘pass-on-orders’ policy, a strategy often advocated by the lean production community.

In the constant lead time case the standard newsvendor critical fractile means that linear, convex inventory holding costs, h, and backlog costs, b, are minimized when

                           
                              (10)
                              
                                 
                                    
                                       T
                                       
                                          O
                                          U
                                          T
                                       
                                       *
                                    
                                    =
                                    
                                       σ
                                       
                                          I
                                          ,
                                          O
                                          U
                                          T
                                       
                                    
                                    
                                       Φ
                                       
                                          −
                                          1
                                       
                                    
                                    
                                       [
                                       
                                          b
                                          
                                             b
                                             +
                                             h
                                          
                                       
                                       ]
                                    
                                 
                              
                           
                        for the OUT policy. In the constant lead time case of the POUT policy,
                        
                           
                              (11)
                              
                                 
                                    
                                       T
                                       
                                          P
                                          O
                                          U
                                          T
                                       
                                       *
                                    
                                    =
                                    
                                       σ
                                       
                                          I
                                          ,
                                          P
                                          O
                                          U
                                          T
                                       
                                    
                                    
                                       Φ
                                       
                                          −
                                          1
                                       
                                    
                                    
                                       [
                                       
                                          b
                                          
                                             b
                                             +
                                             h
                                          
                                       
                                       ]
                                    
                                    .
                                 
                              
                           
                        
                     

For constant lead times, when β ≠ 1 then σ
                        
                           I, POUT
                         > σ
                        
                           I, OUT
                        . Also when b ≥ h, 
                           
                              0.5
                              ≤
                              α
                              =
                              b
                              /
                              (
                              b
                              +
                              h
                              )
                              ≤
                              1
                              ,
                           
                         so 
                           
                              
                                 T
                                 
                                    O
                                    U
                                    T
                                 
                                 *
                              
                              <
                              
                                 T
                                 
                                    P
                                    O
                                    U
                                    T
                                 
                                 *
                              
                           
                        . In other words, when the availability target, α, is greater than 50% for a constant lead time, the OUT policy will require less safety stock, because

                           
                              (12)
                              
                                 
                                    0
                                    <
                                    
                                       (
                                       
                                          T
                                          
                                             O
                                             U
                                             T
                                          
                                          *
                                       
                                       
                                          |
                                          
                                             α
                                             >
                                             0.5
                                          
                                       
                                       )
                                    
                                    <
                                    
                                       (
                                       
                                          T
                                          
                                             P
                                             O
                                             U
                                             T
                                          
                                          *
                                       
                                       
                                          |
                                          
                                             α
                                             >
                                             0.5
                                          
                                       
                                       )
                                    
                                    .
                                 
                              
                           
                        
                     

However, when b < h, 
                           
                              0
                              ≤
                              α
                              =
                              b
                              /
                              (
                              b
                              +
                              h
                              )
                              <
                              0.5
                              ,
                           
                         so 
                           
                              
                                 T
                                 
                                    P
                                    O
                                    U
                                    T
                                 
                                 *
                              
                              <
                              
                                 T
                                 
                                    O
                                    U
                                    T
                                 
                                 *
                              
                           
                        . That is, when the availability target is less than 50% then

                           
                              (13)
                              
                                 
                                    
                                       (
                                       
                                          T
                                          
                                             P
                                             O
                                             U
                                             T
                                          
                                          *
                                       
                                       
                                          |
                                          
                                             α
                                             <
                                             0.5
                                          
                                       
                                       )
                                    
                                    <
                                    
                                       (
                                       
                                          T
                                          
                                             O
                                             U
                                             T
                                          
                                          *
                                       
                                       
                                          |
                                          
                                             α
                                             <
                                             0.5
                                          
                                       
                                       )
                                    
                                    <
                                    0
                                    .
                                 
                              
                           
                        
                     

Note that when α > 0.5 (α < 0.5), the safety stock is positive (negative). The consequences of (12) and (13) will mean that there will be levels of availability where tighter control of inventory variance reduces safety stocks and levels of availability where tighter control of inventory variance increases safety stock requirements. Reductions in safety stock result from minimizing variance when the critical fractile lays on a leading (increasing) edge of the pdf; when the critical fractile lays on a trailing (falling) edge of the pdf, one should not minimize variance to reduce safety stock. Later we will show that the inventory pdf is multi-modal and this will lead to cases when the critical fractile swaps from leading to trailing edges (and vice versa) of the pdf. This effect was also noticed by Chopra et al. (2004).

In the stochastic lead time case the probability of a lead time of k periods is denoted by pk
                        . The minimum lead time is 
                           
                              k
                              =
                              0
                           
                         and the maximum lead time is 
                           
                              k
                              +
                           
                        . The average lead time (Zalkind, 1978) is given by

                           
                              (14)
                              
                                 
                                    
                                       k
                                       ¯
                                    
                                    =
                                    
                                       ∑
                                       
                                          k
                                          =
                                          0
                                       
                                       
                                          k
                                          +
                                       
                                    
                                    
                                       p
                                       k
                                    
                                    k
                                    .
                                 
                              
                           
                        
                     

The key to understanding the impact of the stochastic lead time is to consider the number of open replenishment orders in the WIP pipeline. Open orders are those that have been placed but not yet received. Notice that we are not describing the quantity of products on order, but the number of open orders. All orders placed 
                           
                              k
                              +
                           
                         or more periods ago are guaranteed to have been received. However, those placed later than 
                           
                              
                                 k
                                 +
                              
                              −
                              1
                           
                         periods ago may either be open (not yet received, denoted by a ‘1’) or closed (received, denoted by ‘0’). Since each of the 
                           
                              k
                              +
                           
                         positions in the pipeline is either open or closed, this means that there are 
                           
                              2
                              
                                 k
                                 +
                              
                           
                         possible states of the WIP pipeline.

The probability that the pipeline is in state i is denoted qi
                        . The relationship between pk
                         and qi
                         is rather complex. To explain the relationship, consider a case where the lead time possibilities are 
                           
                              
                                 p
                                 0
                              
                              =
                              0
                              ,
                           
                        
                        
                           
                              
                                 p
                                 1
                              
                              =
                              1
                              /
                              3
                              ,
                           
                        
                        
                           
                              
                                 p
                                 2
                              
                              =
                              1
                              /
                              2
                           
                         and 
                           
                              
                                 p
                                 3
                              
                              =
                              1
                              /
                              6
                           
                        . Note that the probabilities sum to unity and the maximum lead time is 
                           
                              
                                 k
                                 +
                              
                              =
                              3
                           
                        .


                        Table 1 describes all of the eight possible states to the WIP pipeline. The first column lists the state index, i. The next 4 columns denote the probability that order placed in period 
                           
                              t
                              −
                              x
                           
                         has been received. The final column is the product of the four probabilities and denotes the probability that the WIP pipeline is in a particular state, qi
                        .

Consider state 1, in this state all four positions in the WIP pipeline have been closed. This is denoted by m
                        
                           i, j
                         and made specific in the first row with binary digits. In the second row we have enumerated q
                        
                           i, j
                         which is the probability of that binary state occurring. This means that the probability of the last order (placed in period 
                           
                              t
                              −
                              1
                           
                        ) being received is zero, 
                           
                              
                                 q
                                 
                                    1
                                    ,
                                    1
                                 
                              
                              =
                              0
                           
                         as 
                           
                              
                                 p
                                 0
                              
                              =
                              0
                           
                        . The probability of the order placed two periods ago (at 
                           
                              t
                              −
                              2
                           
                        ) being received is 
                           
                              
                                 q
                                 
                                    1
                                    ,
                                    2
                                 
                              
                              =
                              
                                 p
                                 0
                              
                              +
                              
                                 p
                                 1
                              
                              ,
                           
                         the probability of the order placed three periods ago being received is 
                           
                              
                                 q
                                 
                                    1
                                    ,
                                    3
                                 
                              
                              =
                              
                                 p
                                 0
                              
                              +
                              
                                 p
                                 1
                              
                              +
                              
                                 p
                                 2
                              
                           
                        . The order placed four period ago, at 
                           
                              t
                              −
                              4
                           
                         are guaranteed to be closed as 
                           
                              
                                 q
                                 
                                    1
                                    ,
                                    4
                                 
                              
                              =
                              
                                 p
                                 0
                              
                              +
                              
                                 p
                                 1
                              
                              +
                              
                                 p
                                 2
                              
                              +
                              
                                 p
                                 3
                              
                              =
                              1
                           
                        . These probabilities are listed in the second row of information about the state. As there is no chance that the lead time 
                           
                              k
                              =
                              0
                           
                         (as 
                           
                              
                                 p
                                 0
                              
                              =
                              0
                           
                        ), then q
                        1, the probability of the pipeline being in state one is zero. This is also true for states two through four.

Now consider state 8, in this state the first three positions of the pipeline are open, the fourth is closed. Recall, an open order has yet to be received, a closed order has been received. The probability of the first position being open is 
                           
                              
                                 q
                                 
                                    8
                                    ,
                                    1
                                 
                              
                              =
                              1
                              −
                              
                                 p
                                 0
                              
                              ,
                           
                         the second position being open is 
                           
                              
                                 q
                                 
                                    8
                                    ,
                                    2
                                 
                              
                              =
                              1
                              −
                              
                                 (
                                 
                                    p
                                    0
                                 
                                 +
                                 
                                    p
                                    1
                                 
                                 )
                              
                              ,
                           
                         the third being open is 
                           
                              
                                 q
                                 
                                    8
                                    ,
                                    3
                                 
                              
                              =
                              1
                              −
                              
                                 (
                                 
                                    p
                                    0
                                 
                                 +
                                 
                                    p
                                    1
                                 
                                 +
                                 
                                    p
                                    2
                                 
                                 )
                              
                           
                        . The order placed four periods ago is still guaranteed to be closed, 
                           
                              
                                 q
                                 
                                    8
                                    ,
                                    4
                                 
                              
                              =
                              1
                           
                         as before. The probability that the pipeline is in state 8 is 
                           
                              
                                 q
                                 8
                              
                              =
                              
                                 (
                                 1
                                 +
                                 
                                    p
                                    0
                                 
                                 )
                              
                              
                                 (
                                 1
                                 −
                                 
                                    (
                                    
                                       p
                                       0
                                    
                                    +
                                    
                                       p
                                       1
                                    
                                    )
                                 
                                 )
                              
                              
                                 (
                                 1
                                 −
                                 
                                    (
                                    
                                       p
                                       0
                                    
                                    +
                                    
                                       p
                                       1
                                    
                                    +
                                    
                                       p
                                       2
                                    
                                    )
                                 
                                 )
                              
                              
                                 (
                                 
                                    p
                                    0
                                 
                                 +
                                 
                                    p
                                    1
                                 
                                 +
                                 
                                    p
                                    2
                                 
                                 +
                                 
                                    p
                                    3
                                 
                                 )
                              
                              =
                              
                                 1
                                 9
                              
                           
                        .

The complete set of pipeline states are shown in Table 1. It should also be clear from the process that leads to Table 1, that the sequence in which the orders actually arrive does not affect the calculation of probabilities, revealing that qi
                         is independent of the state of the pipeline.

We now formalize our methodology described above. Recall, qi
                         is the probability that the pipeline is in state i. Let M be a binary matrix with j= 1 to 
                           
                              k
                              +
                           
                         columns and 
                           
                              i
                              =
                              1
                           
                         to 
                           
                              2
                              
                                 k
                                 +
                              
                           
                         rows. Assign the (i, j) element of M a value according to

                           
                              (15)
                              
                                 
                                    
                                       m
                                       
                                          i
                                          ,
                                          j
                                       
                                    
                                    =
                                    
                                       
                                          1
                                          +
                                          
                                             
                                                (
                                                −
                                                1
                                                )
                                             
                                             υ
                                          
                                       
                                       2
                                    
                                 
                              
                           
                        where 
                           
                              υ
                              =
                              
                                 ⌈
                                 
                                    
                                       2
                                       
                                          j
                                          −
                                          
                                             k
                                             +
                                          
                                       
                                    
                                    i
                                 
                                 ⌉
                              
                           
                        . Each row of the M matrix represents a 
                           
                              k
                              +
                           
                        -tuple of binary digits that describes the state of the WIP pipeline. A zero in element m
                        
                           i, j
                         of matrix 
                           M
                         indicates that for state i, the order placed 
                           
                              j
                              −
                              1
                           
                         periods ago has been received (the order is closed), unity indicates that the order placed 
                           
                              j
                              −
                              1
                           
                         periods ago has not yet been received (it is open). Note, the order placed 
                           
                              k
                              +
                           
                         periods ago is always closed, thus j indexes through 1 to 
                           
                              k
                              +
                           
                         to represent the lead times 
                           
                              k
                              =
                              0
                           
                         to 
                           
                              
                                 k
                                 +
                              
                              −
                              1
                           
                        . There are 
                           
                              
                                 2
                              
                              
                                 k
                                 +
                              
                           
                         rows to M, one for each possible state of the order pipeline. The probability that the WIP pipeline is in state i is given by

                           
                              (16)
                              
                                 
                                    
                                       q
                                       i
                                    
                                    =
                                    
                                       1
                                       
                                          2
                                          
                                             k
                                             +
                                          
                                       
                                    
                                    
                                       ∏
                                       
                                          j
                                          =
                                          1
                                       
                                       
                                          k
                                          +
                                       
                                    
                                    
                                       [
                                       1
                                       +
                                       
                                          
                                             (
                                             −
                                             1
                                             )
                                          
                                          υ
                                       
                                       
                                          (
                                          2
                                          
                                             ∑
                                             
                                                k
                                                =
                                                j
                                             
                                             
                                                k
                                                +
                                             
                                          
                                          
                                             p
                                             k
                                          
                                          −
                                          1
                                          )
                                       
                                       ]
                                    
                                 
                              
                           
                        
                     

One can derive (16) by observing that in the ith pipeline state, the probability that an order placed j periods ago is open/closed can be expressed universally as

                           
                              (17)
                              
                                 
                                    
                                       
                                          
                                             q
                                             
                                                i
                                                ,
                                                j
                                             
                                          
                                       
                                       
                                          =
                                       
                                       
                                          
                                             
                                                m
                                                
                                                   i
                                                   ,
                                                   j
                                                
                                             
                                             
                                                ∑
                                                
                                                   k
                                                   =
                                                   j
                                                
                                                
                                                   k
                                                   +
                                                
                                             
                                             
                                                p
                                                k
                                             
                                             +
                                             
                                                (
                                                
                                                   1
                                                   −
                                                   
                                                      m
                                                      
                                                         i
                                                         ,
                                                         j
                                                      
                                                   
                                                
                                                )
                                             
                                             
                                                ∑
                                                
                                                   k
                                                   =
                                                   1
                                                
                                                
                                                   j
                                                   −
                                                   1
                                                
                                             
                                             
                                                p
                                                k
                                             
                                          
                                       
                                    
                                    
                                       
                                       
                                          =
                                       
                                       
                                          
                                             
                                                1
                                                2
                                             
                                             
                                                [
                                                
                                                   1
                                                   +
                                                   
                                                      
                                                         (
                                                         −
                                                         1
                                                         )
                                                      
                                                      υ
                                                   
                                                   
                                                      (
                                                      
                                                         2
                                                         
                                                            ∑
                                                            
                                                               k
                                                               =
                                                               j
                                                            
                                                            
                                                               k
                                                               +
                                                            
                                                         
                                                         
                                                            p
                                                            k
                                                         
                                                         −
                                                         1
                                                      
                                                      )
                                                   
                                                
                                                ]
                                             
                                             ,
                                          
                                       
                                    
                                 
                              
                           
                        and that qi
                         is the product of q
                        
                           i, j
                         over j.


                        Robinson et al. (2001) provided an iterative algorithm for determining the distribution of the number of open orders. It produces exactly the same results as (16) for finitely dimensioned discrete distributions.

We define a process as the sequence of a variable over time ({It
                        }, {Wt
                        } etc.). A sub-process is a subset of the process where the pipeline states (the completion status of previous orders, the rows in the 
                           M
                         matrix) are the same. Each sub-process is normally distributed (as the demand is normally distributed and each sub-process is the output of a linear system) and the distribution of the entire process can be multi-modal. We now require the mean and variance of the inventory levels in each of the sub-processes. We obtain this by first determining the distribution of the WIP in each sub-process and then each WIP sub-process is combined with a scaled replenishment order to obtain something we call the scaled shortfall distribution. A weighted sum of the scaled shortfall distributions in each sub-process then forms the complete inventory distribution.

We can rearrange (5) to obtain

                           
                              (18)
                              
                                 
                                    
                                       I
                                       t
                                    
                                    =
                                    T
                                    +
                                    μ
                                    
                                       (
                                       
                                          
                                             
                                                k
                                                ¯
                                             
                                             +
                                             1
                                          
                                          /
                                          β
                                       
                                       )
                                    
                                    −
                                    
                                       (
                                       
                                          
                                             W
                                             t
                                          
                                          +
                                          
                                             
                                                O
                                                t
                                             
                                             /
                                             β
                                          
                                       
                                       )
                                    
                                    .
                                 
                              
                           
                        
                     

For OUT policy (that is, when 
                           
                              β
                              =
                              1
                           
                        ) we can see that the inventory distribution is a reflected shortfall distribution, 
                           
                              (
                              
                                 W
                                 t
                              
                              +
                              
                                 O
                                 t
                              
                              )
                              ,
                           
                         translated by 
                           
                              T
                              +
                              μ
                              (
                              
                                 k
                                 ¯
                              
                              +
                              1
                              /
                              β
                              )
                           
                         (Robinson et al., 2001; Zalkind, 1978). When β ≠ 1 the Ot
                         component has become scaled by Ot
                        /β, in which case we call the distribution of 
                           
                              (
                              
                                 W
                                 t
                              
                              +
                              
                                 O
                                 t
                              
                              /
                              β
                              )
                           
                         the scaled shortfall distribution. We now require the mean and the variance of the scaled shortfall distribution for each sub-process. The complicating factors are that Ot
                         is auto-correlated and that the distributions of Wt
                         and Ot
                        /β are correlated with each other. As the system is linear the simplest way to proceed is to exploit the z-transform, which is defined by

                           
                              (19)
                              
                                 
                                    F
                                    
                                       (
                                       z
                                       )
                                    
                                    =
                                    Z
                                    
                                       {
                                       
                                          f
                                          
                                             [
                                             t
                                             ]
                                          
                                       
                                       }
                                    
                                    =
                                    
                                       ∑
                                       
                                          t
                                          =
                                          0
                                       
                                       ∞
                                    
                                    
                                       f
                                       
                                          [
                                          t
                                          ]
                                       
                                       
                                          z
                                          
                                             −
                                             t
                                          
                                       
                                    
                                    .
                                 
                              
                           
                        
                     

To determine the variance of the WIP in sub-process i, we first note that the variance of the orders maintained by the POUT policy is independent of the lead-time, as

                           
                              (20)
                              
                                 
                                    
                                       
                                          σ
                                          
                                             O
                                          
                                          2
                                       
                                       
                                          σ
                                          2
                                       
                                    
                                    =
                                    
                                       ∑
                                       
                                          t
                                          =
                                          0
                                       
                                       ∞
                                    
                                    
                                       
                                          
                                             (
                                             
                                                
                                                   Z
                                                   
                                                      −
                                                      1
                                                   
                                                
                                                
                                                   {
                                                   
                                                      
                                                         z
                                                         β
                                                      
                                                      
                                                         z
                                                         +
                                                         β
                                                         −
                                                         1
                                                      
                                                   
                                                   }
                                                
                                             
                                             )
                                          
                                       
                                       2
                                    
                                    =
                                    
                                       ∑
                                       
                                          t
                                          =
                                          0
                                       
                                       ∞
                                    
                                    
                                       
                                          
                                             (
                                             
                                                
                                                   
                                                      
                                                         (
                                                         
                                                            1
                                                            −
                                                            β
                                                         
                                                         )
                                                      
                                                   
                                                   t
                                                
                                                β
                                             
                                             )
                                          
                                       
                                       2
                                    
                                    =
                                    
                                       β
                                       
                                          2
                                          −
                                          β
                                       
                                    
                                    ,
                                 
                              
                           
                        
                        Disney and Towill (2003). Here, z is the z-transform operator,

                           
                              (21)
                              
                                 
                                    
                                       Z
                                       
                                          −
                                          1
                                       
                                    
                                    
                                       {
                                       
                                          F
                                          
                                             (
                                             z
                                             )
                                          
                                       
                                       }
                                    
                                    =
                                    
                                       1
                                       
                                          2
                                          π
                                          j
                                       
                                    
                                    
                                       ∮
                                       C
                                    
                                    
                                       F
                                       
                                          (
                                          z
                                          )
                                       
                                       
                                          z
                                          
                                             t
                                             −
                                             1
                                          
                                       
                                       d
                                       z
                                    
                                    =
                                    f
                                    
                                       [
                                       t
                                       ]
                                    
                                    ,
                                 
                              
                           
                        
                        f[t] is the inverse z-transform of the transfer function, F(z). 
                           
                              z
                              β
                              
                                 
                                    (
                                    
                                       z
                                       +
                                       β
                                       −
                                       1
                                    
                                    )
                                 
                                 
                                    −
                                    1
                                 
                              
                           
                         is the transfer function of the orders maintained by the POUT policy under i.i.d. demand and minimum mean squared error forecasting (Disney & Towill, 2003). The relationship between the variance ratio and the sum of the squared impulse response is known as Tsypkin’s (1964) relationship.

The pdf of the normal distribution with an argument of x, a mean of μ, and a standard deviation of σ, is defined by

                           
                              (22)
                              
                                 
                                    ϕ
                                    
                                       [
                                       
                                          x
                                          |
                                          μ
                                          ,
                                          σ
                                       
                                       ]
                                    
                                    =
                                    
                                       
                                          e
                                          
                                             
                                                −
                                                
                                                   
                                                      
                                                         (
                                                         
                                                            x
                                                            −
                                                            μ
                                                         
                                                         )
                                                      
                                                   
                                                   2
                                                
                                             
                                             /
                                             
                                                2
                                                
                                                   σ
                                                   2
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                                2
                                                π
                                             
                                          
                                          σ
                                       
                                    
                                    .
                                 
                              
                           
                        
                     

Using this notation, (9) leads to an order process described by the pdf,

                           
                              (23)
                              
                                 
                                    
                                       ϕ
                                       O
                                    
                                    =
                                    ϕ
                                    
                                       [
                                       
                                          
                                             x
                                             |
                                          
                                          μ
                                          ,
                                          
                                             
                                                
                                                   
                                                      σ
                                                      2
                                                   
                                                   β
                                                
                                                /
                                                
                                                   (
                                                   
                                                      2
                                                      −
                                                      β
                                                   
                                                   )
                                                
                                             
                                          
                                       
                                       ]
                                    
                                    .
                                 
                              
                           
                        
                     

The variance of WIP sub-process i, is given by the variance of the sum of the impulse responses of the open orders,

                           
                              (24)
                              
                                 
                                    
                                       
                                          σ
                                          
                                             W
                                             ,
                                             i
                                          
                                          2
                                       
                                       
                                          σ
                                          2
                                       
                                    
                                    =
                                    
                                       ∑
                                       
                                          t
                                          =
                                          0
                                       
                                       ∞
                                    
                                    
                                       
                                          ∑
                                          
                                             j
                                             =
                                             1
                                          
                                          
                                             k
                                             +
                                          
                                       
                                       
                                          
                                             
                                                (
                                                
                                                   
                                                      m
                                                      
                                                         i
                                                         ,
                                                         j
                                                      
                                                   
                                                   
                                                      Z
                                                      
                                                         −
                                                         1
                                                      
                                                   
                                                   
                                                      {
                                                      
                                                         
                                                            β
                                                            
                                                               z
                                                               
                                                                  1
                                                                  +
                                                                  j
                                                               
                                                            
                                                         
                                                         
                                                            z
                                                            +
                                                            β
                                                            −
                                                            1
                                                         
                                                      
                                                      }
                                                   
                                                
                                                )
                                             
                                          
                                          2
                                       
                                    
                                    .
                                 
                              
                           
                        where m
                        
                           i, j
                         is an element of the binary matrix M that captures whether an order is open or closed. The distribution of the scaled orders, Ot
                        /β, for all sub-processes, can be obtained using

                           
                              (25)
                              
                                 
                                    
                                       
                                          
                                             
                                                σ
                                                
                                                   
                                                      O
                                                      /
                                                      β
                                                   
                                                
                                                2
                                             
                                             
                                                σ
                                                2
                                             
                                          
                                       
                                       
                                          =
                                       
                                       
                                          
                                             
                                                ∑
                                                
                                                   t
                                                   =
                                                   0
                                                
                                                ∞
                                             
                                             
                                                
                                                   
                                                      (
                                                      
                                                         
                                                            Z
                                                            
                                                               −
                                                               1
                                                            
                                                         
                                                         
                                                            {
                                                            
                                                               z
                                                               /
                                                               
                                                                  (
                                                                  
                                                                     z
                                                                     +
                                                                     β
                                                                     −
                                                                     1
                                                                  
                                                                  )
                                                               
                                                            
                                                            }
                                                         
                                                      
                                                      )
                                                   
                                                
                                                2
                                             
                                             =
                                             
                                                ∑
                                                
                                                   t
                                                   =
                                                   0
                                                
                                                ∞
                                             
                                             
                                                
                                                   
                                                      (
                                                      
                                                         
                                                            
                                                               (
                                                               
                                                                  1
                                                                  −
                                                                  β
                                                               
                                                               )
                                                            
                                                         
                                                         t
                                                      
                                                      )
                                                   
                                                
                                                2
                                             
                                          
                                       
                                    
                                    
                                       
                                       
                                          =
                                       
                                       
                                          
                                             
                                                
                                                   (
                                                   
                                                      2
                                                      β
                                                      −
                                                      
                                                         β
                                                         2
                                                      
                                                   
                                                   )
                                                
                                                
                                                   −
                                                   1
                                                
                                             
                                             =
                                             
                                                
                                                   σ
                                                   
                                                      O
                                                   
                                                   2
                                                
                                                
                                                   
                                                      σ
                                                      2
                                                   
                                                   
                                                      β
                                                      2
                                                   
                                                
                                             
                                             ,
                                          
                                       
                                    
                                 
                              
                           
                        which leads to the following expression for its pdf:

                           
                              (26)
                              
                                 
                                    
                                       ϕ
                                       
                                          O
                                          /
                                          β
                                       
                                    
                                    =
                                    ϕ
                                    
                                       [
                                       
                                          
                                             x
                                             |
                                          
                                          
                                             μ
                                             /
                                             β
                                          
                                          ,
                                          
                                             
                                                
                                                   σ
                                                   2
                                                
                                                /
                                                
                                                   (
                                                   
                                                      2
                                                      β
                                                      −
                                                      
                                                         β
                                                         2
                                                      
                                                   
                                                   )
                                                
                                             
                                          
                                       
                                       ]
                                    
                                    .
                                 
                              
                           
                        
                     

The covariance between the WIP sub-process and the scaled orders sub-process is given by

                           
                              (27)
                              
                                 
                                    
                                       
                                          
                                             cov
                                             
                                                (
                                                
                                                   
                                                      W
                                                      i
                                                   
                                                   ,
                                                   
                                                      O
                                                      /
                                                      β
                                                   
                                                
                                                )
                                             
                                          
                                       
                                       
                                          =
                                       
                                       
                                          
                                             
                                                ∑
                                                
                                                   t
                                                   =
                                                   0
                                                
                                                ∞
                                             
                                             
                                                (
                                                
                                                
                                                   
                                                      Z
                                                      
                                                         −
                                                         1
                                                      
                                                   
                                                   
                                                      {
                                                      
                                                      
                                                         
                                                            ∑
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            
                                                               k
                                                               +
                                                            
                                                         
                                                         
                                                            
                                                               m
                                                               
                                                                  i
                                                                  ,
                                                                  j
                                                               
                                                            
                                                            
                                                               
                                                                  β
                                                                  
                                                                     z
                                                                     
                                                                        1
                                                                        −
                                                                        j
                                                                     
                                                                  
                                                               
                                                               
                                                                  z
                                                                  +
                                                                  β
                                                                  −
                                                                  1
                                                               
                                                            
                                                         
                                                      
                                                      
                                                      }
                                                   
                                                   
                                                      Z
                                                      
                                                         −
                                                         1
                                                      
                                                   
                                                   
                                                      {
                                                      
                                                         z
                                                         
                                                            z
                                                            +
                                                            β
                                                            −
                                                            1
                                                         
                                                      
                                                      }
                                                   
                                                
                                                
                                                )
                                             
                                          
                                       
                                    
                                    
                                       
                                       
                                          =
                                       
                                       
                                          
                                             cov
                                             
                                                (
                                                
                                                   
                                                      W
                                                      i
                                                   
                                                   ,
                                                   O
                                                
                                                )
                                             
                                             /
                                             β
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        
                     


                        
                           
                              
                                 σ
                                 
                                    I
                                    ,
                                    i
                                 
                                 2
                              
                              ,
                           
                         the variance of sub-process i in the inventory distribution, is equal to the variance of the shortfall distribution,

                           
                              (28)
                              
                                 
                                    
                                       σ
                                       
                                          I
                                          ,
                                          i
                                       
                                       2
                                    
                                    =
                                    
                                       σ
                                       
                                          W
                                          ,
                                          i
                                       
                                       2
                                    
                                    +
                                    
                                       
                                          σ
                                          
                                             O
                                          
                                          2
                                       
                                       /
                                       
                                          β
                                          2
                                       
                                    
                                    +
                                    2
                                    cov
                                    
                                       (
                                       
                                          
                                             W
                                             i
                                          
                                          ,
                                          O
                                       
                                       )
                                    
                                    /
                                    β
                                    .
                                 
                              
                           
                        
                     

The mean of each of the sub-processes of the inventory distribution can be shown to be

                           
                              (29)
                              
                                 
                                    
                                       μ
                                       
                                          I
                                          ,
                                          i
                                       
                                    
                                    =
                                    T
                                    +
                                    μ
                                    
                                       (
                                       
                                          
                                             k
                                             ¯
                                          
                                          −
                                          
                                             ∑
                                             
                                                j
                                                =
                                                1
                                             
                                             
                                                k
                                                +
                                             
                                          
                                          
                                             m
                                             
                                                i
                                                ,
                                                j
                                             
                                          
                                       
                                       )
                                    
                                    .
                                 
                              
                           
                        
                     

The complete pdf inventory distribution is then given by

                           
                              (30)
                              
                                 
                                    
                                       ϕ
                                       I
                                    
                                    =
                                    
                                       ∑
                                       
                                          i
                                          =
                                          1
                                       
                                       
                                          2
                                          
                                             k
                                             +
                                          
                                       
                                    
                                    
                                       q
                                       i
                                    
                                    ϕ
                                    
                                       [
                                       
                                          
                                             x
                                             |
                                          
                                          
                                             μ
                                             
                                                I
                                                ,
                                                i
                                             
                                          
                                          ,
                                          
                                             
                                                
                                                   σ
                                                   2
                                                
                                                
                                                   σ
                                                   
                                                      I
                                                      ,
                                                      i
                                                   
                                                   2
                                                
                                             
                                          
                                       
                                       ]
                                    
                                    .
                                 
                              
                           
                        
                     

We emphasize that ϕI
                         is a multi-modal pdf as it is a combination of the normally distributed pdfs with different means and variances weighted by qi
                        . The average inventory is given by T and this can be set arbitrarily. However, if one wishes to minimize inventory holding and backlog costs, T becomes a function of β. The variance of the complete, multi-modal, inventory is given by
                        
                           
                              (31)
                              
                                 
                                    
                                       σ
                                       
                                          I
                                       
                                       2
                                    
                                    =
                                    
                                       ∫
                                       
                                          −
                                          ∞
                                       
                                       ∞
                                    
                                    
                                       
                                          ϕ
                                          I
                                       
                                       
                                          
                                             
                                                (
                                                
                                                   T
                                                   −
                                                   x
                                                
                                                )
                                             
                                          
                                          2
                                       
                                       d
                                       x
                                       =
                                    
                                    
                                       ∑
                                       
                                          i
                                          =
                                          1
                                       
                                       
                                          2
                                          
                                             k
                                             +
                                          
                                       
                                    
                                    
                                       q
                                       i
                                    
                                    
                                       (
                                       
                                          
                                             
                                                
                                                   (
                                                   
                                                      
                                                         ∑
                                                         
                                                            j
                                                            =
                                                            1
                                                         
                                                         
                                                            k
                                                            +
                                                         
                                                      
                                                      
                                                         m
                                                         
                                                            i
                                                            ,
                                                            j
                                                         
                                                      
                                                   
                                                   )
                                                
                                             
                                             2
                                          
                                          
                                             μ
                                             2
                                          
                                          +
                                          
                                             σ
                                             2
                                          
                                          
                                             σ
                                             
                                                I
                                                ,
                                                i
                                             
                                             2
                                          
                                       
                                       )
                                    
                                    .
                                 
                              
                           
                        
                     


                        Eq. (31) shows that the inventory variance contains a weighted sum of the variances of individual sub-processes. Eq. (31) also shows that the mean demand has an influence on the variance of the inventory levels, an effect that does not happen with constant lead times. An influence of the mean demand can be also seen in the standard random sum of random variables variance equation, 
                           
                              
                                 k
                                 ¯
                              
                              
                                 σ
                                 2
                              
                              +
                              
                                 μ
                                 2
                              
                              
                                 σ
                                 
                                    k
                                 
                                 2
                              
                           
                        . However, we note that (31) has a different structure from this formula, and will produce significantly different guidance for the inventory variance and safety stock. One should not be surprised at this because the random variables in the random sum are drawn from different distributions in the (P)OUT policy.

When simulating this scenario in a spreadsheet for verification of our analytical approach, we found that it is convenient to generate alongside the order, Ot
                        , a random number used to determine the lead time for that order. We can then determine with a simple logical test the time at which the order is received. This ensures that complete orders are received, i.e. they are not split—each individual order is received all at once. As we allow for orders to cross some periods receive more than one order; in other periods there could be no receipts. This is consistent with our practical experience discussed earlier. Notice that we also assumed that the random lead times are independent of all the other system states.

Consider the situation when 
                        
                           
                              k
                              +
                           
                           =
                           4
                        
                     . Table 2 details the pipeline states (M), the variance of the net stock, and the mean of each of the 
                        
                           
                              2
                              
                                 k
                                 +
                              
                           
                           =
                           16
                        
                      individual sub-processes to the inventory distribution. It can be easily shown that each of the expressions for the variance (and the standard deviations) of the inventory sub-processes is infinite at 
                        
                           β
                           =
                           
                              {
                              
                                 0
                                 ,
                                 2
                              
                              }
                           
                        
                     . Furthermore, each sub-process has a single unique minimum, 
                        
                           
                              β
                              
                                 i
                              
                              *
                           
                           ,
                        
                      which is also detailed in Table 2. We can see that 
                        
                           
                              β
                              
                                 i
                              
                              *
                           
                           =
                           1
                        
                      exists only in the sub-processes that do not contain order cross-overs. All of the sub-processes that contain order-crossover have 
                        
                           
                              β
                              
                                 i
                              
                              *
                           
                           <
                           1
                        
                     .

An intuitive explanation of this is as follows (to avoid unnecessary notation assume, for this paragraph only, that 
                        
                           σ
                           =
                           1
                        
                     ). Recall, the variance of each of the inventory sub-processes is given by (28) and 
                        
                           
                              σ
                              
                                 O
                              
                              2
                           
                           /
                           
                              β
                              2
                           
                        
                      is infinite at 
                        
                           β
                           =
                           {
                           0
                           ,
                           2
                           }
                           ,
                        
                      minimized to unity at 
                        
                           β
                           =
                           1
                           ,
                        
                      and convex in β. For the sub-processes without order crossover then 
                        
                           
                              σ
                              
                                 W
                                 ,
                                 i
                              
                              2
                           
                           +
                           2
                           cov
                           
                              (
                              
                                 W
                                 i
                              
                              ,
                              O
                              )
                           
                           /
                           β
                           =
                           
                              ∑
                              
                                 j
                                 =
                                 1
                              
                              
                                 k
                                 +
                              
                           
                           
                              m
                              
                                 i
                                 ,
                                 j
                              
                           
                           ,
                        
                      a constant. The variance of the sub-processes without order crossover are then clearly minimized at 
                        
                           β
                           =
                           1
                        
                     . However, for sub-processes with order cross-over then 
                        
                           
                              σ
                              
                                 W
                                 ,
                                 i
                              
                              2
                           
                           +
                           2
                           cov
                           
                              (
                              
                                 W
                                 i
                              
                              ,
                              O
                              )
                           
                           /
                           β
                        
                      is convex in β between 
                        
                           β
                           =
                           0
                        
                      and 
                        
                           β
                           =
                           1
                        
                      and equal to 
                        
                           
                              ∑
                              
                                 j
                                 =
                                 1
                              
                              
                                 k
                                 +
                              
                           
                           
                              m
                              
                                 i
                                 ,
                                 j
                              
                           
                        
                      at 
                        
                           β
                           =
                           {
                           0
                           ,
                           1
                           }
                        
                     . This implies there will be a minimum in 
                        
                           σ
                           
                              I
                              ,
                              i
                           
                           2
                        
                      between 0 ≤ β < 1. As the complete inventory pdf is a weighted sum of independent variances, some minimized with 
                        
                           β
                           =
                           1
                           ,
                        
                      some minimized with β < 1, then the β that minimizes the variance of the complete inventory distribution is 
                        
                           
                              β
                              σ
                              *
                           
                           <
                           1
                        
                     . Also, the proportion of states with order crossover increases in 
                        
                           k
                           +
                        
                      as the number of states with order crossovers is given by 
                        
                           
                              2
                              
                                 k
                                 +
                              
                           
                           −
                           
                              (
                              
                                 k
                                 +
                              
                              +
                              1
                              )
                           
                        
                     . This suggests that the role of β becomes more important as 
                        
                           k
                           +
                        
                      increases.


                     Table 2 details the first and second order moments of each of the subprocesses for a maximum lead time of 
                        
                           
                              k
                              +
                           
                           =
                           4
                        
                     . To identify the probability of the pipeline being in state i, we now need to make the results in Table 2 specific by enumerating the lead time probabilities. Assume 
                        
                           {
                           
                              p
                              0
                           
                           =
                           
                              1
                              2
                           
                           ,
                           
                              p
                              1
                           
                           =
                           
                              p
                              2
                           
                           =
                           
                              p
                              3
                           
                           =
                           0
                           ,
                           
                              p
                              4
                           
                           =
                           
                              1
                              2
                           
                           }
                        
                      which we have chosen as it allows us to better reveal the impact of the order crossovers. It may also be representative of a supply chain where 50% of orders are sent via ship with a lead time of four and 50% are sent by air with a lead time of zero. That is, the air shipments arrive before the next order is made. The maximum lead time is 
                        
                           
                              k
                              +
                           
                           =
                           4
                        
                      and the average lead time is 
                        
                           
                              k
                              ¯
                           
                           =
                           2
                        
                     . Using (5) we are then able to determine the probability that the pipeline is in state i, is 
                        
                           ∀
                           i
                           ,
                           
                              q
                              i
                           
                           =
                           0.0625
                        
                     . Note that in general, the probability that the pipeline is in a particular state need not be, and almost never is, the same as the probability that the pipeline is another state.

Assigning costs to the inventory holding and backlog positions with (1) it is possible to show that

                        
                           (32)
                           
                              
                                 
                                    
                                       
                                          
                                             d
                                             J
                                          
                                          
                                             d
                                             β
                                          
                                       
                                       |
                                    
                                    
                                       β
                                       =
                                       1
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             σ
                                             2
                                          
                                       
                                       
                                          (
                                          
                                             b
                                             +
                                             h
                                          
                                          )
                                       
                                       
                                          e
                                          
                                             −
                                             
                                                
                                                   
                                                      
                                                         (
                                                         
                                                            T
                                                            +
                                                            μ
                                                         
                                                         )
                                                      
                                                   
                                                   2
                                                
                                                /
                                                
                                                   4
                                                   
                                                      σ
                                                      2
                                                   
                                                
                                             
                                          
                                       
                                       
                                          (
                                          
                                             6
                                             +
                                             3
                                             
                                                2
                                             
                                             
                                                e
                                                
                                                   
                                                      (
                                                      
                                                         
                                                            T
                                                            2
                                                         
                                                         +
                                                         6
                                                         T
                                                         μ
                                                         +
                                                         
                                                            μ
                                                            2
                                                         
                                                      
                                                      )
                                                   
                                                   /
                                                   
                                                      8
                                                      
                                                         σ
                                                         2
                                                      
                                                   
                                                
                                             
                                             +
                                             4
                                             
                                                6
                                             
                                             
                                                e
                                                
                                                   
                                                      (
                                                      
                                                         
                                                            T
                                                            2
                                                         
                                                         +
                                                         6
                                                         T
                                                         μ
                                                         +
                                                         3
                                                         
                                                            μ
                                                            2
                                                         
                                                      
                                                      )
                                                   
                                                   /
                                                   
                                                      12
                                                      
                                                         σ
                                                         2
                                                      
                                                   
                                                
                                             
                                          
                                          )
                                       
                                    
                                    
                                       64
                                       
                                          π
                                       
                                    
                                 
                                 >
                                 0
                                 ,
                              
                           
                        
                     implying that, for all cost combinations, the OUT policy is never optimal as there always exists a β < 1 which is more economical.

Together with the variances of the individual sub-processes detailed in Table 2, and Eqs. (4) and (18) we are now able to obtain an expression of the pdf of the inventory levels, which we plot in Fig. 7. Fig. 7 illustrates two cases of the OUT policy (that is when 
                        
                           β
                           =
                           1
                           ,
                        
                      and in both we have set the safety stock, T, to minimize J when h=1, b=9. In the first case 
                        
                           μ
                           =
                           100
                        
                      and we can clearly see that there are five modes in the inventory pdf. Although the probability of being in each of the 16 states is equal in this case, the 16 states have only five unique means. This leads to the differences in the size of each mode but, ultimately, they are all functions of μ, σ, and the lead time probabilities. In the other case, 
                        
                           μ
                           =
                           40
                        
                      and the distributions of the sub-processes overlap more. Furthermore, the complete pdf of the 
                        
                           μ
                           =
                           40
                        
                      case has less variance, and requires less safety stock, than the 
                        
                           μ
                           =
                           100
                        
                      case.

When 
                        
                           μ
                           =
                           100
                           ,
                        
                      the inventory levels have a variance of 10,300 for the OUT policy. Numerical experiments reveal that there is a single minimum inventory variance (or standard deviation) at 
                        
                           
                              β
                              σ
                              *
                           
                           =
                           0.73
                        
                      and the net stock variance is 10,280—0.2% less than the OUT variance. For the 
                        
                           μ
                           =
                           40
                        
                      case, the inventory variance maintained by the OUT policy is 1900, the numerically optimized feedback parameter is the same, 
                        
                           
                              β
                              σ
                              *
                           
                           =
                           0.73
                           ,
                        
                      and the net stock variance is 1879—a 1% reduction.

Using numerical techniques we can find the optimal proportional feedback controller β
                     *, and safety stock T, that minimizes the inventory cost. When we have set {β
                     *, T} optimally, Fig. 8
                      describes the percentage economic gain 
                        
                           
                              (
                              
                                 
                                    (
                                    
                                       
                                          J
                                          
                                             O
                                             U
                                             T
                                          
                                       
                                       −
                                       
                                          J
                                          
                                             P
                                             O
                                             U
                                             T
                                          
                                       
                                    
                                    )
                                 
                                 
                                    J
                                    
                                       O
                                       U
                                       T
                                    
                                    
                                       −
                                       1
                                    
                                 
                                 ×
                                 100
                                 %
                              
                              )
                           
                           ,
                        
                      from using the POUT policy. While the improvement is rather small (note that 0.8 means 0.8% not 80%), the POUT is always more economical than the OUT policy. These cost reductions are induced by a reduction in the inventory variance. The variance consists of two parts, one with different modes which depend on μ, but independent of β; the other one is a function of the variances of each sub-process which does depend on β. The former part is dominant, hence the inventory cost benefit of the POUT policy is limited and decreases in μ.


                     Fig. 9
                      plots β
                     * for different cost ratios and different mean demands. We see that β
                     * is near unity when the availability target is (very) near 0% or 100%, but for most availability targets β
                     * ≈ 0.725. Interestingly, almost always, 
                        
                           
                              β
                              *
                           
                           ≠
                           
                              β
                              σ
                              *
                           
                        
                      implying that the tightest inventory control does not always lead to the minimal cost. The abrupt changes in β
                     * that we see in Fig. 9 are a result of the critical fractile moving from leading to trailing edges of the modes in the inventory pdf. When the cost ratios are such that the critical fractile lies on the leading edge, β
                     * tends towards unity; when they are on a falling edge β
                     * reduces. The sharp changes occur when the critical fractile occurs at a peak of a mode.


                     Fig. 10
                      shows the safety stock requirements when β
                     * is used for different cost ratios. The multi-modal nature of the 
                        
                           μ
                           =
                           100
                        
                      case results in rapid increases in the safety stock requirement at predictable points on the availability scales. These are also related to the multi-modal pdf of the inventory levels as the safety stock requirements are a function of the cdf of inventory. Furthermore, between 40% and 60% availability, the two demand settings require very similar amounts of safety stock. As it is not possible to visually distinguish between the optimal POUT safety stock, TPOUT
                      , and the optimal safety stock for the OUT policy, TOUT
                     , we have plotted the difference, 
                        
                           
                              T
                              
                                 P
                                 O
                                 U
                                 T
                              
                           
                           −
                           
                              T
                              
                                 O
                                 U
                                 T
                              
                           
                           ,
                        
                      in Fig. 11
                     . Here we can see that, although the POUT policy is economically superior, minimum safety stock does not always coincide with least costs, even when the service level is high. This is an insight that is contrary to the constant lead time case where the least cost solution always has the smallest safety stocks.

An intuitive explanation of this is as follows. Consider a constant lead time where the cost ratio is such that the optimal availability is less than 50%. In order to minimize the safety stock requirements then we should set 
                        
                           β
                           =
                           0
                        
                      to make 
                        
                           
                              σ
                              I
                           
                           =
                           ∞
                        
                      and the safety stock required is then 
                        
                           
                              T
                              *
                           
                           =
                           −
                           ∞
                        
                     . However, in this case the inventory costs 
                        
                           J
                           =
                           ∞
                        
                     . Under a stochastic lead time, due to the multi-modality of the inventory distribution, these trailing edge effects can happen in the whole range of availability targets (over 0 < α < 1, not just for α < 0.5).


                     Fig. 12
                      highlights the bullwhip ratio achieved when β
                     * is used in the POUT policy. We can see that a 40% reduction in order variance is possible between 8% to 92% availability. This is interesting as the objective function consists only of inventory related costs. If costs are associated with order variability are also present, these will also be reduced. This is an important result as order variance costs are somewhat harder to quantify, even though the bullwhip effect is widely recognized as having a negative effect on supply chain performance (Lee et al., 2000).


                     Table 3 revisits the 12 empirical lead time distributions in Fig. 1 (cases 1–12) and the case in Fig. 2 (case 13). A demand with a mean of 
                        
                           μ
                           =
                           40
                        
                      and a standard deviation of 
                        
                           σ
                           =
                           10
                        
                      was assumed. The availability target is held constant at 90% with a unit backlog cost per period of 
                        
                           b
                           =
                           9
                        
                      and a unit holding cost of 
                        
                           h
                           =
                           1
                        
                     . We take note of the minimized costs (J) from optimising the safety stock (T
                     *) in the OUT policy. Recall, the variance of the orders in the OUT policy is always equal to the demand variance (
                        
                           
                              σ
                              O
                           
                           =
                           σ
                           =
                           10
                        
                     ). For the POUT policy we note the minimized costs (J) from optimising both the safety stock (T
                     *) and the feedback controller (β
                     *). We also calculate the variance of the orders and the percentage reduction in the inventory costs from using the POUT policy.

The POUT policy is always more economical than the OUT policy, and the optimal β
                     * < 1. Usually, the safety stock requirements of the POUT policy is less than the OUT policy, but not for cases 3 and 4. In case 10, the probability of order crossovers is very small and the β is very close to unity. However in these practical examples, the optimal β is generally around 0.8–0.9. While the inventory cost benefit is very small, the reduction in the order variance is more significant and comes ‘for free’ under stochastic lead times. The order was reduced by 37% in case 11, and just 1% in case 10, but the average reduction in order variance is 20%.

@&#CONCLUSIONS@&#

As globalization accelerates, lengthening supply chains bring complications and pitfalls associated with increasing uncertainty in both demand and lead time. We determined how these characteristics actually impact the safety stock required to minimize inventory holding and backlog costs. We began by presenting global logistics data that violated the traditional normality assumption about lead times. We also provided a real-world example of order crossover.

We introduced a new approach for calculating the distribution of open orders. This allowed us to formulate and test a method that resulted in an exact solution for the safety stock calculation. Since the enumeration of open orders is combinatoric in nature, it explicitly allowed for order crossover. We showed that using the POUT strategy always results in lower inventory costs when stochastic lead times with order crossover are present. Our model settings were motivated by real-world settings and consisted of a discretely distributed lead time and a continuously distributed demand process.

Our novel contribution is a new method to obtain the distribution of the inventory levels in the presence of correlation between the WIP and orders, via the so-called scaled shortfall distribution. This builds upon another unique contribution—the M-matrix and the associated method to determine the probability of the pipeline being in each of its possible 
                        
                           2
                           
                              k
                              +
                           
                        
                      states. Furthermore, we considered the impact of correlation in orders and the covariance between orders and WIP in a stochastic lead time setting with order crossovers. Our methodology can be used to investigate the impact of auto-correlated demand, non-MMSE forecasting methods, more sophisticated replenishment policies, and information sharing strategies.

In the constant lead time case, or the non-crossover stochastic lead time case, 
                        
                           β
                           =
                           1
                        
                      will minimize the variance (or equivalently the standard deviation) of the inventory levels and result in the minimum inventory costs when the safety stock is set to the critical fractile (Brown, 1963). However, in the stochastic lead time with order crossover case, minimizing the variance of the inventory levels, by tuning β, will not always result in minimal costs. While the optimal β
                     *, may be near unity, it is never unity and changes significantly with the availability target, see Fig. 9.

The stochastic lead time case with order crossover results in a surprising paradox. Minimizing inventory costs does not always lead to minimum safety stocks. However, the relationship between holding and backlog costs and the availability achieved at the most economical solution does still hold. This leads to an important insight: costs should be used to design the system because focusing on minimizing inventory variance, or safety stocks, can lead to an incorrectly specified system. We conclude that care must be taken when determining safety stock requirements under a stochastic lead time with order crossovers. One cannot simply use the first two moments of the inventory distribution; one needs to use whole pdf because the distribution of the inventory levels is multi-modal.

We have demonstrated that the OUT policy is not the optimal policy when order crossover exists, as the linear POUT economically outperforms it. We have not proven the optimality of the POUT policy itself. Indeed it is known that the optimal policy is non-linear, see Srinivasan et al. (2011). However, the POUT policy has a long history and has been successfully implemented in practice. See Potter and Disney (2010) for details of an implementation at the UK grocery retailer, Tesco and Disney et al. (2013) for an implementation in a global printer manufacturer.

We note that our model/approach takes no account of state dependent or autocorrelated lead times. Seasonal congestion in ports is a well observed phenomena and this would lead one to suspect that lead times are positively auto-correlated. Furthermore, in order to avoid an imminent stock-out, companies may air-freight cargo leading to a lead time that is a function of the state of the supply chain. We have also not considered the consequences of non-normal demands. If demand is not normally distributed, then the complete pdf of each sub-process has to be obtained. Presumably this could be achieved with convolution but this it is beyond the scope of the paper. These issues remain interesting areas for future work.

@&#REFERENCES@&#

