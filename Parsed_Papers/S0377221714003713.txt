@&#MAIN-TITLE@&#A methodology based on profitability criteria for defining the partial defection of customers in non-contractual settings

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           We propose a methodology for optimizing the selection of a churn definition in a firm.


                        
                        
                           
                           Each churn definition is evaluated using two economic measures: profit and return.


                        
                        
                           
                           The definition maximizing profit and return is selected by multiobjective programming.


                        
                        
                           
                           The cost that the firm should invest per client to preventing churn is also optimized.


                        
                        
                           
                           A big real database has been used for numerical experiments with satisfactory results.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Marketing

Churn analysis

Non-contractual retailing

Cost benefit analysis

Multiobjective optimization

@&#ABSTRACT@&#


               
               
                  The defection or churn of customers represents an important concern for any company and a central matter of interest in customer base analysis. An additional complication arises in non-contractual settings, where the characteristics that should be observed to saying that a customer has totally or partially defected are not clearly defined. As a matter of fact, different definitions of the churn situation could be used in this context. Focusing on non-contractual settings, in this paper we propose a methodology for evaluating the short-time economic effects that using a certain definition of churn would have on a company. With this aim, we have defined two efficiency measures for the economic results of a marketing campaign implemented against churn, and these measures have been computed using a set of definitions of partial defection. Our methodology finds that definition maximizing both efficiency measures and moreover, the monetary amount that the company should invest per customer in the campaign for achieving the optimal solution. This has been modelled as a multiobjective optimization problem that we solved using compromise programming. Numerical results using real data from a Spanish retailing company are presented and discussed in order to show the performance and validity of our proposal.
               
            

@&#INTRODUCTION@&#

The fact of a customer ending his commercial relations with a company is usually known as defection or churn. For any firm, it has become a critical issue knowing beforehand which of their customers are more likely to become churners. Why is it so important to anticipate the defection of a customer? Reichheld and Sasser (1990) and Zeithaml, Berry, and Parasuraman (1996) (among others) have analyzed the negative impact of customer defections on a company profits. The loss of customers not only entails opportunity costs due to reduced sales, but also leads to an increased need to attract new customers, which is 5–6 times more expensive than selling to the existing customers (see also Bhattacharya, 1998 or Dyché, 2002).

Churn has been extensively treated in the recent literature related to customer-base analysis. In this sense, a distinction between contractual and non-contractual business settings is fundamental, because it is completely inappropriate to apply a model developed for a contractual setting in a non-contractual setting (see for example Reinartz & Kumar, 2000). Contractual environments are characterized by the existence of a contract between the firm and the customer; in such a case, the date of churn is clearly known and it matches up with the contract cancellation date. However, in a non-contractual setting there is no agreement or affiliation between the buyer and seller. In most cases, the customers can change their pattern of purchases without informing the seller. The difficulty lies in defining analytically when a customer becomes effectively inactive in an environment that is not governed by a contract between both parts.

There is relatively little literature dealing with churn definition in non-contractual settings. Most of the papers related to this case propose probability models; Fader and Hardie (2009) provide a review of such models that are well-suited for forward-looking projections in customer-base analysis. Probability models assume an underlying probability distribution for the buying behaviour of customers and this is used for estimating at any time T the probability of a customer being “alive” or active, the customer lifetime value or the expected future number of purchases. The negative binomial distribution (NBD) model by Ehrenberg (1959) was the starting point for modelling the repeated purchase behaviour. One of the first references proposing a NBD model is the work by Schmittlein, Morrison, and Colombo (1987); extensions and empirical validations of this model can be found in Schmittlein and Peterson (1994) or Fader, Hardie, and Lee (2005), while applications can be found for example in Reinartz and Kumar (2000), Reinartz and Kumar (2003) and Hopmann and Thede (2005). Also with a stochastic approach, Netzer, Lattin, and Srinivasan (2008) apply a Hidden Markov model in order to capture the dynamics of the behaviour of the customers (donors of several universities). Apart from these probability models, most definitions of churn use the product activity of a customer and a threshold fixed by a business rule. Following this line, Buckinx and Van den Poel (2005) used real data from a company in the retailing sector in order to propose an analytical definition of churners based basically on the mean frequency of purchases and on the interpurchase time. We will refer to the approach of Buckinx and Van den Poel (2005) in more detail later, when we formally define the class of churn definitions. Also in the retailing sector, Miguéis, Van den Poel, Camanho, and Falcão e Cunha (2012) and Miguéis, Camanho, and Falcão e Cunha (2013) classify those customers who, from a certain period, did not buy anything else and those who in all subsequent periods spent less than a fixed threshold as churners. On the other hand, Glady, Baesens, and Croux (2009) proposed instead to define churners as those customers with a decreasing future customer lifetime value, and for whom a retention action is profitable.

As we can see, different definitions of churn in non-contractual settings have been (and could be) established. Which one is more appropriate? or more precisely, how to evaluate the adequacy of a churn definition? That is the main question that we address in this study. Because most companies rely on performance criteria in making their decisions, we recommend selecting a churn definition based on economic parameters.

In this paper, we propose a comprehensive methodology based on economic arguments in order to build a definition for the partial defection of customers in a non-contractual setting. Despite being a vital aspect, there are very few references in the literature from this economical point of view. We claim that our objective is not exactly to establish a single definition of churn but to provide with a tool aimed to evaluate any churn definition and to decide if its implementation would be economically convenient for the company.

First of all, in Section 2 we propose a formal way to generate different definitions of partial defection, which we will use in this paper. Section 3 includes our proposal for evaluating economically a definition of churn; we propose to take into account the gains and losses that the execution of marketing actions to avoid customer’s defection would mean for the company. Our methodology for choosing the most convenient (from the economic point of view) among several definitions is presented in Section 4; our proposal consists of maximizing both profits and return due to the campaign based on the churn definition, and this appears to be a multiobjective programming problem. In order to analyze the benefits of our methodology, in Sections 5 and 6 we present and discuss numerical results using real data provided by a company of commercial retail distribution in Spain. For comparison purposes, we have used the work of Buckinx and Van den Poel (2005), due to the similarities of our environments and data. Conclusions of the paper are shown in Section 7.

In this section, we present a new family of definitions of churn. Similarly to Buckinx and Van den Poel (2005), we will focus on partial defection and we consider it as a change in the status of a customer. How do you define this change, is the first question. The fact of this definition being or not profitable, is a different one that we will face separately in a subsequent section.

In their paper, Buckinx and Van den Poel (2005) propose focusing only on the best customers of the company in order to study partial defection. At some specific point in time T, they define two segments of clients (loyal and unloyal customers) based on their behavioural attributes. A customer is classified into the loyal segment if he/she satisfies the following two conditions during a period of 5months before T: (a) frequency of purchases is above average and; (b) coefficient of variation of the interpurchase time is below average. That is, loyal customers are those who shop frequently and exhibit a regular buying pattern; the rest of customers are considered to be unloyal. Their objective is to determine which behaviourally loyal clients in the database at time T may partially switch their purchases to another store after T. Thus, they classify a customer as partially defective if he has moved from the loyal segment before T to the unloyal segment during the 5months after T.

We propose a generalization of the definition of churn of Buckinx and Van den Poel (2005). In the following, at a time T we will call period of observation to the period of k months before T and period of evolution to the period of k months after T, for 
                           
                              k
                              ⩾
                              1
                           
                        .

Let us consider a set 
                           
                              X
                              (
                              c
                              ,
                              j
                              )
                           
                         of behavioural variables in the database, each variable in this set measured monthly during a period j for each customer c. Moreover, consider a set of pairs 
                           
                              {
                              (
                              
                                 
                                    v
                                 
                                 
                                    i
                                 
                              
                              (
                              X
                              (
                              c
                              ,
                              j
                              )
                              )
                              ,
                              
                                 
                                    t
                                 
                                 
                                    i
                                 
                              
                              )
                              ,
                              i
                              =
                              1
                              ,
                              …
                              ,
                              h
                              }
                              ,
                              h
                              ⩾
                              1
                           
                        , where each 
                           
                              
                                 
                                    v
                                 
                                 
                                    i
                                 
                              
                              (
                              X
                              (
                              c
                              ,
                              j
                              )
                              )
                           
                         is an univariate function of the variables in 
                           
                              X
                              (
                              c
                              ,
                              j
                              )
                           
                        . We will call loyal segment at the period j to the group of customers for which 
                           
                              
                                 
                                    v
                                 
                                 
                                    i
                                 
                              
                              (
                              X
                              (
                              c
                              ,
                              j
                              )
                              )
                              ⩾
                              
                                 
                                    t
                                 
                                 
                                    i
                                 
                              
                           
                         for all i, and improvable segment to the group formed by the rest of customers, for 
                           
                              j
                              =
                              0
                           
                         (period of observation), 1 (period of evolution). Then, the partial defection of a customer can be formally defined as follows.
                           Definition 1
                           Given a temporal length k and a loyalty segmentation defined by 
                                 
                                    {
                                    (
                                    
                                       
                                          v
                                       
                                       
                                          i
                                       
                                    
                                    (
                                    X
                                    (
                                    c
                                    ,
                                    j
                                    )
                                    )
                                    ,
                                    
                                       
                                          t
                                       
                                       
                                          i
                                       
                                    
                                    )
                                    ,
                                    i
                                    =
                                    1
                                    ,
                                    …
                                    ,
                                    h
                                    }
                                 
                              , we say that a customer has partially defected at the time 
                                 
                                    T
                                    +
                                    k
                                 
                               if he belonged to the loyal segment during 
                                 
                                    j
                                    =
                                    0
                                 
                               and he has moved to the improvable segment in 
                                 
                                    j
                                    =
                                    1
                                 
                              .

In the following, we will say that a churn definition belongs to the ad-hoc class of definitions, 
                           
                              
                                 
                                    C
                                 
                                 
                                    Ad
                                 
                              
                           
                        , if a loyalty segmentation of the customers defined by 
                           
                              {
                              (
                              
                                 
                                    v
                                 
                                 
                                    i
                                 
                              
                              (
                              X
                              (
                              c
                              ,
                              j
                              )
                              )
                              ,
                              
                                 
                                    t
                                 
                                 
                                    i
                                 
                              
                              )
                              ,
                              i
                              =
                              1
                              ,
                              …
                              ,
                              h
                              }
                           
                         is available and the partial defection of a customer is established using Definition 1. We point out that 
                           
                              
                                 
                                    C
                                 
                                 
                                    Ad
                                 
                              
                           
                         includes a wide range of definitions, differing in the length k and in the set 
                           
                              {
                              (
                              
                                 
                                    v
                                 
                                 
                                    i
                                 
                              
                              (
                              X
                              (
                              c
                              ,
                              j
                              )
                              )
                              ,
                              
                                 
                                    t
                                 
                                 
                                    i
                                 
                              
                              )
                              ,
                              i
                              =
                              1
                              ,
                              …
                              ,
                              h
                              }
                           
                        . In fact, the definition of churn by Buckinx and Van den Poel (2005) belongs also to this general class.

Later in Section 4.1 we will propose a selection of loyalty segmentation variables 
                           
                              
                                 
                                    v
                                 
                                 
                                    i
                                 
                              
                           
                         with their corresponding thresholds 
                           
                              
                                 
                                    t
                                 
                                 
                                    i
                                 
                              
                           
                         to be considered for defining churn, that will be used to illustrate our methodology.

In our opinion, a definition of churn is well-defined if the transition of customers from the loyal segment to the improvable segment would result in an economic loss for the company. Let D be a definition of churn, and suppose that a predictive model is developed at a time T in order to forecast which of the loyal customers during 
                        
                           j
                           =
                           0
                        
                      will defect (according to definition D) at the end of the period of evolution. The predictive model will assign a propensity to defect to each of those loyal customers, and customers with a probability greater than 0.5 (although this cutoff value may vary) will be automatically targeted as future churners. In such a case, some marketing campaigns or retention actions could be carried out in order to prevent churn and, consequently, avoiding part of the economic loss derived from it.

Our proposal consists of analyzing the short-term economic benefit that such a marketing action could report in order to assess the convenience of its implementation, and consequently, whether the definition of churn is or not useful. The idea of using economic measures to evaluate and compare different models has been applied in recent similar studies. For instance, Verbeke, Dejaeger, Martens, Hur, and Baesens (2012) use maximum profit to evaluate customer churn prediction models in the telecommunication sector.

In this context, it is appropriate to consider classical static decision-making attributes in a business investment environment, such as benefits, costs, invested capital, average net flow, payback period, and return of investment (ROI). As we mean, this approach is pertinent when dealing with relatively small and short-term investments, as it is our case, and usually requires quite a small amount of information and calculations (see Jacobson, 1987 and Phillips & Phillips, 2008, for example). Other dynamic and/or modern models are sometimes difficult to apply due to the huge amount of information they need.

More precisely, we are going to introduce two efficiency measures; the first one is based on the net profit reported by the marketing campaign against churn, and the other one is inspired on the ROI of such a campaign. As it is known, the ROI is a measure of performance used for evaluating the efficiency of an investment and it is computed as benefit divided by cost, expressing the result as a percentage or ratio. It is usually built using average values.

In the following, we will call:
                           
                              
                                 
                                    
                                       
                                          
                                             
                                                S
                                             
                                             
                                                L
                                                ,
                                                0
                                             
                                          
                                       
                                       
                                          ≔
                                          set of loyal customers during
                                          
                                          j
                                          =
                                          0
                                          .
                                       
                                    
                                    
                                       
                                          
                                             
                                                n
                                             
                                             
                                                L
                                                ,
                                                0
                                             
                                          
                                       
                                       
                                          ≔
                                          number of customers in
                                          
                                          
                                             
                                                S
                                             
                                             
                                                L
                                                ,
                                                0
                                             
                                          
                                          .
                                       
                                    
                                    
                                       
                                          
                                             
                                                S
                                             
                                             
                                                D
                                                ,
                                                1
                                             
                                          
                                       
                                       
                                          ≔
                                          set of loyal customers during
                                          
                                          j
                                          =
                                          0
                                          
                                          defecting at the end of
                                          
                                          j
                                          =
                                          1
                                          .
                                       
                                    
                                    
                                       
                                          
                                             
                                                n
                                             
                                             
                                                D
                                                ,
                                                1
                                             
                                          
                                       
                                       
                                          ≔
                                          number of customers in
                                          
                                          
                                             
                                                S
                                             
                                             
                                                D
                                                ,
                                                1
                                             
                                          
                                          .
                                       
                                    
                                    
                                       
                                          
                                             
                                                S
                                             
                                             
                                                T
                                                ,
                                                0
                                             
                                          
                                       
                                       
                                          ≔
                                          set of loyal customers during
                                          
                                          j
                                          =
                                          0
                                          
                                          targeted as future churners by the predictive model.
                                       
                                    
                                    
                                       
                                          
                                             
                                                n
                                             
                                             
                                                T
                                                ,
                                                0
                                             
                                          
                                       
                                       
                                          ≔
                                          number of customers in
                                          
                                          
                                             
                                                S
                                             
                                             
                                                T
                                                ,
                                                0
                                             
                                          
                                          .
                                       
                                    
                                    
                                       
                                          p
                                       
                                       
                                          ≔
                                          proportion of initial loyal customers targeted as likely future churners.
                                       
                                    
                                    
                                       
                                          
                                             
                                                s
                                             
                                             
                                                p
                                             
                                          
                                       
                                       
                                          ≔
                                          proportion of churners correctly identified as such by the predictive model(sensitivity).
                                       
                                    
                                    
                                       
                                          pm
                                       
                                       
                                          ≔
                                          profit margin of the company,
                                          
                                          0
                                          ⩽
                                          pm
                                          ⩽
                                          1
                                          .
                                       
                                    
                                 
                              
                           
                        
                     

The first measure that we propose is the 
                           
                              POAC
                           
                         function (Profit On an Against-Churn campaign). We define the 
                           
                              POAC
                           
                         function associated with the definition of chrun D as:
                           
                              (1)
                              
                                 
                                    
                                       POAC
                                    
                                    
                                       D
                                    
                                 
                                 (
                                 g
                                 )
                                 =
                                 
                                    
                                       NAL
                                    
                                    
                                       D
                                    
                                 
                                 (
                                 g
                                 )
                                 -
                                 
                                    
                                       Co
                                    
                                    
                                       D
                                    
                                 
                                 (
                                 g
                                 )
                                 ,
                              
                           
                        the parameter g being the marginal action cost or monetary units per customer invested by the company in the marketing campaign against churn (and/or other associated retention actions such as cross-selling, up-selling, and promotions), and:
                           
                              
                                 
                                    
                                       
                                          
                                             NAL
                                          
                                          
                                             D
                                          
                                       
                                       (
                                       g
                                       )
                                    
                                  (Net Avoidable Loss) ≔ estimation of the net income, the loss of which could be avoided due to the marketing campaign implemented over 
                                    
                                       
                                          
                                             S
                                          
                                          
                                             T
                                             ,
                                             0
                                          
                                       
                                    
                                 , in short term.


                                 
                                    
                                       
                                          
                                             Co
                                          
                                          
                                             D
                                          
                                       
                                       (
                                       g
                                       )
                                    
                                  ≔ cost of the marketing campaign implemented over 
                                    
                                       
                                          
                                             S
                                          
                                          
                                             T
                                             ,
                                             0
                                          
                                       
                                    
                                 .

Thus, 
                           
                              POAC
                           
                         is computed as the total profit that the company would obtain when the marketing campaign addressed to avoid churn is executed.

The second efficiency measure that we propose is the 
                           
                              ROAC
                           
                         function (Return On an Against-Churn campaign). We define the 
                           
                              ROAC
                           
                         function associated with D as:
                           
                              (2)
                              
                                 
                                    
                                       ROAC
                                    
                                    
                                       D
                                    
                                 
                                 (
                                 g
                                 )
                                 =
                                 
                                    
                                       
                                          
                                             POAC
                                          
                                          
                                             D
                                          
                                       
                                       (
                                       g
                                       )
                                    
                                    
                                       
                                          
                                             Co
                                          
                                          
                                             D
                                          
                                       
                                       (
                                       g
                                       )
                                    
                                 
                                 .
                              
                           
                        
                     

That is, ROAC is defined as the ratio of return of the campaign, or number of monetary units obtained for every monetary unit invested in the campaign against churn (the churn being defined by D). Let us note that the higher the values of POAC and ROAC for a certain value of g, the most convenient will be a definition of churn (from an economic point of view), because its implementation will lead to a higher profit for the company.

In order to compute the POAC and ROAC functions for each specific definition of churn, we should state explicit expressions for 
                           
                              
                                 
                                    NAL
                                 
                                 
                                    D
                                 
                              
                              (
                              g
                              )
                           
                         and 
                           
                              
                                 
                                    Co
                                 
                                 
                                    D
                                 
                              
                              (
                              g
                              )
                           
                        . In the following subsections we present our proposals in this sense.

The number of customers to be included in the against-churn campaign (target people of the retention action) is 
                           
                              
                                 
                                    n
                                 
                                 
                                    T
                                    ,
                                    0
                                 
                              
                           
                        , and let us note that:
                           
                              
                                 
                                    
                                       n
                                    
                                    
                                       T
                                       ,
                                       0
                                    
                                 
                                 =
                                 
                                    
                                       n
                                    
                                    
                                       L
                                       ,
                                       0
                                    
                                 
                                 ·
                                 p
                                 .
                              
                           
                        
                     

Therefore, we will estimate the required cost to implementing the marketing campaign against churn as:
                           
                              (3)
                              
                                 
                                    
                                       Co
                                    
                                    
                                       D
                                    
                                 
                                 (
                                 g
                                 )
                                 =
                                 
                                    
                                       n
                                    
                                    
                                       L
                                       ,
                                       0
                                    
                                 
                                 ·
                                 p
                                 ·
                                 g
                                 .
                              
                           
                        
                     

On the other hand, the estimation of the so-called Net Avoidable Loss is a complex issue, because it depends on several factors, all of them with a degree of uncertainty. We propose the following estimation for 
                           
                              
                                 
                                    NAL
                                 
                                 
                                    D
                                 
                              
                              (
                              g
                              )
                           
                        :
                           
                              (4)
                              
                                 
                                    
                                       NAL
                                    
                                    
                                       D
                                    
                                 
                                 (
                                 g
                                 )
                                 =
                                 pm
                                 ·
                                 (
                                 
                                    
                                       M
                                    
                                    
                                       E
                                    
                                 
                                 -
                                 
                                    
                                       M
                                    
                                    
                                       R
                                    
                                 
                                 )
                                 ·
                                 
                                    
                                       s
                                    
                                    
                                       p
                                    
                                 
                                 ·
                                 e
                                 (
                                 g
                                 )
                                 ,
                              
                           
                        where
                           
                              
                                 
                                    
                                       
                                          
                                             M
                                          
                                          
                                             E
                                          
                                       
                                    
                                  ≔ estimation of the total purchase monetary amount that the group of churners 
                                    
                                       
                                          
                                             S
                                          
                                          
                                             D
                                             ,
                                             1
                                          
                                       
                                    
                                  would have spent during the period of evolution if they had not defected.


                                 
                                    
                                       
                                          
                                             M
                                          
                                          
                                             R
                                          
                                       
                                    
                                  ≔ real total purchase monetary amount spent by the group of churners 
                                    
                                       
                                          
                                             S
                                          
                                          
                                             D
                                             ,
                                             1
                                          
                                       
                                    
                                  during the period of evolution.


                                 
                                    
                                       e
                                       (
                                       g
                                       )
                                    
                                  ≔ estimated proportion of the predicted future churners that would react favourably when the marketing campaign against churn will be implemented (i.e., would not defect due to this campaign), if the company invested in the campaign up to g monetary units per customer.

Let us explain the derivation of the expression (4). The difference 
                           
                              
                                 
                                    M
                                 
                                 
                                    E
                                 
                              
                              -
                              
                                 
                                    M
                                 
                                 
                                    R
                                 
                              
                           
                         is an estimation of the amount due to the lost purchases of the churners, and therefore it is an upper bound for the amount to be recovered. This sum has to be weighted by the constant 
                           
                              pm
                           
                        , the estimated profit margin, in order to obtain the lost net income of the company. However, from the estimated total lost income 
                           
                              pm
                              ·
                              (
                              
                                 
                                    M
                                 
                                 
                                    E
                                 
                              
                              -
                              
                                 
                                    M
                                 
                                 
                                    R
                                 
                              
                              )
                           
                         only the percentage corresponding to the future churners who are captured by the predictive model (
                           
                              
                                 
                                    s
                                 
                                 
                                    p
                                 
                              
                           
                        ) and who react favourably to the marketing campaign (
                           
                              e
                              (
                              g
                              )
                           
                        ) is subject to be recovered.

Replacing (3) and (4) into (1) and (2), the following expressions are obtained:
                           
                              (5)
                              
                                 
                                    
                                       POAC
                                    
                                    
                                       D
                                    
                                 
                                 (
                                 g
                                 )
                                 =
                                 pm
                                 ·
                                 (
                                 
                                    
                                       M
                                    
                                    
                                       E
                                    
                                 
                                 -
                                 
                                    
                                       M
                                    
                                    
                                       R
                                    
                                 
                                 )
                                 ·
                                 
                                    
                                       s
                                    
                                    
                                       p
                                    
                                 
                                 ·
                                 e
                                 (
                                 g
                                 )
                                 -
                                 
                                    
                                       n
                                    
                                    
                                       L
                                       ,
                                       0
                                    
                                 
                                 ·
                                 p
                                 ·
                                 g
                                 
                                 ,
                              
                           
                        
                        
                           
                              (6)
                              
                                 
                                    
                                       ROAC
                                    
                                    
                                       D
                                    
                                 
                                 (
                                 g
                                 )
                                 =
                                 
                                    
                                       pm
                                       ·
                                       (
                                       
                                          
                                             M
                                          
                                          
                                             E
                                          
                                       
                                       -
                                       
                                          
                                             M
                                          
                                          
                                             R
                                          
                                       
                                       )
                                       ·
                                       
                                          
                                             s
                                          
                                          
                                             p
                                          
                                       
                                       ·
                                       e
                                       (
                                       g
                                       )
                                    
                                    
                                       
                                          
                                             n
                                          
                                          
                                             L
                                             ,
                                             0
                                          
                                       
                                       ·
                                       p
                                       ·
                                       g
                                    
                                 
                                 -
                                 1
                                 
                                 .
                              
                           
                        
                     

For practical purposes, all the elements that make part of the expressions (5) and (6) should be numerically computed. Estimates for 
                           
                              
                                 
                                    M
                                 
                                 
                                    R
                                 
                              
                              ,
                              
                              
                                 
                                    M
                                 
                                 
                                    E
                                 
                              
                           
                         can be obtained as:
                           
                              (7)
                              
                                 
                                    
                                       M
                                    
                                    
                                       R
                                    
                                 
                                 =
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          c
                                          ∈
                                          
                                             
                                                S
                                             
                                             
                                                D
                                                ,
                                                1
                                             
                                          
                                       
                                    
                                 
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          i
                                          =
                                          1
                                       
                                       
                                          k
                                       
                                    
                                 
                                 
                                 Monetary
                                 (
                                 c
                                 ,
                                 i
                                 )
                                 ,
                              
                           
                        
                        
                           
                              (8)
                              
                                 
                                    
                                       M
                                    
                                    
                                       E
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      ∑
                                                   
                                                   
                                                      c
                                                      ∈
                                                      (
                                                      
                                                         
                                                            S
                                                         
                                                         
                                                            L
                                                            ,
                                                            0
                                                         
                                                      
                                                      -
                                                      
                                                         
                                                            S
                                                         
                                                         
                                                            D
                                                            ,
                                                            1
                                                         
                                                      
                                                      )
                                                   
                                                
                                                
                                                
                                                   
                                                      ∑
                                                   
                                                   
                                                      i
                                                      =
                                                      1
                                                   
                                                   
                                                      k
                                                   
                                                
                                                Monetary
                                                (
                                                c
                                                ,
                                                i
                                                )
                                             
                                             
                                                
                                                   
                                                      n
                                                   
                                                   
                                                      L
                                                      ,
                                                      0
                                                   
                                                
                                                -
                                                
                                                   
                                                      n
                                                   
                                                   
                                                      D
                                                      ,
                                                      1
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 ·
                                 
                                    
                                       n
                                    
                                    
                                       D
                                       ,
                                       1
                                    
                                 
                                 ,
                              
                           
                        where 
                           
                              Monetary
                              (
                              c
                              ,
                              i
                              )
                           
                         stands for the total amount of the purchases of customer c during the month i.

The value for 
                           
                              pm
                           
                         should be fixed by the user. In the next subsections we discuss how to determine 
                           
                              p
                              ,
                              
                                 
                                    s
                                 
                                 
                                    p
                                 
                              
                           
                         and 
                           
                              e
                              (
                              g
                              )
                           
                        .

We need to set a value for the parameter p, the proportion of customers to be included into the campaign. We are going to assume that this proportion will be equal to the real proportion of churners. That is:
                              
                                 (9)
                                 
                                    p
                                    =
                                    
                                       
                                          
                                             
                                                n
                                             
                                             
                                                D
                                                ,
                                                1
                                             
                                          
                                       
                                       
                                          
                                             
                                                n
                                             
                                             
                                                L
                                                ,
                                                0
                                             
                                          
                                       
                                    
                                    .
                                 
                              
                           
                        

This seems to be a quite reasonable assumption; the predictive model will select the 
                              
                                 100
                                 ·
                                 p
                                 %
                              
                            of customers with the highest probabilities of churn, with p as in (9). If the predictive model is accurate enough, this means that this group of customers should coincide practically with the real churners.

On the other hand, we have to select an appropriate value for the predictive model sensitivity 
                              
                                 
                                    
                                       s
                                    
                                    
                                       p
                                    
                                 
                              
                           , but it depends on the performance of the future classificator, and this cannot be fixed a priori. We recommend using one of two possibilities; the first one is to select 
                              
                                 
                                    
                                       s
                                    
                                    
                                       p
                                    
                                 
                                 =
                                 0.5
                              
                           , a very conservative value. The second possibility is to determine a value for 
                              
                                 
                                    
                                       s
                                    
                                    
                                       p
                                    
                                 
                              
                            satisfying a permissive requirement. A good choice could be setting a value guaranteeing that the maximum value of ROAC is nonnegative. In this case, for a certain churn definition D, we would obtain the value 
                              
                                 
                                    
                                       g
                                    
                                    
                                       max
                                    
                                 
                              
                            where the maximum value for the ROAC function associated to D is reached, that is:
                              
                                 
                                    
                                       
                                          g
                                       
                                       
                                          max
                                       
                                    
                                    =
                                    
                                       
                                          
                                             argmax
                                          
                                          
                                             g
                                          
                                       
                                    
                                    
                                       
                                          ROAC
                                       
                                       
                                          D
                                       
                                    
                                    (
                                    g
                                    )
                                    .
                                 
                              
                           
                        

Using (6), the maximum value of ROAC would be:
                              
                                 (10)
                                 
                                    
                                       
                                          ROAC
                                       
                                       
                                          D
                                       
                                    
                                    (
                                    
                                       
                                          g
                                       
                                       
                                          max
                                       
                                    
                                    )
                                    =
                                    
                                       
                                          pm
                                          ·
                                          (
                                          
                                             
                                                M
                                             
                                             
                                                E
                                             
                                          
                                          -
                                          
                                             
                                                M
                                             
                                             
                                                R
                                             
                                          
                                          )
                                          ·
                                          
                                             
                                                s
                                             
                                             
                                                p
                                             
                                          
                                       
                                       
                                          
                                             
                                                n
                                             
                                             
                                                L
                                                ,
                                                0
                                             
                                          
                                          ·
                                          p
                                          ·
                                          
                                             
                                                g
                                             
                                             
                                                max
                                             
                                          
                                       
                                    
                                    ·
                                    e
                                    (
                                    
                                       
                                          g
                                       
                                       
                                          max
                                       
                                    
                                    )
                                    -
                                    1
                                    
                                    .
                                 
                              
                           
                        

Finally, from expression (10), the values for 
                              
                                 
                                    
                                       s
                                    
                                    
                                       p
                                    
                                 
                              
                            guaranteeing that the maximum value of ROAC is nonnegative would be:
                              
                                 (11)
                                 
                                    
                                       
                                          s
                                       
                                       
                                          p
                                       
                                    
                                    ⩾
                                    
                                       
                                          
                                             
                                                n
                                             
                                             
                                                L
                                                ,
                                                0
                                             
                                          
                                          ·
                                          p
                                          ·
                                          
                                             
                                                g
                                             
                                             
                                                max
                                             
                                          
                                       
                                       
                                          pm
                                          ·
                                          (
                                          
                                             
                                                M
                                             
                                             
                                                E
                                             
                                          
                                          -
                                          
                                             
                                                M
                                             
                                             
                                                R
                                             
                                          
                                          )
                                          ·
                                          e
                                          (
                                          
                                             
                                                g
                                             
                                             
                                                max
                                             
                                          
                                          )
                                       
                                    
                                    .
                                 
                              
                           
                        

The expected effectiveness on a particular customer included as target person of the campaign against churn has been modelled as a function 
                              
                                 e
                                 (
                                 g
                                 )
                                 ,
                                 
                                 g
                              
                            being the marginal action cost, as we have already stated in Section 3.3. In this subsection we are going to explain the conditions for selecting the function 
                              
                                 e
                                 (
                                 g
                                 )
                              
                           . First, we assume the next hypothesis to be held.
                              Hypothesis 1
                              A marketing action addressed to prevent churn cannot worsen the purchasing behaviour of a customer.

More precisely, let 
                              
                                 Λ
                              
                            be a constant, with 
                              
                                 0
                                 <
                                 Λ
                                 <
                                 1
                              
                           , and let us define the random variable 
                              
                                 G
                                 =
                              
                           
                           (theoretical) investment required in each customer for the campaign being effective. Then, we define the function 
                              
                                 e
                                 (
                                 g
                                 )
                              
                            as:
                              
                                 (12)
                                 
                                    e
                                    (
                                    g
                                    )
                                    =
                                    Λ
                                    ·
                                    P
                                    (
                                    G
                                    ⩽
                                    g
                                    )
                                    ,
                                    
                                    ∀
                                    
                                    g
                                    ⩾
                                    0
                                    .
                                 
                              
                           
                        

It is easy to show that 
                              
                                 e
                                 (
                                 g
                                 )
                              
                            defined according to (12) is a nonnegative, nondecreasing function, and that 
                              
                                 
                                    
                                       lim
                                    
                                    
                                       g
                                       →
                                       
                                          
                                             0
                                          
                                          
                                             +
                                          
                                       
                                    
                                 
                                 e
                                 (
                                 g
                                 )
                                 =
                                 0
                              
                            and 
                              
                                 
                                    
                                       lim
                                    
                                    
                                       g
                                       →
                                       +
                                       ∞
                                    
                                 
                                 e
                                 (
                                 g
                                 )
                                 =
                                 Λ
                              
                           . Moreover, as a consequence we have that 
                              
                                 ∀
                                 ∊
                                 >
                                 0
                              
                           , there exist 
                              
                                 
                                    
                                       δ
                                    
                                    
                                       ∊
                                    
                                    
                                       L
                                    
                                 
                                 ,
                                 
                                    
                                       δ
                                    
                                    
                                       ∊
                                    
                                    
                                       U
                                    
                                 
                              
                            such that:
                              
                                 
                                    
                                       
                                          
                                             e
                                             (
                                             g
                                             )
                                             <
                                             ∊
                                          
                                          
                                             ∀
                                             
                                             g
                                             ∈
                                             [
                                             0
                                             ,
                                             
                                                
                                                   δ
                                                
                                                
                                                   ∊
                                                
                                                
                                                   L
                                                
                                             
                                             )
                                             ,
                                          
                                       
                                       
                                          
                                             e
                                             (
                                             g
                                             )
                                             >
                                             Λ
                                             -
                                             ∊
                                          
                                          
                                             ∀
                                             
                                             g
                                             ∈
                                             (
                                             
                                                
                                                   δ
                                                
                                                
                                                   ∊
                                                
                                                
                                                   U
                                                
                                             
                                             ,
                                             +
                                             ∞
                                             )
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        


                           Fig. 1
                            illustrates all the elements involved in the estimation of 
                              
                                 e
                                 (
                                 g
                                 )
                              
                           . The parameter 
                              
                                 Λ
                              
                            is a corrective factor. It represents the proportion of target people that would react (favourably) to the marketing retention action if we spent an infinity amount of money in each target person, that is, when g tends to be equal to 
                              
                                 +
                                 ∞
                              
                           . It is introduced in our model because, in practical terms, there is always a subset of target people that will never react to the marketing action, no matter the amount of money we invest on them. That means that we are assuming that the maximum possible effectiveness of the campaign would be 
                              
                                 Λ
                                 <
                                 100
                                 %
                              
                           . This factor has to be estimated according to previous knowledge.

The parameter 
                              
                                 ∊
                              
                            is supposed to be a very small quantity (say, 
                              
                                 1
                                 %
                              
                           , for instance), meaning that 
                              
                                 (
                                 1
                                 -
                                 Λ
                                 -
                                 2
                                 ∊
                                 )
                                 100
                                 %
                              
                            of the target people will react (favourabily) to the marketing retention action if the amount invested per person g is within 
                              
                                 [
                                 
                                    
                                       δ
                                    
                                    
                                       ∊
                                    
                                    
                                       L
                                    
                                 
                                 ,
                                 
                                    
                                       δ
                                    
                                    
                                       ∊
                                    
                                    
                                       U
                                    
                                 
                                 ]
                              
                           . This is a simple way to check whether our estimation of 
                              
                                 e
                                 (
                                 g
                                 )
                              
                            makes sense or not, in a practical case.

The probability distribution of the variable G can be approached either by standard probability distributions or using the knowledge about previous marketing campaigns. A practical example of how these parameters and the distribution of G can be determined is shown in Section 5.

A numerical example showing how to calculate POAC and ROAC for a given churn definition is also available as additional online material.

It is necessary to include here a small discussion about all the assumptions we have adopted to build the expressions for 
                           
                              POAC
                           
                         and 
                           
                              ROAC
                           
                        , especially those regarding the estimation of 
                           
                              NAL
                           
                        .

We think that the proposed model is complete, general and flexible enough for being adapted to many different situations, but also simple enough to be put into practice.

In the end, nearly all the involved parameters, such as 
                           
                              
                                 
                                    n
                                 
                                 
                                    D
                                    ,
                                    1
                                 
                              
                              ,
                              
                              
                                 
                                    n
                                 
                                 
                                    L
                                    ,
                                    0
                                 
                              
                           
                         
                        
                           
                              pm
                              ,
                              
                              Λ
                              ,
                              
                              
                                 
                                    M
                                 
                                 
                                    E
                                 
                              
                              ,
                              
                              
                                 
                                    M
                                 
                                 
                                    R
                                 
                              
                           
                        , etc., need to be empirically estimated from existing knowledge, as it usually happens with this kind of models. According to our experience, this is not an impossible task in the context of companies that have a non-contractual relationship with their customers and that save records of their behaviour via loyalty cards, for instance (which is the same context as similar studies such as those by Buckinx & Van den Poel, 2005 and Miguéis et al., 2013). In fact, we evidence that with a real example in Sections 5 and 6.

Moreover, the way we propose to estimate the effectiveness 
                           
                              e
                              (
                              g
                              )
                           
                         provides the model with enough flexibility to cover many different situations (see Fig. 1 and also Fig. 2
                         later in Section 5). The selection of an appropriate distribution for G, apart from its original meaning, allows to properly customize the way the expression of 
                           
                              NAL
                           
                         
                        (4) behaves as a function of g.

Anyway, the approach we have proposed in this section can be easily adapted to better meet some concrete requirements or situations, if necessary. That is, we have proposed a practical but formal way to estimate key decision attributes such as 
                           
                              POAC
                           
                         and 
                           
                              ROAC
                           
                        , but it obviously could inspire other (valid) ways to do it.

In this section we present our methodology for selecting the most valuable definition of churn for a company, among the different available options. First of all, we suggest using a specific subset of the class of churn definitions we have introduced in Section 2.1, involving the most used segmentation variables for characterizing customer churn. Then we show how to determine which of those churn definitions would be the most appropriate for a given concrete context.

In this subsection we select a family of new ad-hoc definitions of churn in the way introduced in Section 2.1, in order to later test the goodness of our methodology of evaluation. The segmentations for these definitions are based in the recency-frequency-monetary (RFM) concepts and in the length of relationship, as an indicator of the level of commitment of a client. All of those concepts are widely used when studying the behaviour of customers toward the businesses they interact with (see Bhattacharya, 1998; Keaveney and Parthasarathy, 2001; Buckinx and Van den Poel, 2005 for example). We suggest using the following loyalty segmentation variables 
                           
                              
                                 
                                    v
                                 
                                 
                                    i
                                 
                              
                           
                        :
                           
                              
                                 
                                    
                                       
                                          L
                                       
                                       
                                          Length
                                          
                                          of
                                          
                                          relationship
                                          
                                          (
                                          days
                                          )
                                       
                                    
                                    
                                       
                                          r
                                       
                                       
                                          -
                                          average
                                          
                                          of
                                          
                                          the
                                          
                                          k
                                          
                                          monthly
                                          
                                          interpurchase
                                          
                                          times
                                       
                                    
                                    
                                       
                                          f
                                       
                                       
                                          average
                                          
                                          of
                                          
                                          the
                                          
                                          k
                                          
                                          monthly
                                          
                                          number
                                          
                                          of
                                          
                                          purchases
                                       
                                    
                                    
                                       
                                          m
                                       
                                       
                                          average
                                          
                                          of
                                          
                                          the
                                          
                                          k
                                          
                                          monthly
                                          
                                          purchase
                                          
                                          amounts
                                       
                                    
                                    
                                       
                                          
                                             
                                                r
                                             
                                             
                                                c
                                             
                                          
                                       
                                       
                                          -
                                          coefficient
                                          
                                          of
                                          
                                          variation
                                          
                                          of
                                          
                                          the
                                          
                                          k
                                          
                                          monthly
                                          
                                          interpurchase
                                          
                                          times
                                       
                                    
                                    
                                       
                                          
                                             
                                                f
                                             
                                             
                                                c
                                             
                                          
                                       
                                       
                                          -
                                          coefficient
                                          
                                          of
                                          
                                          variation
                                          
                                          of
                                          
                                          the
                                          
                                          k
                                          
                                          monthly
                                          
                                          number
                                          
                                          of
                                          
                                          purchases
                                       
                                    
                                    
                                       
                                          
                                             
                                                m
                                             
                                             
                                                c
                                             
                                          
                                       
                                       
                                          -
                                          coefficient
                                          
                                          of
                                          
                                          variation
                                          
                                          of
                                          
                                          the
                                          
                                          k
                                          
                                          monthly
                                          
                                          purchase
                                          
                                          amounts
                                       
                                    
                                 
                              
                           
                        For these variables, the thresholds for defining the loyal segment are:
                           
                              
                                 
                                    
                                       
                                          t
                                          =
                                          average
                                          
                                          of
                                          
                                          v
                                          
                                          in
                                          
                                          the
                                          
                                          database
                                          ,
                                       
                                       
                                          for
                                          
                                          v
                                          =
                                          L
                                          ,
                                          f
                                          ,
                                          m
                                          
                                          ,
                                       
                                    
                                    
                                       
                                          t
                                          =
                                          -
                                          average
                                          
                                          of
                                          
                                          v
                                          
                                          in
                                          
                                          the
                                          
                                          database
                                          ,
                                       
                                       
                                          for
                                          
                                          v
                                          =
                                          r
                                          ,
                                          
                                             
                                                r
                                             
                                             
                                                c
                                             
                                          
                                          ,
                                          
                                             
                                                f
                                             
                                             
                                                c
                                             
                                          
                                          ,
                                          
                                             
                                                m
                                             
                                             
                                                c
                                             
                                          
                                          .
                                       
                                    
                                 
                              
                           
                        
                     

We have fixed 
                           
                              k
                              =
                              5
                           
                         and we have used 16 combinations of these variables in order to build different loyalty segmentations which generate different definitions of churn. They are shown in Table 1
                        . Notice that D3 corresponds to the definition of churn proposed by Buckinx and Van den Poel (2005).

Our proposal consists of selecting the definition of churn maximizing both POAC and ROAC, as defined in Section 3. This can be modelled as a multiobjective optimization problem, in the following way:
                           
                              
                                 
                                    
                                       
                                          (
                                          MP
                                          )
                                       
                                       
                                          Max
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         POAC
                                                      
                                                      
                                                         D
                                                      
                                                   
                                                   (
                                                   g
                                                   )
                                                   ,
                                                   
                                                   
                                                      
                                                         ROAC
                                                      
                                                      
                                                         D
                                                      
                                                   
                                                   (
                                                   g
                                                   )
                                                
                                             
                                          
                                       
                                    
                                    
                                       
                                       
                                          subject
                                          
                                          to
                                       
                                       
                                          g
                                          ⩾
                                          0
                                       
                                    
                                    
                                       
                                       
                                       
                                          D
                                          ∈
                                          {
                                          set
                                          
                                          of
                                          
                                          available
                                          
                                          definitions
                                          
                                          of
                                          
                                          churn
                                          }
                                       
                                    
                                 
                              
                           
                        
                     

The solution of this problem will be a pair 
                           
                              (
                              
                                 
                                    D
                                 
                                 
                                    ∗
                                 
                              
                              ,
                              
                              
                                 
                                    g
                                 
                                 
                                    ∗
                                 
                              
                              )
                           
                         formed by the churn definition and an associated marginal action cost that make POAC and ROAC as high as possible at the same time.

There are several different ways to address a multiobjective optimization problem such as (MP).

As it is known, in most cases it is not possible to find a solution in the feasible region that simultaneously optimizes (in our case, maximizes) the value of all the objective functions being considered (POAC and ROAC, in our case). The usual approach is determining the so-called efficient set, that is, the set of all solutions x in the feasible region such that there is no feasible solution being at least as good as x with regards to all the objectives being considered, and strictly better than x regarding at least one of those objectives (see, for example, Marler and Arora, 2004; Ehrgott, 2005 for a more formal definition). Then, one or several solutions belonging to the efficient set can be selected as optimal according to external subjective preferences. Those preferences, if any, are expressed by a decision-maker, normally by ordering or assigning relative importances to objectives before solving the problem (a priori methods), but also during or after generating the efficient set (interactive or a posteriori methods, respectively). There exist also some solving strategies that produce solutions not necessarily belonging to the efficient set. A comprehensive survey of classic and state-of-the-art multiobjective optimization methods can be found at Marler and Arora (2004). Miettinen (1999) and Ehrgott (2005) provide a complete and updated view of these and other concepts regarding multicriteria optimization.

We propose addressing the multiobjective problem (MP) with an a priori strategy. As it is said before, in this way, the decision-maker is given one single (efficient) optimal solution as a result of his/her preferences concerning the relative importance of each objective goal. According to our experience, we consider that, in the context of marketing action design, this option is generally better than offering several possibilities to choose. Moreover, if required, it is possible to generate different optimal solutions by adjusting the relative preferences and solving the problem again.

More precisely, we have adopted the weighted global criterion or compromise programming method (originally proposed by Yu, 1973 and Zeleny, 1973), because it is suitably accurate and flexible enough to incorporate decision-marker’s preferences. We will describe the method in the next subsection.

Other a priori methods could be also considered. According to the classification and scores given by Marler and Arora (2004), compromise programming happens to be a strategy with a quite low technical complexity, which makes it very suitable for the context we are dealing with.

Compromise programming identifies the optimal solution of (MP) as the one that has the shortest distance to an ideal point 
                              
                                 (
                                 
                                    
                                       F
                                    
                                    
                                       P
                                    
                                    
                                       M
                                    
                                 
                                 ,
                                 
                                 
                                    
                                       F
                                    
                                    
                                       R
                                    
                                    
                                       M
                                    
                                 
                                 )
                              
                            where the multiple objectives simultaneously reach their optimal values; in general, the ideal point is not attainable. In our case, let us call:
                              
                                 (13)
                                 
                                    (
                                    
                                       
                                          D
                                       
                                       
                                          P
                                       
                                    
                                    ,
                                    
                                       
                                          g
                                       
                                       
                                          max
                                          ,
                                          P
                                       
                                    
                                    )
                                    ≔
                                    
                                       
                                          
                                             argmax
                                          
                                          
                                             D
                                             ,
                                             g
                                          
                                       
                                    
                                    
                                       
                                          POAC
                                       
                                       
                                          D
                                       
                                    
                                    (
                                    g
                                    )
                                    ,
                                 
                              
                           
                           
                              
                                 (14)
                                 
                                    (
                                    
                                       
                                          D
                                       
                                       
                                          R
                                       
                                    
                                    ,
                                    
                                       
                                          g
                                       
                                       
                                          max
                                          ,
                                          R
                                       
                                    
                                    )
                                    ≔
                                    
                                       
                                          
                                             argmax
                                          
                                          
                                             D
                                             ,
                                             g
                                          
                                       
                                    
                                    
                                       
                                          ROAC
                                       
                                       
                                          D
                                       
                                    
                                    (
                                    g
                                    )
                                    .
                                 
                              
                           
                        

That is, (13) and (14) are the optimal solutions that individually maximize each of the two objective functions. Then, the ideal point is:
                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   F
                                                
                                                
                                                   P
                                                
                                                
                                                   M
                                                
                                             
                                             ,
                                             
                                                
                                                   F
                                                
                                                
                                                   R
                                                
                                                
                                                   M
                                                
                                             
                                          
                                       
                                    
                                    =
                                    
                                       
                                          
                                             
                                                
                                                   POAC
                                                
                                                
                                                   
                                                      
                                                         D
                                                      
                                                      
                                                         P
                                                      
                                                   
                                                
                                             
                                             (
                                             
                                                
                                                   g
                                                
                                                
                                                   max
                                                   ,
                                                   P
                                                
                                             
                                             )
                                             ,
                                             
                                                
                                                   ROAC
                                                
                                                
                                                   
                                                      
                                                         D
                                                      
                                                      
                                                         R
                                                      
                                                   
                                                
                                             
                                             (
                                             
                                                
                                                   g
                                                
                                                
                                                   max
                                                   ,
                                                   R
                                                
                                             
                                             )
                                          
                                       
                                    
                                    .
                                 
                              
                           
                        

On the other hand, let us call:
                              
                                 
                                    
                                       
                                          
                                          
                                             
                                                
                                                   
                                                      F
                                                   
                                                   
                                                      P
                                                   
                                                   
                                                      m
                                                   
                                                
                                                ≔
                                                
                                                   min
                                                
                                                
                                                   
                                                      
                                                         
                                                            
                                                               POAC
                                                            
                                                            
                                                               
                                                                  
                                                                     D
                                                                  
                                                                  
                                                                     P
                                                                  
                                                               
                                                            
                                                         
                                                         (
                                                         
                                                            
                                                               g
                                                            
                                                            
                                                               max
                                                               ,
                                                               P
                                                            
                                                         
                                                         )
                                                         ,
                                                         
                                                         
                                                            
                                                               POAC
                                                            
                                                            
                                                               
                                                                  
                                                                     D
                                                                  
                                                                  
                                                                     R
                                                                  
                                                               
                                                            
                                                         
                                                         (
                                                         
                                                            
                                                               g
                                                            
                                                            
                                                               max
                                                               ,
                                                               R
                                                            
                                                         
                                                         )
                                                      
                                                   
                                                
                                                ,
                                             
                                          
                                       
                                       
                                          
                                          
                                             
                                                
                                                   
                                                      F
                                                   
                                                   
                                                      R
                                                   
                                                   
                                                      m
                                                   
                                                
                                                ≔
                                                
                                                   min
                                                
                                                
                                                   
                                                      
                                                         
                                                            
                                                               ROAC
                                                            
                                                            
                                                               
                                                                  
                                                                     D
                                                                  
                                                                  
                                                                     P
                                                                  
                                                               
                                                            
                                                         
                                                         (
                                                         
                                                            
                                                               g
                                                            
                                                            
                                                               max
                                                               ,
                                                               P
                                                            
                                                         
                                                         )
                                                         ,
                                                         
                                                         
                                                            
                                                               ROAC
                                                            
                                                            
                                                               
                                                                  
                                                                     D
                                                                  
                                                                  
                                                                     R
                                                                  
                                                               
                                                            
                                                         
                                                         (
                                                         
                                                            
                                                               g
                                                            
                                                            
                                                               max
                                                               ,
                                                               R
                                                            
                                                         
                                                         )
                                                      
                                                   
                                                
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

It is not difficult to see that:
                              
                                 (15)
                                 
                                    
                                       
                                          F
                                       
                                       
                                          P
                                       
                                       
                                          m
                                       
                                    
                                    =
                                    
                                       
                                          POAC
                                       
                                       
                                          
                                             
                                                D
                                             
                                             
                                                R
                                             
                                          
                                       
                                    
                                    (
                                    
                                       
                                          g
                                       
                                       
                                          max
                                          ,
                                          R
                                       
                                    
                                    )
                                    
                                    ,
                                 
                              
                           
                           
                              
                                 (16)
                                 
                                    
                                       
                                          F
                                       
                                       
                                          R
                                       
                                       
                                          m
                                       
                                    
                                    =
                                    
                                       
                                          ROAC
                                       
                                       
                                          
                                             
                                                D
                                             
                                             
                                                P
                                             
                                          
                                       
                                    
                                    (
                                    
                                       
                                          g
                                       
                                       
                                          max
                                          ,
                                          P
                                       
                                    
                                    )
                                    
                                    .
                                 
                              
                           
                        

The compromise solution for (MP) will be obtained by solving the problem of minimizing the distance to the ideal point, with a metric 
                              
                                 h
                                 >
                                 0
                              
                            :
                              
                                 
                                    (
                                    P
                                    )
                                    Min
                                    
                                    
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      λ
                                                   
                                                   
                                                      P
                                                   
                                                   
                                                      h
                                                   
                                                
                                                ·
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        F
                                                                     
                                                                     
                                                                        P
                                                                     
                                                                     
                                                                        M
                                                                     
                                                                  
                                                                  -
                                                                  
                                                                     
                                                                        POAC
                                                                     
                                                                     
                                                                        D
                                                                     
                                                                  
                                                                  (
                                                                  g
                                                                  )
                                                               
                                                               
                                                                  
                                                                     
                                                                        F
                                                                     
                                                                     
                                                                        P
                                                                     
                                                                     
                                                                        M
                                                                     
                                                                  
                                                                  -
                                                                  
                                                                     
                                                                        F
                                                                     
                                                                     
                                                                        P
                                                                     
                                                                     
                                                                        m
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      h
                                                   
                                                
                                                +
                                                
                                                   
                                                      λ
                                                   
                                                   
                                                      R
                                                   
                                                   
                                                      h
                                                   
                                                
                                                ·
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        F
                                                                     
                                                                     
                                                                        R
                                                                     
                                                                     
                                                                        M
                                                                     
                                                                  
                                                                  -
                                                                  
                                                                     
                                                                        ROAC
                                                                     
                                                                     
                                                                        D
                                                                     
                                                                  
                                                                  (
                                                                  g
                                                                  )
                                                               
                                                               
                                                                  
                                                                     
                                                                        F
                                                                     
                                                                     
                                                                        R
                                                                     
                                                                     
                                                                        M
                                                                     
                                                                  
                                                                  -
                                                                  
                                                                     
                                                                        F
                                                                     
                                                                     
                                                                        R
                                                                     
                                                                     
                                                                        m
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      h
                                                   
                                                
                                             
                                          
                                       
                                       
                                          1
                                          /
                                          h
                                       
                                    
                                 
                              
                           
                           
                              
                                 
                                    
                                       
                                          
                                             subjectto
                                          
                                          
                                             g
                                             ⩾
                                             0
                                          
                                       
                                       
                                          
                                          
                                             D
                                             ∈
                                             {
                                             set
                                             
                                             of
                                             
                                             available
                                             
                                             definitions
                                             
                                             of
                                             
                                             churn
                                             }
                                          
                                       
                                    
                                 
                              
                           where the parameters 
                              
                                 
                                    
                                       λ
                                    
                                    
                                       P
                                    
                                 
                                 ,
                                 
                                 
                                    
                                       λ
                                    
                                    
                                       R
                                    
                                 
                              
                            represent the relative importance of each of the objectives, with 
                              
                                 
                                    
                                       λ
                                    
                                    
                                       P
                                    
                                 
                                 +
                                 
                                    
                                       λ
                                    
                                    
                                       R
                                    
                                 
                                 =
                                 1
                                 ,
                                 
                                 
                                    
                                       λ
                                    
                                    
                                       P
                                    
                                 
                                 ,
                                 
                                 
                                    
                                       λ
                                    
                                    
                                       R
                                    
                                 
                                 ⩾
                                 0
                              
                            (generally, 
                              
                                 
                                    
                                       λ
                                    
                                    
                                       P
                                    
                                 
                                 ,
                                 
                                 
                                    
                                       λ
                                    
                                    
                                       R
                                    
                                 
                                 >
                                 0
                              
                           ). Notice that in (P), each of the original objective functions (POAC and ROAC) have been normalized in order to get comparable terms to be added up. We have used the euclidean metric with 
                              
                                 h
                                 =
                                 2
                              
                            for (P).

To sum up, two steps are involved in the compromise programming. The first step is to find the best values (13) and (14) of each objective within the computation domain, and the second step is to seek the optimal solution 
                              
                                 (
                                 
                                    
                                       D
                                    
                                    
                                       ∗
                                    
                                 
                                 ,
                                 
                                 
                                    
                                       g
                                    
                                    
                                       ∗
                                    
                                 
                                 )
                              
                            of (P), which will be the solution for our problem (MP). The solution of (P) represents a compromise between net profit (POAC) and marginal profit with respect to the costs (ROAC). The user is able to control the importance of each of these two objectives by choosing appropriate values for 
                              
                                 
                                    
                                       λ
                                    
                                    
                                       P
                                    
                                 
                                 ,
                                 
                                    
                                       λ
                                    
                                    
                                       R
                                    
                                 
                              
                           . Let us note that by solving (P), we will obtain not only the most adequate definition of churn D, but also the amount g that we should spend per customer in order to achieve the compromise solution.


                           Algorithm 1 shows the whole procedure that we have used for finding the optimal solution of (MP).
                              Algorithm 1
                              
                                 
                                    
                                       
                                          
                                          
                                             
                                                
                                                   Init. Select values for 
                                                      
                                                         
                                                            
                                                               λ
                                                            
                                                            
                                                               P
                                                            
                                                         
                                                         ,
                                                         
                                                            
                                                               λ
                                                            
                                                            
                                                               R
                                                            
                                                         
                                                      
                                                    such that 
                                                      
                                                         
                                                            
                                                               λ
                                                            
                                                            
                                                               P
                                                            
                                                         
                                                         +
                                                         
                                                            
                                                               λ
                                                            
                                                            
                                                               R
                                                            
                                                         
                                                         =
                                                         1
                                                         ,
                                                         
                                                            
                                                               λ
                                                            
                                                            
                                                               P
                                                            
                                                         
                                                         ,
                                                         
                                                            
                                                               λ
                                                            
                                                            
                                                               R
                                                            
                                                         
                                                         ⩾
                                                         0
                                                      
                                                   . Set 
                                                      
                                                         i
                                                         =
                                                         1
                                                         ,
                                                         
                                                            
                                                               i
                                                            
                                                            
                                                               P
                                                            
                                                         
                                                         =
                                                         0
                                                         ,
                                                         
                                                            
                                                               i
                                                            
                                                            
                                                               R
                                                            
                                                         
                                                         =
                                                         0
                                                         ,
                                                         
                                                            
                                                               g
                                                            
                                                            
                                                               P
                                                            
                                                         
                                                         =
                                                         0
                                                         ,
                                                         
                                                            
                                                               g
                                                            
                                                            
                                                               R
                                                            
                                                         
                                                         =
                                                         0
                                                         ,
                                                         
                                                            
                                                               POAC
                                                            
                                                            
                                                               ref
                                                            
                                                         
                                                         =
                                                         0
                                                         ,
                                                         
                                                            
                                                               ROAC
                                                            
                                                            
                                                               ref
                                                            
                                                         
                                                         =
                                                         0
                                                         ,
                                                         
                                                         D
                                                         =
                                                         {
                                                         
                                                            
                                                               D
                                                            
                                                            
                                                               j
                                                            
                                                         
                                                         
                                                         available
                                                         
                                                         definitions
                                                         
                                                         of
                                                         
                                                         churn
                                                         ,
                                                         j
                                                         =
                                                         1
                                                         ,
                                                         …
                                                         ,
                                                         S
                                                         }
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      Step 1.
                                                    Obtain 
                                                      
                                                         
                                                            
                                                               g
                                                            
                                                            
                                                               P
                                                            
                                                            
                                                               i
                                                            
                                                         
                                                         =
                                                         
                                                            
                                                               
                                                                  argmax
                                                               
                                                               
                                                                  g
                                                               
                                                            
                                                         
                                                         
                                                            
                                                               POAC
                                                            
                                                            
                                                               
                                                                  
                                                                     D
                                                                  
                                                                  
                                                                     i
                                                                  
                                                               
                                                            
                                                         
                                                         (
                                                         g
                                                         )
                                                      
                                                    and 
                                                      
                                                         
                                                            
                                                               g
                                                            
                                                            
                                                               R
                                                            
                                                            
                                                               i
                                                            
                                                         
                                                         =
                                                         
                                                            
                                                               
                                                                  argmax
                                                               
                                                               
                                                                  g
                                                               
                                                            
                                                         
                                                         
                                                            
                                                               ROAC
                                                            
                                                            
                                                               
                                                                  
                                                                     D
                                                                  
                                                                  
                                                                     i
                                                                  
                                                               
                                                            
                                                         
                                                         (
                                                         g
                                                         )
                                                      
                                                   . Go to the Step 2.
                                             
                                             
                                                
                                                   
                                                      Step 2.
                                                    If 
                                                      
                                                         
                                                            
                                                               POAC
                                                            
                                                            
                                                               
                                                                  
                                                                     D
                                                                  
                                                                  
                                                                     i
                                                                  
                                                               
                                                            
                                                         
                                                         (
                                                         
                                                            
                                                               g
                                                            
                                                            
                                                               P
                                                            
                                                            
                                                               i
                                                            
                                                         
                                                         )
                                                         >
                                                         
                                                            
                                                               POAC
                                                            
                                                            
                                                               ref
                                                            
                                                         
                                                      
                                                   , then do 
                                                      
                                                         
                                                            
                                                               POAC
                                                            
                                                            
                                                               ref
                                                            
                                                         
                                                         =
                                                         
                                                            
                                                               POAC
                                                            
                                                            
                                                               
                                                                  
                                                                     D
                                                                  
                                                                  
                                                                     i
                                                                  
                                                               
                                                            
                                                         
                                                         (
                                                         
                                                            
                                                               g
                                                            
                                                            
                                                               P
                                                            
                                                            
                                                               i
                                                            
                                                         
                                                         )
                                                         ,
                                                         
                                                            
                                                               g
                                                            
                                                            
                                                               P
                                                            
                                                         
                                                         =
                                                         
                                                            
                                                               g
                                                            
                                                            
                                                               P
                                                            
                                                            
                                                               i
                                                            
                                                         
                                                         ,
                                                         
                                                            
                                                               i
                                                            
                                                            
                                                               P
                                                            
                                                         
                                                         =
                                                         i
                                                      
                                                   .
                                             
                                             
                                                
                                                   If 
                                                      
                                                         
                                                            
                                                               ROAC
                                                            
                                                            
                                                               
                                                                  
                                                                     D
                                                                  
                                                                  
                                                                     i
                                                                  
                                                               
                                                            
                                                         
                                                         (
                                                         
                                                            
                                                               g
                                                            
                                                            
                                                               R
                                                            
                                                            
                                                               i
                                                            
                                                         
                                                         )
                                                         >
                                                         
                                                            
                                                               ROAC
                                                            
                                                            
                                                               ref
                                                            
                                                         
                                                      
                                                   , then do 
                                                      
                                                         
                                                            
                                                               ROAC
                                                            
                                                            
                                                               ref
                                                            
                                                         
                                                         =
                                                         
                                                            
                                                               ROAC
                                                            
                                                            
                                                               
                                                                  
                                                                     D
                                                                  
                                                                  
                                                                     i
                                                                  
                                                               
                                                            
                                                         
                                                         (
                                                         
                                                            
                                                               g
                                                            
                                                            
                                                               R
                                                            
                                                            
                                                               i
                                                            
                                                         
                                                         )
                                                         ,
                                                         
                                                            
                                                               g
                                                            
                                                            
                                                               R
                                                            
                                                         
                                                         =
                                                         
                                                            
                                                               g
                                                            
                                                            
                                                               R
                                                            
                                                            
                                                               i
                                                            
                                                         
                                                         ,
                                                         
                                                            
                                                               i
                                                            
                                                            
                                                               R
                                                            
                                                         
                                                         =
                                                         i
                                                      
                                                   .
                                             
                                             
                                                
                                                   Go to the Step 3.
                                             
                                             
                                                
                                                   
                                                      Step 3.
                                                    If 
                                                      
                                                         i
                                                         <
                                                         S
                                                      
                                                   , then do 
                                                      
                                                         i
                                                         =
                                                         i
                                                         +
                                                         1
                                                      
                                                    and go to the Step 1. Otherwise, go to the Step 4.
                                             
                                             
                                                
                                                   
                                                      Step 4.
                                                    If 
                                                      
                                                         
                                                            
                                                               i
                                                            
                                                            
                                                               P
                                                            
                                                         
                                                         =
                                                         0
                                                      
                                                    and 
                                                      
                                                         
                                                            
                                                               i
                                                            
                                                            
                                                               R
                                                            
                                                         
                                                         =
                                                         0
                                                      
                                                   , it is not possible (for any definition in 
                                                      
                                                         D
                                                      
                                                   ) to find positive POAC nor ROAC, then STOP. Otherwise, do:
                                             
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  g
                                                               
                                                               
                                                                  max
                                                                  ,
                                                                  P
                                                               
                                                            
                                                            =
                                                            
                                                               
                                                                  g
                                                               
                                                               
                                                                  P
                                                               
                                                            
                                                            
                                                            ,
                                                            
                                                               
                                                                  D
                                                               
                                                               
                                                                  P
                                                               
                                                            
                                                            =
                                                            
                                                               
                                                                  D
                                                               
                                                               
                                                                  
                                                                     
                                                                        i
                                                                     
                                                                     
                                                                        P
                                                                     
                                                                  
                                                               
                                                            
                                                            
                                                            ,
                                                            
                                                               
                                                                  F
                                                               
                                                               
                                                                  P
                                                               
                                                               
                                                                  M
                                                               
                                                            
                                                            =
                                                            
                                                               
                                                                  POAC
                                                               
                                                               
                                                                  ref
                                                               
                                                            
                                                            ,
                                                         
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  g
                                                               
                                                               
                                                                  max
                                                                  ,
                                                                  R
                                                               
                                                            
                                                            =
                                                            
                                                               
                                                                  g
                                                               
                                                               
                                                                  R
                                                               
                                                            
                                                            
                                                            ,
                                                            
                                                               
                                                                  D
                                                               
                                                               
                                                                  R
                                                               
                                                            
                                                            =
                                                            
                                                               
                                                                  D
                                                               
                                                               
                                                                  
                                                                     
                                                                        i
                                                                     
                                                                     
                                                                        R
                                                                     
                                                                  
                                                               
                                                            
                                                            
                                                            ,
                                                            
                                                               
                                                                  F
                                                               
                                                               
                                                                  R
                                                               
                                                               
                                                                  M
                                                               
                                                            
                                                            =
                                                            
                                                               
                                                                  ROAC
                                                               
                                                               
                                                                  ref
                                                               
                                                            
                                                            .
                                                         
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   Go to the Step 5.
                                             
                                             
                                                
                                                   
                                                      Step 5.
                                                    Compute 
                                                      
                                                         
                                                            
                                                               F
                                                            
                                                            
                                                               P
                                                            
                                                            
                                                               m
                                                            
                                                         
                                                         ,
                                                         
                                                            
                                                               F
                                                            
                                                            
                                                               R
                                                            
                                                            
                                                               m
                                                            
                                                         
                                                      
                                                    as in (15) and (16) and go to the Step 6.
                                             
                                             
                                                
                                                   
                                                      Step 6.
                                                    For 
                                                      
                                                         i
                                                         =
                                                         1
                                                         ,
                                                         …
                                                         ,
                                                         S
                                                      
                                                   , obtain the optimal solution 
                                                      
                                                         
                                                            
                                                               g
                                                            
                                                            
                                                               i
                                                            
                                                         
                                                      
                                                    of the univariate subproblem (Pi):
                                             
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     (
                                                                     Pi
                                                                     )
                                                                  
                                                                  
                                                                     Min
                                                                     
                                                                     
                                                                     
                                                                        
                                                                           z
                                                                        
                                                                        
                                                                           i
                                                                        
                                                                     
                                                                  
                                                               
                                                               
                                                                  
                                                                  
                                                                     subjectto
                                                                  
                                                               
                                                               
                                                                  
                                                                  
                                                                     
                                                                        
                                                                           z
                                                                        
                                                                        
                                                                           i
                                                                        
                                                                     
                                                                     =
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 λ
                                                                              
                                                                              
                                                                                 P
                                                                              
                                                                              
                                                                                 2
                                                                              
                                                                           
                                                                           ·
                                                                           
                                                                              
                                                                                 
                                                                                    
                                                                                       
                                                                                          
                                                                                             
                                                                                                
                                                                                                   F
                                                                                                
                                                                                                
                                                                                                   P
                                                                                                
                                                                                                
                                                                                                   M
                                                                                                
                                                                                             
                                                                                             -
                                                                                             
                                                                                                
                                                                                                   POAC
                                                                                                
                                                                                                
                                                                                                   
                                                                                                      
                                                                                                         D
                                                                                                      
                                                                                                      
                                                                                                         i
                                                                                                      
                                                                                                   
                                                                                                
                                                                                             
                                                                                             (
                                                                                             g
                                                                                             )
                                                                                          
                                                                                          
                                                                                             
                                                                                                
                                                                                                   F
                                                                                                
                                                                                                
                                                                                                   P
                                                                                                
                                                                                                
                                                                                                   M
                                                                                                
                                                                                             
                                                                                             -
                                                                                             
                                                                                                
                                                                                                   F
                                                                                                
                                                                                                
                                                                                                   P
                                                                                                
                                                                                                
                                                                                                   m
                                                                                                
                                                                                             
                                                                                          
                                                                                       
                                                                                    
                                                                                 
                                                                              
                                                                              
                                                                                 2
                                                                              
                                                                           
                                                                           +
                                                                           
                                                                              
                                                                                 λ
                                                                              
                                                                              
                                                                                 R
                                                                              
                                                                              
                                                                                 2
                                                                              
                                                                           
                                                                           ·
                                                                           
                                                                              
                                                                                 
                                                                                    
                                                                                       
                                                                                          
                                                                                             
                                                                                                
                                                                                                   F
                                                                                                
                                                                                                
                                                                                                   R
                                                                                                
                                                                                                
                                                                                                   M
                                                                                                
                                                                                             
                                                                                             -
                                                                                             
                                                                                                
                                                                                                   ROAC
                                                                                                
                                                                                                
                                                                                                   
                                                                                                      
                                                                                                         D
                                                                                                      
                                                                                                      
                                                                                                         i
                                                                                                      
                                                                                                   
                                                                                                
                                                                                             
                                                                                             (
                                                                                             g
                                                                                             )
                                                                                          
                                                                                          
                                                                                             
                                                                                                
                                                                                                   F
                                                                                                
                                                                                                
                                                                                                   R
                                                                                                
                                                                                                
                                                                                                   M
                                                                                                
                                                                                             
                                                                                             -
                                                                                             
                                                                                                
                                                                                                   F
                                                                                                
                                                                                                
                                                                                                   R
                                                                                                
                                                                                                
                                                                                                   m
                                                                                                
                                                                                             
                                                                                          
                                                                                       
                                                                                    
                                                                                 
                                                                              
                                                                              
                                                                                 2
                                                                              
                                                                           
                                                                        
                                                                     
                                                                  
                                                               
                                                               
                                                                  
                                                                  
                                                                     g
                                                                     ⩾
                                                                     0
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   Let 
                                                      
                                                         i
                                                         ∗
                                                      
                                                    be the index such that 
                                                      
                                                         
                                                            
                                                               z
                                                            
                                                            
                                                               i
                                                               ∗
                                                            
                                                         
                                                         =
                                                         min
                                                         {
                                                         
                                                            
                                                               z
                                                            
                                                            
                                                               i
                                                            
                                                         
                                                         :
                                                         i
                                                         =
                                                         1
                                                         ,
                                                         …
                                                         ,
                                                         S
                                                         }
                                                      
                                                   . Then do 
                                                      
                                                         
                                                            
                                                               D
                                                            
                                                            
                                                               ∗
                                                            
                                                         
                                                         =
                                                         
                                                            
                                                               D
                                                            
                                                            
                                                               i
                                                               ∗
                                                            
                                                         
                                                         ,
                                                         
                                                            
                                                               g
                                                            
                                                            
                                                               ∗
                                                            
                                                         
                                                         =
                                                         
                                                            
                                                               g
                                                            
                                                            
                                                               i
                                                               ∗
                                                            
                                                         
                                                      
                                                    and STOP.
                                             
                                          
                                       
                                    
                                 
                              

We have used real data from a fast moving consumer goods (FMCG) retail distribution company in Spain in order to assess the validity of our proposed methodology. The data for the analysis were obtained from the available information from customers using the loyalty card of the company. From the whole database, including transactional and socio-demographic information, we extracted a random sample with records of 140202 customers from June 2006 to March 2007.

The first objective of our empirical study was to obtain the estimated POAC and ROAC functions for each of the new definitions of churn proposed in Section 4.1. Using them, we were able to solve the problem (MP) which provided us with the most profitable definition of churn to be used by the company, our final objective. The numerical computation of the POAC and ROAC functions using (5) and (6) requires selecting a probability distribution for modelling 
                        
                           e
                           (
                           g
                           )
                        
                     , and fixing the values of several undetermined parameters, namely 
                        
                           k
                           ,
                           pm
                        
                      and 
                        
                           
                              
                                 s
                              
                              
                                 p
                              
                           
                        
                     .

Concerning to 
                        
                           e
                           (
                           g
                           )
                        
                     , we tested the following four probability distributions (see Fig. 2): (a) shifted exponential distribution 
                        
                           Exp
                           (
                           μ
                           ,
                           θ
                           )
                        
                     , with 
                        
                           μ
                           =
                           30
                           ,
                           θ
                           =
                           5
                        
                     ; (b) Weibull distribution 
                        
                           We
                           (
                           
                              
                                 t
                              
                              
                                 0
                              
                           
                           ,
                           η
                           ,
                           β
                           )
                        
                     , with 
                        
                           
                              
                                 t
                              
                              
                                 0
                              
                           
                           =
                           5
                           ,
                           η
                           =
                           45
                           ,
                           β
                           =
                           1.5
                        
                     ; (c) Normal distribution 
                        
                           N
                           (
                           μ
                           ,
                           σ
                           )
                        
                     , with 
                        
                           μ
                           =
                           47
                           ,
                           σ
                           =
                           18
                        
                     ; and (d) Uniform distribution 
                        
                           U
                           (
                           a
                           ,
                           b
                           )
                        
                     , with 
                        
                           a
                           =
                           5
                           ,
                           b
                           =
                           100
                        
                     . Each of these distributions is associated to a different evolution pattern of the customer response to a marketing campaign. For modelling a quick response pattern, we would consider the shifted exponential distribution; for modelling a response with a constant growth pattern, we would consider the uniform distribution.

The distribution parameters have been chosen in order to lead to the values 
                        
                           Λ
                           =
                           0.75
                           ,
                           ∊
                           =
                           0.01
                           ,
                           
                              
                                 δ
                              
                              
                                 ∊
                              
                              
                                 L
                              
                           
                           =
                           5
                        
                      and 
                        
                           
                              
                                 δ
                              
                              
                                 ∊
                              
                              
                                 U
                              
                           
                           =
                           150
                        
                     . With this choice, we are assuming that there is barely effectiveness on the marketing campaign below an expenditure of €5 per customer; on the other hand, the maximum number of customers who could not defect due to the campaign effects would be at the most 75% of the total future churners who participate into the marketing campaign, and this maximum would be practically reached when expending €150. We think these are reasonable values for the context in which we are, but of course they can be adjusted depending on the characteristics of the company.

Concerning the rest of parameters, we set 
                        
                           k
                           =
                           5
                        
                      months, 
                        
                           pm
                           =
                           0.3
                        
                      (this is the most frequent value for the profit margin in the literature). As for the sensitivity, and in order to get comparable results, we selected the same value for 
                        
                           
                              
                                 s
                              
                              
                                 p
                              
                           
                        
                      to be used with all the definitions of churn and all distributions, and therefore we decided to use 
                        
                           
                              
                                 s
                              
                              
                                 p
                              
                           
                           =
                           0.5
                        
                     .

On the other hand, we used 
                        
                           
                              
                                 λ
                              
                              
                                 P
                              
                           
                           =
                           
                              
                                 λ
                              
                              
                                 R
                              
                           
                           =
                           0.5
                        
                      in Algorithm 1, giving in this way the same importance to both objective functions.

@&#RESULTS AND DISCUSSION@&#

First of all, with the goal of evaluating the performance of the different distributions, we obtained the maximum value of the ROAC functions for each churn definition and for each of the probability distributions mentioned in Section 5. Fig. 3
                      shows these results in a chart. Each graph line in the plot represents a probability distribution, and each individual point in the line stands for the maximum ROAC of a definition model. We point out that each of these points represents the best expected return (ROAC) that we could expect using a particular definition and distribution. In the horizontal axis, the first 8 points correspond to the definitions not using the variable L (Length of relationship), while the last 8 points are associated with the maxima for definitions using L.

From Fig. 4
                     , we can see that the exponential pattern shows a wide gap with the rest of distributions. Interestingly, there is little difference in the maxima ROAC using Weibull and Normal distributions (although responding to different response patterns). None of the definitions lead to a positive ROAC with the uniform distribution; therefore, if the uniform was our response pattern, we maybe should think about either increasing the value of k (number of months in each period) or looking for a new set of churn definitions.

In the following, we will present only the results using the shifted exponential distribution which is the one that we think more appropriate in our context. In this case, we point out that the sensitivity value 
                        
                           
                              
                                 s
                              
                              
                                 p
                              
                           
                           =
                           0.5
                        
                      satisfies condition (11) for all definitions of churn; i.e. this value guarantees that the maximum ROAC is nonnegative for all definitions.


                     Fig. 5
                      shows the POAC curves as functions of g for all the churn definitions, while Fig. 6
                      shows their ROAC curves. From Fig. 4 it can be seen that profits achieved with definitions that use L (D9 to D16) are much lower than profits for definitions without L. Nevertheless, in Fig. 5 we can see that, in general, definitions using L provide better ROAC curves, that is, for these definitions there is a higher return for each monetary unit invested in the campaign. The explanation for this behaviour is that definitions using L determine smaller groups of churners than definitions not using L; consequently, although the corresponding campaigns would provide good returns, the total profits would be considerably lower as they would be implemented over less customers. Definitions D1, D6 and their corresponding definitions using the variable L (D9 and D14) show the highest values for the maximum ROAC, while Buckinx and Van den Poel (2005) model (definition D3) is not as competitive as the rest.

Having into account these results, if our criterion for choosing a definition was the expected profit, we should use definition D6, while if the criterion was maximizing the expected return, we should use definition D14. This highlights the fact that we need an unified criterion in order to select the best definition, as our multiobjective optimization approach provides with.

Applying Algorithm 1, we have found the optimal solution for the problem (MP), that is, the optimal churn definition 
                        
                           
                              
                                 D
                              
                              
                                 ∗
                              
                           
                        
                      and the action cost 
                        
                           
                              
                                 g
                              
                              
                                 ∗
                              
                           
                        
                      required to achieve the best solution. Before showing the results of the optimization process, let us discuss some intermediate results. In Table 2
                      we show the maximum value of POAC for each definition 
                        
                           
                              
                                 D
                              
                              
                                 i
                              
                           
                        
                     , together with the values of the marginal action cost 
                        
                           
                              
                                 g
                              
                              
                                 P
                              
                              
                                 i
                              
                           
                           =
                           
                              
                                 argmax
                              
                              
                                 g
                              
                           
                           
                              
                                 POAC
                              
                              
                                 
                                    
                                       D
                                    
                                    
                                       i
                                    
                                 
                              
                           
                           (
                           g
                           )
                        
                      where the maxima of POAC are reached and the values of ROAC for each 
                        
                           
                              
                                 g
                              
                              
                                 P
                              
                              
                                 i
                              
                           
                        
                     . These 
                        
                           
                              
                                 g
                              
                              
                                 P
                              
                              
                                 i
                              
                           
                        
                      have to be computed in the step 1 of the algorithm. Let us note that, if the only objective of the company was maximizing POAC, then the best definition of churn would be that one maximizing the column 
                        
                           POAC
                           (
                           
                              
                                 g
                              
                              
                                 P
                              
                              
                                 i
                              
                           
                           )
                        
                      in Table 2 when investing the quantity 
                        
                           
                              
                                 g
                              
                              
                                 P
                              
                              
                                 i
                              
                           
                        
                     ; in our case, this would be definition 
                        
                           D
                           6
                        
                     , investing a marginal action cost of 
                        
                           38.15
                        
                      monetary units per customer, and providing an estimated profit of 
                        
                           214919.43
                        
                      monetary units. However, this solution would provide a poor value of ROAC (
                        
                           58.80
                           %
                        
                     ).

On the other hand, Table 2 shows also the maximum value of ROAC for each definition 
                        
                           
                              
                                 D
                              
                              
                                 i
                              
                           
                        
                     , together with the values of the marginal action cost 
                        
                           
                              
                                 g
                              
                              
                                 R
                              
                              
                                 i
                              
                           
                           =
                           
                              
                                 argmax
                              
                              
                                 g
                              
                           
                           
                              
                                 ROAC
                              
                              
                                 
                                    
                                       D
                                    
                                    
                                       i
                                    
                                 
                              
                           
                           (
                           g
                           )
                        
                      where the maxima of ROAC are reached and the values of POAC for each 
                        
                           
                              
                                 g
                              
                              
                                 R
                              
                              
                                 i
                              
                           
                        
                     . Now, if the company intended maximizing their campaign return (ROAC), the best definition of churn would be that one maximizing the column 
                        
                           ROAC
                           (
                           
                              
                                 g
                              
                              
                                 R
                              
                              
                                 i
                              
                           
                           )
                        
                      when investing the quantity 
                        
                           
                              
                                 g
                              
                              
                                 R
                              
                              
                                 i
                              
                           
                        
                     ; the results indicate that this would be definition 
                        
                           D
                           14
                        
                      when investing 
                        
                           20.80
                        
                      monetary units per customer, obtaining a ROAC of 
                        
                           88.98
                           %
                        
                      but with a poor estimated profit of 
                        
                           24932.32
                        
                      monetary units.

We can see also that in order to achieve the maximum POAC it would be necessary to invest much more money per customer in the marketing campaign than if we intended to achieve the maximum ROAC, whatever the definition we would use.


                     Fig. 6 displays a two-dimensional plot of Table 2. Each pair (
                        
                           POAC
                           (
                           
                              
                                 g
                              
                              
                                 P
                              
                              
                                 i
                              
                           
                           )
                           ,
                           ROAC
                           (
                           
                              
                                 g
                              
                              
                                 P
                              
                              
                                 i
                              
                           
                           )
                        
                     ) and (
                        
                           POAC
                           (
                           
                              
                                 g
                              
                              
                                 R
                              
                              
                                 i
                              
                           
                           )
                           ,
                           ROAC
                           (
                           
                              
                                 g
                              
                              
                                 R
                              
                              
                                 i
                              
                           
                           )
                        
                     ) have been plotted into the graph. The ideal point and the optimal solution obtained by Algorithm 1 have been drawn also. We remind that the optimal solution minimizes the euclidean distance from the normalized solution to the ideal point. In this case, the ideal point as explained in Section 4 would be the pair 
                        
                           (
                           214919.43
                           ,
                           
                           88.98
                           %
                           )
                        
                     .

In the step 6 of Algorithm 1, we obtained the optima for the subproblems (Pi); each of these optima can be considered as the optimal solution for problem (P) when only a definition of churn is considered, what we call local optima. Table 3
                      shows all the local optima together with their corresponding POAC and ROAC. The definitions have been ordered by increasing values of 
                        
                           
                              
                                 z
                              
                              
                                 i
                              
                           
                        
                     , the objective function of (Pi); thus, the best definitions are those at the top of the table. D6 is the best one, followed by D1, D14 and D9. Notice that in a previous paragraph, we commented that when maximizing POAC, the best option was D6 but when maximizing ROAC the best was D14. Nevertheless, according to the results of Algorithm 1, definition D1 is better than D14, because it achieves a better balance between POAC and ROAC. D3 (corresponding to the Buckinx and Van den Poel, 2005 definition) and its corresponding definition using L (D11) presented the worst results.

We solved Algorithm 1 using 
                        
                           
                              
                                 s
                              
                              
                                 p
                              
                           
                           =
                           0.5
                        
                      but we repeated the analysis also with 
                        
                           
                              
                                 s
                              
                              
                                 p
                              
                           
                           =
                           0.75
                        
                     , which is a more demanding value but it is a quite realistic level of sensitivity in a reasonably accurate classificator. Table 4
                      shows the optimal solution 
                        
                           (
                           
                              
                                 D
                              
                              
                                 ∗
                              
                           
                           ,
                           
                           
                              
                                 g
                              
                              
                                 ∗
                              
                           
                           )
                        
                      of (MP) in both cases. We can see that when the sensitivity grows (and consequently, the classificator accuracy), the estimates for the profit POAC and the return ROAC obtained by the marketing campaign dramatically increase. When 
                        
                           
                              
                                 s
                              
                              
                                 p
                              
                           
                           =
                           0.5
                        
                     , the optimal solution has achieved good values for both POAC and ROAC, being 
                        
                           
                              
                                 POAC
                              
                              
                                 
                                    
                                       D
                                    
                                    
                                       ∗
                                    
                                 
                              
                           
                           (
                           
                              
                                 g
                              
                              
                                 ∗
                              
                           
                           )
                           =
                           172873.78
                        
                      and 
                        
                           
                              
                                 ROAC
                              
                              
                                 
                                    
                                       D
                                    
                                    
                                       ∗
                                    
                                 
                              
                           
                           (
                           
                              
                                 g
                              
                              
                                 ∗
                              
                           
                           )
                           =
                           77.60
                           %
                        
                      (we remind that the ideal point was 
                        
                           (
                           214919.43
                           ,
                           
                           88.98
                           %
                           )
                        
                     , which is unattainable in any case), while the optimal marginal action cost 
                        
                           
                              
                                 g
                              
                              
                                 ∗
                              
                           
                        
                      to get this optimality is just 
                        
                           23.27
                        
                      monetary units. D6 resulted to be the optimal definition of churn for both levels of sensitivity, for the shifted exponential distribution.

Concerning the segmentation variables used for each churn definition, the best 4 definitions use variable m (average of the k monthly purchase amounts); in fact, the combination of the variable m with a coefficient of variation variable seems to be the kind of segmentation producing the most promising results. Variable L (length of relationship) is not involved in the best definitions only, so we cannot say that its inclusion is determinant to guarantee a good definition of churn.

@&#CONCLUSIONS AND FUTURE WORK@&#

In this paper, we propose a methodology providing a systematic and objective tool for comparing a set of definitions of churn. This system is based on the expected economic benefits that a marketing campaign based on each definition would report to the company. Specifically, our method finds the definition of churn by maximizing both profit and return of such a campaign, from a multiobjective optimization approach. The proposed algorithm obtains a compromise solution and it achieves very satisfactory results with the real data that we have used for our experiments, as we have shown in Section 6.

As well as determining the optimal churn definition, our method finds out the optimal marginal action cost g that the company should invest per customer when implementing the campaign using the optimal definition. Let us note that this is a critical issue also, as we have seen on the numerical results that the values of g leading to the best value of the profit POAC and to the best value of ROAC do not match up with the optimal value obtained by the proposed algorithm, which leads always to a more balanced solution than optimizing only either POAC or ROAC.

Among the studied ad-hoc definitions with 
                        
                           k
                           =
                           5
                        
                     , the best performance was achieved by churn definitions using the variable segmentation m (average of the k monthly purchase amounts), particularly when combined with a coefficient of variation variable; the Buckinx and Van den Poel (2005) definition is not among the best options, according to the proposed multiobjective approach. This conclusion meets also with other distributions than the shifted exponential. In general, the inclusion of the variable L (length of the relationship) as a segmentation variable does not improve specially the economic behaviour of a definition of churn.

In our opinion, the proposed methodology can be a useful decision tool when a company is considering to undertake some kind of marketing actions for preventing the partial defection of customers. By means of its application, the company would be able to select the definition of churn which guarantees the most satisfactory economic results of the marketing campaign, and at the same time to estimate the required total investment in order to reach these results. Of course, this methodology is not restricted to the ad-hoc class of definitions that we used here for numerical purposes.

Actually, one of the ways to extend our approach we would like to explore is the use of longitudinal data for defining churn in non-contractual settings—that is, dealing with behavioural data not as aggregated values but as customer-focused multivariate time series of fixed length. As Chen, Fan, and Sun (2012) point out in their paper using longitudinal data for churn prediction, there is not much research done in this field.

@&#ACKNOWLEDGEMENTS@&#

We would like to thank the referees for their valuable comments and suggestions, which contributed to enhance the quality of this paper. We would like to thank also Professors Rubén Ruiz and Ana I. Sánchez for their support and advices regarding this paper.

Supplementary data associated with this article can be found, in the online version, at http://dx.doi.org/10.1016/j.ejor.2014.04.029.


                     
                        
                           Supplementary data
                           
                        
                     
                  

@&#REFERENCES@&#

