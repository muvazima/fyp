@&#MAIN-TITLE@&#gHRV: Heart rate variability analysis made easy

@&#HIGHLIGHTS@&#


               
                  
                  
                     
                        
                           
                           gHRV is an open source tool for HRV analysis.


                        
                        
                           
                           gHRV is implemented in python and binaries are available for Linux, Windows and Apple OS X.


                        
                        
                           
                           It imports and exports files in several formats and creates high quality plots that can be exported to file.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Heart rate variability

Open source

Signal processing

@&#ABSTRACT@&#


               
               
                  In this paper, the gHRV software tool is presented. It is a simple, free and portable tool developed in python for analysing heart rate variability. It includes a graphical user interface and it can import files in multiple formats, analyse time intervals in the signal, test statistical significance and export the results.
                  This paper also contains, as an example of use, a clinical analysis performed with the gHRV tool, namely to determine whether the heart rate variability indexes change across different stages of sleep.
                  Results from tests completed by researchers who have tried gHRV are also explained: in general the application was positively valued and results reflect a high level of satisfaction. gHRV is in continuous development and new versions will include suggestions made by testers.
               
            

@&#INTRODUCTION@&#

Cardiovascular diseases (CVDs) are one of the most important causes of death in developed countries. The American Heart Association (AHA) elaborates each year statistics on heart disease, stroke, other vascular diseases, and their risk factors, and, in the 2013 report, it is stated that the percentage of mortality rates due to CVDs was 40.6% for high blood pressure; 13.7% for smoking; 13.2% for poor diet; 11.9% for insufficient physical activity; and 8.8% for abnormal glucose levels [1].

Given the high incidence of cardiac diseases, much research efforts are devoted to this subject: several systems and algorithms have been already developed to help clinicians in detecting and classifying heart defects (arrhythmias, heart blocks, etc.) [2,3] and respiratory diseases [4–6].

The heart rate (HR) can be defined as the number of heartbeats per unit of time, usually minutes. At rest, the normal heart rate for adults ranges from 60 to 100beats/min, and a lower heart rate usually means a more efficient heart function and better cardiovascular fitness. However, heart rate is not constant, and presents variations as a means to adapt to internal and external stress factors. Heart rate variability (HRV) refers to the beat-to-beat alterations in heart rate. These alterations can be detected by time-domain, frequency-domain, and non-linear analysis of the electrocardiogram (ECG).

One of the most used techniques is spectral analysis, which provides a quantitative analysis and an evaluation of the neurovegetative nervous system. The LF (low frequency) components, with frequencies ranging from 0.04 to 0.15Hz, is influenced by both sympathetic and parasympathetic systems, while HF (high frequency) components, containing frequency components greater than 0.15Hz, estimate the parasympathetic tone related to respiratory rhythm [7]. There are many possibilities in this approach: in [8] other spectral regions are proposed, while in [9] a different method of spectral estimation is applied.

Apart from the LF and HF parameters, other interesting HRV index is the LF/HF ratio, that can be a good method for measuring the balance between the sympathetic and parasympathetic systems. LF/HF ratio could also serve as an estimator of sympathetic activity comparing it with HF power [7]. In this way, HRV turns out to be a non-invasive electrophysiology test for studying several diseases, such as myocardial infarction [10], diabetes [11], or sleep apnea [12] and clinical consensus has been achieved on the utility of HRV for diagnosis of the previous diseases [13]. For myocardial infarction, spectral analysis in patients who have survived an acute infarction indicated a reduction in total and individual power spectral components [10]; then, HRV analysis can be used as an indicator of risk. In neuropathy associated with diabetes mellitus, a reduction in time-domain values of HRV indicates a negative prognostic value, and also precedes the clinical expression of autonomic neuropathy [11]. Besides, it has also been reported a very reduced HRV value in patients with a recent heart transplant [14] and an undetectable LF spectral band in many tetraplegic patients [15].

In the time-domain analysis, several parameters are usually calculated [13]: (i) SDNN: standard deviation of intervals between consecutive heart beats, (ii) pNN50: proportion of interval differences of successive intervals greater than 50ms., (iii) r-MSDD: root mean square of successive differences, (iv) IRRR: difference between third and first quartile of the intervals distribution, (v) MADRR: median of the absolute differences of the RR intervals, (vi) TINN: the triangular interpolation of intervals histogram, and (vii) HRVi: integral of the density distribution divided by the maximum of the density distribution. Time-domain variables, for example, indicate that HRV is higher in trained individuals compared with their age- and weight-matched sedentary controls, and it was shown that there was a strong correlation between these variables and age and sex [16].

Referring to non-linear analysis, a Poincaré plot is a visual representation of the dependence between successive RR intervals which indicates the degree of the heart failure in a subject [17,18]. This plot is often quantified by fitting to an ellipse where SD1 and SD2 are the semi-axis of this ellipse. SD1 is related to the fast beat-to-beat variability in the data, while SD2 describes the longer-term variability, SD1/SD2 showing the ratio of short interval variation to the long interval variation. Other useful parameter is Approximate Entropy (ApEn), a measure of the disorder in the HR signal which quantifies the regularity and complexity of time series [19]. Finally, Fractal Dimension (FracDim) is also considered as a measure of complexity [20].

Given the proved value of HRV analysis, several studies have dealt with the possibility of employing HRV parameters for developing screening programs in routine medical procedures. Heitmann et al. developed a screening tool for a first diagnosis of general practitioners, based on the application of linear and non-linear methods of short-term HRV analysis in both young and elderly men [21]. Haney and Wiklund studied the possibility of using HRV analysis as a screening tool for anesthesia-related hypotension [22]. Obstructive sleep apnea screening employing HRV was developed by Roche et al., concluding that this method can be an accurate and inexpensive screening tool [23].

Commercially available equipment for ECG monitoring, which normally offers robustness and constant updating, does not usually include functionalities for HRV analysis. This is due to the fact that HRV analysis has not been yet included in the standard diagnostic protocols and thus, manufacturers have not considered this a priority when developing software systems. Because of this, these applications, even if they have part of the required functionality, are not always the adequate tools to cope with the specific requirements. However, an increasing number of developers and researchers do not resign to these limitations, and develop their own computer programs, adapted to their particular needs.

This paper presents a software tool for HRV analysis, that can be easily executed on Windows, GNU Linux or Apple OS X operating systems. Furthermore, it is open-source and very flexible, in terms of both data format and processing possibilities. The rest of the paper is organized as follows: in Section 2 we briefly review the state of the art in the field of tools for HRV analysis. Features of gHRV are described in depth in Section 3, while Section 4 contains an example of analysis of an electrocardiographic record. Finally, conclusions and future work are presented.

@&#BACKGROUND@&#

Heart rate variability analysis was introduced in electrocardiographic monitoring equipment between 1980 and 2000 as a very simple tool in the time and frequency domains, and at first it was very little user-configurable [24]. Nowadays, monitoring equipment have expanded their capabilities and specific software tools for HRV analysis are increasingly emerging, as stated in Section 1.

A very well designed commercial tool for HRV is aHRV [25]. This software, developed by Nevrokard, imports data in many formats, and includes time and frequency analyses and a graphical user interface. Nevrokard also offers two programs complementary to aHRV: LT-HRV (to perform analysis of segmented ECG data) or OSAS (specifically tailored to the screening of obstructive sleep apnea patients).

Another proprietary software which can be used for HRV is LabVIEW, a system-design platform and development environment. LabVIEW is focussed to system designers (hardware and software) and it includes signal processing functionalities that make it possible to create custom HRV analysis applications [26].

Most free applications offer time and frequency domain analyses. Some of them include a graphical user interface (GUI), and can be used by a wide spectrum of users. In [27], Tarvainen et al. presented Kubios-HRV, a Matlab-based and multi-platform tool. It imports ASCII files, as well as data files, from Polar and Suunto heart rate monitors. It has a well-designed graphical interface and performs analysis in time and frequency domains, as well as non-linear dynamical studies. Kudrynski et al. developed a GUI software for dealing with HRV, T-wave alternans and heart rate turbulence analysis from ECGs [28]. Kaufmann et al. presented ARTiiFACT [29], a tool for processing artifacts and analysing cardiac variability, which was written in the proprietary environment Matlab (but no Matlab license is required for executing the program). ARTiiFACT allows extraction of inter-beat intervals from ECG data, artifact processing, computation of HRV in time and frequency domains, and statistical analysis of distribution criteria. HRVAS [30] was developed using Matlab, and it can perform time domain, frequency domain, time-frequency, Poincaré, and nonlinear HRV analyses. Other software based on Matlab is Kardia [31], an open-source tool that allows the study of phasic cardiac responses, as well as the estimation of time and frequency domain HRV parameters.

Other group of HRV software applications is composed by those that require some knowledge and programming skills, since they do not include GUI and are not as easy to use as the previously described ones. Among these applications, we can mention HRV-Toolkit [32], which does not perform non-linear analysis, and which consists of a group of command-line tools that must be run from a terminal window (a Cygwin window on MS-Windows), or by a shell script. A limitation of HRV-Toolkit is that it employs the WFDB (WaveForm DataBase) library [33], a set of functions for reading and writing files in the PhysioBank file format, that requires installation on systems supporting C language. PhysioBank is a collection of datasets composed by annotated, digitized physiologic signals and time series that can be easily downloaded from PhysioNet, a web portal containing an extensive database of physiologic signals and software [34]. Other software without GUI is the outdated Kaplan software [35], primarily written in Matlab.

The main characteristics of these tools are summarized in Table 1
                     . The proprietary ones are not very appropriated for research purposes. Some of the open source code software tools lack a graphical user interface, which makes it difficult its use by an user without programming skills. Among the rest, some of them do not allow to perform non-linear analysis, and only Kubios-HRV, HRVAS and Kardia include functions for time, frequency and non-linear analysis. One major drawback of many of these tools is that researchers need access to the commercial software Matlab if they want to add or implement new algorithms. gHRV overcomes these limitations, since it is open source and it includes a GUI and functions for time, frequency and non-linear analysis of HRV.

In a previous work, we presented RHRV, a software package for the open-source statistical environment R [36], that can be freely downloaded from the R-CRAN repository. This software tool offers functions for performing power spectral analysis of heart rate data, and has been extensively described in [37]. Briefly, with RHRV spectral parameters such as LF, HF, ULF and VLF values can be calculated, as well as the LF/HF ratio. Other spectral bands can be analysed by simply varying the default frequency limits. Non-linear analysis can also be performed and functions for calculating fractal dimension and approximate entropy are also included. RHRV can deal with episodes of different types, and the analysis results can be plotted and/or exported. However, as the previous described tools, one of the most important drawbacks of RHRV lies in the absence of a GUI, thus limiting its use to people with basic programming skills.

In [38], a very preliminar version of gHRV was presented. It only included frequency-domain analysis and a set of reduced functionalities in the GUI. The gHRV version presented in this paper implements both time-domain and nonlinear analyses, reads different formats for the data files, and its graphical interface includes a much wider set of functionalities that were not present in the first version of gHRV.

gHRV is aimed to HRV analysis, designed for researchers or clinical professionals without requiring special skills in computer science. Fundamental aspects behind its development are ease of installation and use.

Extracting useful information from the spectral content of the heart-rate signal usually involves a sequence of steps that define the basic features of gHRV and the processing algorithms it includes:
                           
                              •
                              gHRV imports data files containing heart beat positions in WFDB and ASCII formats, IBI (InterBeat Intervals) ASCII files, as well as data files from Polar and Suunto heart rate monitors (HRM and SDF/STE files, respectively).

Preprocessing of data files comprises two steps: outliers removal and interpolation.
                                    
                                       (a)
                                       Outliers are spurious points present in the heart beat time series that may be deleted either manually or automatically. Automatic filtering applies a function based on an algorithm developed by one of the authors [39], that uses adaptive thresholding for rejecting beats whose value exceeds the cumulative mean threshold while also eliminating points that are not within acceptable physiological values.

Frequency domain analysis requires an evenly spaced heart rate sequence that, in gHRV, is obtained using a linear interpolation method.

Intervals of physiological interest within the heart beat time series (such as apnea, ischemia, etc.) may be annotated making use of tags in so-called episodes. In gHRV, episodic information can be edited either graphically or manually. It can be also incorporated from ASCII files (each line containing the beginning, type, and duration of each episode), or from annotation files in PhysioBank's format.

gHRV allows researchers to observe the evolution of a group of HRV indexes over time. Other HRV analysis tools only estimate global indexes (associated with the complete record) or at most specify a segment and calculate indexes associated with that segment. In gHRV users can specify an interval, or window size, and a time shift (default values are 120 and 60s, respectively) and HRV indexes are calculated at these intervals and shown as trend diagrams. We called this a frame-based analysis. These HRV indexes are:
                                    
                                       (a)
                                       
                                          Frequency indexes: gHRV estimates, for each window, the power spectral density by means of a short-time Fourier transform by applying a Hamming window over the zero-mean signal. After that, power in ULF, VLF, LF, and HF bands, the total power and the LF/HF ratio are calculated.


                                          Time indexes: gHRV allows users to observe the evolution of mean and standard deviation of heart rate, pNN50 and rMSSD.


                                          Non-linear indexes: approximated entropy and fractal dimension are calculated by gHRV, following the algorithms described in [40] and [41], respectively.

Statistical significance tests can be performed on any of these frequency, time-domain or non-linear indexes. gHRV implements Kolmogorov–Smirnov test [42], a non-parametric test for one-dimensional probability distributions that can be used to compare two different samples by quantifying the distance between their empirical distributions.

Poincaré plots provide valuable visual information on the behaviour of the heart. gHRV allows the users to create Poincaré plots where different spans of the heart rate signal can be compared making use of episodic information.

Besides indexes calculated frame by frame, gHRV allows users to calculate other time-domain parameters: IRRR, MADRRR, TINN and HRVi.

The procedures described in the preceding section are invoked in gHRV by making use of a graphical user interface composed by several windows that are summarized in Fig. 1
                        .

gHRV's main window allows users to access the basic functionalities of the tool. The interaction with the users is guided in order to minimize errors and operational problems. With this purpose, elements of the interface are enabled or disabled depending on the state of the interaction.

As it can be observed in Fig. 2
                        , buttons in the main window are divided by their functionalities into several areas:
                           
                              (a)
                              
                                 Projects area: The buttons in this area allow users to import/export working sessions from/to file (default extension is .ghrv) and to clear the gHRV's session. Besides, by making use of the Settings button, users can modify general analysis parameters of the session, namely cut-off frequencies of bands for frequency-domain analysis, interpolation frequency and frame-based analysis parameters (windows size and shift).


                                 Heart rate data area: In this area, functionalities to load, filter and export beat time series are available. Besides, automatic or manual removal of outliers can be performed by the Filter and Edit buttons, respectively. In order to delete outliers manually, a graphical editor is provided (see Fig. 3
                                 ) so that users may interactively delete ranges of points from the instantaneous heart rate series.


                                 Episodes area: Functionalities for dealing with different episodes are provided by the buttons inside the Episodes area. gHRV includes two editors (graphical and text-based) that allow users to delete, create, edit or copy episodes. Each episode is characterized by a text label or tag (tags can be changed by the user) and each tag is identified by a specific color (automatically assigned) throughout all the graphic representations of the application.


                                 Tools area: Once the signal is interpolated (by using the Interpolate button), the Frame-based evolution button changes its state to active, allowing users to observe the evolution of a group of HRV indexes over time, as can be seen in Fig. 4
                                 . Indexes in different episodes can be compared visually, since the tool marks time-spans corresponding to different tags in different colors. Additionally, statistical significance tests can be performed on any of the spectral, time-domain or non-linear indexes (see Significance button in Fig. 4). In Fig. 5
                                  the result of such a test is presented. All these parameters or a subset of them can be exported to a text file (button Export txt in Fig. 4), and the tool offers some choices for the output format.

The Poincaré plot button allows users to create Poincaré plots where different spans of the heart rate signal can be compared making use of episodic information, as can be seen in Fig. 6
                                 .

The Report button creates a compact representation of all the calculations performed for the present record. This report shows the global time-domain coefficients and can be saved as an html file or opened on the system's default web browser.

Windows in gHRV include in most cases interactive plots. The interactive functionalities depend on the specific plot and are accessed by buttons located in one of the top corners of the graph. These buttons control zoom, span, configuration or allow plots to be exported as high quality pictures in the following formats: .eps, .jpg, .tiff, .png, .svg and .pdf.

As it was stated before, gHRV is designed for researchers or clinical professionals without requiring special skills in informatics. Therefore, a key aspect behind its development is ease of installation and use. The application is under continuous improvement, and in this paper, version 1.5 is presented. Interested users are encouraged to visit gHRV web page (http://ghrv.milegroup.net) where the most up-to-date version can be found. When the program is executed, if it detects that the computer is connected to the internet, it automatically accesses the repository and notifies the user if a new version is available for downloading and installing.

gHRV has been implemented using Python programming language, which gives clean and legible code, easing software maintenance. The tool is distributed as free software (GNU GPL license), and easy installers for Windows, Linux and OS X operating systems are available. The fact that the application is available under an open source license allows researchers with programming skills to inspect and modify the tool to their requirements.

GNU Linux binaries are distributed as a .deb package, valid for GNU Linux distributions based on Debian packages, such as Ubuntu Linux, both 32 and 64 bits. This .deb package, when installed, checks if the packages it depends on are installed in the system and asks the user to allow the automatic downloading and installation of these dependencies.

Windows and Apple OS X binaries are valid for both 32 and 64 bit architectures. Although gHRV depends on several additional Python libraries, Windows and OS X binaries are self-contained applications and they do not require any software to be installed on the system.

Regarding hardware requirements, any fairly recent mainstream computer should be enough for most users to run gHRV. The most time-consuming operation is the estimation of frame-based parameters, and, in our tests, records 2-h long were processed in less that 20s using usual values for windows length and shift. For the display, a minimum of 1200 pixels of horizontal resolution is advisable in order to achieve a satisfactory users’ experience.

Comparing HRV analysis results obtained using different tools is not an easy task. The calculations involved offer many degrees of freedom, making very difficult to obtain the same numerical results. Besides, many available tools calculate only global HRV parameters, while gHRV computes frame-based coefficients, giving the users the possibility of studying the temporal evolution of the data or comparing different segments in a record. One very popular tool which calculates global parameters is Kubios-HRV [27] and while they are not easy to compare, results are consistent between gHRV and Kubios-HRV, as explained in Section 4.2. RHRV [37], which also adopts a frame-based approach, gives the same numerical results as gHRV does.

In order to prove the usefulness of gHRV software in clinical applications, this tool was used to perform a HRV analysis using a real polysomnographic record, freely available at the PhysioBank archives of PhysioNet [34], and we have analysed significant differences in spectral and non-linear parameters across sleep stages [43]. In order to achieve this task, we have chosen a polysomnogram of the MIT-BIH Polysomnographic Database [44–46]. This database contains 18 polysomnograms corresponding to four, six, and seven channels with a beat annotated ECG (electrocardiogram) signal, and EEG (electroencephalogram) and respiration signals annotated with sleep stages and apnea episodes. Each recording comprises four archives: the signal file (.dat), the sleep/apnea annotations file (.st), the beat annotations archive (.ecg) and a header file (.hea) including metadata such as ECG channels, sample frequency, calibration constants, or record length.

We selected the slp59 record, and HRV was studied at different sleep stages, verifying whether significant differences for the different sleep episodes were present or not. Spectral bands, non-linear and time-domain parameters were studied. The duration of the slp59 record is 4h, and it belongs to a patient that presents an apnea/hypopnea index (AHI) of 55.3. Annotations for the different sleep stages are included in the slp59.st file, labelled every 30s according to the Rechtschaffen and Kales rules [47], as follows: W) the patient is awake; (1) sleep stage 1 (beginning of the sleep cycle, transition period between wakefulness and sleep); (2) sleep stage 2 (second stage of sleep, lasting for approximately 20min); (3) sleep stage 3 (transitional period between light sleep and a very deep sleep); (4) sleep stage 4 (deep sleep lasting for approximately 30min); and R) REM (Rapid Eye Movement) sleep (characterized by eye movement, increased respiration rate and increased brain activity). In total, 84 episodes are annotated: 31 episodes were labelled as sleep stage 1; 16 as sleep stage 2; 7 as sleep stage 3; 4 as sleep stage 4; 22 as awake; and 4 as REM sleep. Other annotations (type of apnea or legs movement) can also be found in the file; however, they were not taken into consideration for this task, since the main goal is not to perform a rigorous clinical diagnosis, but to prove the usefulness of gHRV for performing both spectral and non-linear analysis.

First, the slp59 electrocardiographic record was loaded into the gHRV software. To incorporate the heart rate data containing the beat positions, the Load option of the Heart rate data area was clicked and the slp59.hea file was loaded (the .ecg annotation type was selected).

Since the main goal of this example is to analyse the different sleep stages, information about the different sleep episodes must be incorporated to the study. The gHRV software is prepared to deal with different formats of file episodes that can be downloaded from the PhysioNet website. Episodic information of the sleep stages was added to the heart rate signal by clicking on the .st file and selecting tags 1, 2, 3, 4, R and W (see Fig. 2).

Since the normal variability of the heart rate is affected in sleep diseases, HRV may be a suitable tool for determining differences in the sleep stages given that adequate frequency bands are employed. Several works can be found in the literature employing HRV for confirming increasing parasympathetic activity from wakefulness and REM over light sleep to deep sleep [12]. Spectral values that could be interesting to analyse with gHRV are power in the 0.003–0.04Hz range (VLF or very-low frequency band) and in the 0–0.003Hz range (ULF or ultra-low frequency band) [48].

Approximate entropy quantifies the unpredictability of fluctuations in a time series (such as instantaneous heart rate) [49], and can be also estimated by gHRV. Another non-linear parameter that can be employed is fractal dimension: a geometric concept related to chaos, that underlies important aspects of the cardiac function and can reveal the presence of long-term correlations in heart rate data [41].

In this case, the gHRV software was used to perform both spectral and non-linear analysis across the different sleep stages. Previously, heart rate data was filtered employing adaptive thresholds in order to reject incorrect beats. As a result, the filtered non-equispaced heart rate signal was obtained [39]. Although most of the artifacts are eliminated in this step, gHRV offers the user the possibility of editing manually the signal, by using the Edit button of the Heart rate data area (see Fig. 3).

The next step was signal interpolation using the Interpolation option of the Tools area (default linear interpolation frequency is 4Hz). As a result, a new heart rate signal, adequate for performing the spectral analysis, was obtained.

Once the signal is interpolated, the Frame-based evolution button in the Tools area changes its state to active. But before using this button, shift of analyses windows should be changed to 10s by using the Settings button of the Projects area. This change is convenient in this case to increase the number of analysis windows and thus to improve significance in the statistical analysis. Then, the Frame-based evolution option in the Tools area can be clicked, and a window showing the progress of the calculation process appears. When calculation is done, spectral and non-linear parameters are presented to the user in a new window (see Fig. 4), including at the upper right hand side information about the parameters shown in the plot: frequency bands, LF/HF ratio, total spectral power, mean and standard deviation of heart rate, pNN50, rMSSD, approximate entropy (ApEn), fractal dimension (FracDim), and heart rate data employed to perform the analysis.

By default, all the plots in gHRV show all the episodes associated to a heart rate record. This can be changed by using the Edit button of the Episodes area in gHRV's main window (Fig. 2), which allows the user to edit episodes graphically or manually. Besides, the user can mark labels as visible/unvisible, and these changes are automatically reflected in all the windows of the application.

The Significance button in Fig. 4 performs a Kolmogorov-Smirnov significance statistical study, in order to establish if spectral analysis and non-linear dynamics behave differently across different episodes of the signal. Table 2
                         includes results obtained when comparing the REM stage against other sleep stages, for all the available parameters. It can be observed that this is the case for some parameters, such as the LF/HF ratio, which shows statistically significant differences for all the performed comparisons, meaning that the LF/HF ratio behaves differently for the REM stage. For non-linear parameters, significant and non-significant differences were found for the various sleep episodes, when compared to the REM stage. Fig. 5 shows an example of the significance analysis window provided by gHRV.

As previously said, another option to analyse possible differences among the various sleep stages is the Poincaré plot. As an example, Fig. 6 contains a Poincaré plot showing differences between the sleep stage 4 and the non-sleep stage.

For validating gHRV, we used the same record used in Section hyperlinksec:samplerun4.1 (slp59 of the MIT-BIH Polysomnographic Database) and tried to compare numerical results against those obtained using Kubios-HRV. In order to equalize parameter estimation and methodologies in both tools, default settings in Kubios-HRV were changed to the following values:
                           
                              •
                              Artifact correction: strong.

Samples for analysis: sample 1 (00:00:00–04:00:00).

Remove trend component: 1st order.

FFT spectrum: window width 128s, 90% overlap.

Time-domain and non-linear parameters, including diagonals of Poincaré plot, are very similar, as can be seen in Table 3
                        . In frequency-domain parameters, we compared power (%) in the different bands and results are also similar. The most different parameter is LF/HF ratio: in gHRV this is estimated as the mean of LF/HF ratios for the different intervals, while it seems that Kubios-HRV gives the ratio of the total power of both bands. Using this procedure, we would have obtained 2.52 in gHRV.

One basic requirement for gHRV was its ease of use for medical or general users that are non specially skilled at computers, although familiar with HRV analysis. To assess this aspect, we designed a usability test by selecting a group of researchers who had never used the application, providing them a link to download it and, after 2 weeks, asking them to complete a usability test.

In this test, a total of 22 researchers from several countries (Spain, Portugal, Italy, Sweden, EEEE, China and UK) participated, and none of them notified problems for installing and using gHRV. After the 2 weeks trial period they were asked to fill an on-line test consisting of 9 questions (included in Table 4
                        ), with possible scores ranging from 1 (strong disagreement) to 5 (strong agreement).

The test was elaborated taking into account references on user interface evaluation [50,51], or the methods described in the excellent web site called “User Interface Usability Evaluation with Web-Based Questionnaires” maintained by G. Perlman [52]. Finally we opted for one of the tests mentioned in [52]: the one proposed by Lewis [53] called CSUQ (Computer System Usability Questionnaire). Out of the 19 questions proposed in the CSUQ, we discarded the ones we thought worst suited to the kind of software under evaluation.

The questionnaire was completed by ten volunteers, and the results of this test are shown in Fig. 7
                        . Since the system is easy to use, the best score was obtained in the first question (median=4.5), with only one score of 2 in the valuation. The overall satisfaction (question nine) was also good (median=4), also with a single score of 2. In questions four and eight the lowest scores were obtained (median=3 and 3.5). Question four is about the clarity of the error messages so we took note of this opinion to improve this aspect in future versions. In question eight the volunteers were asked if the tool covers all the expected functionality. One user was clearly disappointed (1), another pretty disappointed (2) and three more dissatisfied (3). However, for another five users the tool offers enough functionality (4–5).

The form allowed users to write comments. Some took the opportunity to congratulate the usefulness of the tool, but others also to make recommendations for improvements. For example they mentioned the possibility of including an Undo functionality in the filtering tool, including a progress bar for computationally intensive tasks, adding more input formats or improving the zoom function. Some of these suggestions were included in the last stable version of gHRV (1.5 as we write these lines) while the rest of them will be taken into account for future versions of the application.

Generally speaking, the application was positively valued (the average of all ratings was 3.8 and 70% of responses was 4 or 5) but there is still room for improvement.

@&#CONCLUSIONS@&#

In recent years, the number of tools capable of performing heart rate variability analysis has increased substantially, as it has been mentioned earlier in this paper. However, we believe that until now none of them combined the following features:
                        
                           •
                           Free open-source software.

Binaries available for Windows, GNU Linux and Apple OS X platforms.

Capable of reading annotated ECG records and instantaneous heart rate files.

Automatic and manual filtering of the instantaneous heart rate signal.

HRV analysis in the time and frequency domains and non-linear analysis.

Automatic HRV analysis in different intervals or episodes.

Fully visual interface, requiring no programming skills.

Creation of reports and capability of exporting them, results, data and plots.

Therefore we believe that gHRV could be useful for all researchers and clinicians who wish to develop HRV analysis without the need to become programmers. The sample run included in Section 4.1 of this paper is itself a quick user guide, complementary to the user manual available on the gHRV web site.

gHRV is a suitable complement to other tool developed in our group: RHRV [37], a toolbox of the very well known statistical environment R, useful to researchers with certain programming skills.

Researchers who have tried gHRV expressed a high level of satisfaction. The most remarked point is its ease of use and its intuitive nature, but they also pointed out some weaknesses and areas for improvement, such as (a) improve the information and recovery possibility in case of errors, (b) implement “undo” for interpolation or signal edition, (c) improve the interactive features in plots or (d) include new algorithms or file formats. Some of the volunteers’ suggestions have already been implemented in the current version, such us an improved zoom mode for the plots, exportation of Heart Rate signals to text files in various formats, configuration of axis limits in Poincaré plots or possibility of renaming episodes tags. Other suggested features will be introduced in upcoming versions.

@&#ACKNOWLEDGEMENTS@&#

We would like to acknowledge the researchers that kindly collaborated in the evaluation of this software tool and gave us feedback for improving it.

@&#REFERENCES@&#

