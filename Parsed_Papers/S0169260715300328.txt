@&#MAIN-TITLE@&#A seamless ubiquitous emergency medical service for crisis situations

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           In emergency and crisis situations, many communication channels can be unserviceable because of damage to equipment or loss of power. Thus, data transmission over wireless communication to achieve uninterrupted network services is a major obstacle.


                        
                        
                           
                           The proposed middleware can sense its operating environment and optimize the spectrum usage to integrate the existing heterogeneous wireless communication systems.


                        
                        
                           
                           The proposed middleware was ported into an embedded system, which is compatible with the actual network environment without the need for changing the original system architecture.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Emergency medical service (EMS)

Cognitive radio

Mobile middleware

Seamless communication

Stream control transmission protocol (SCTP)

Embedded system

@&#ABSTRACT@&#


               
               
                  In crisis situations, a seamless ubiquitous communication is necessary to provide emergency medical service to save people's lives. An excellent prehospital emergency medicine provides immediate medical care to increase the survival rate of patients. On their way to the hospital, ambulance personnel must transmit real-time and uninterrupted patient information to the hospital to apprise the physician of the situation and provide options to the ambulance personnel. In emergency and crisis situations, many communication channels can be unserviceable because of damage to equipment or loss of power. Thus, data transmission over wireless communication to achieve uninterrupted network services is a major obstacle. This study proposes a mobile middleware for cognitive radio (CR) for improving the wireless communication link. CRs can sense their operating environment and optimize the spectrum usage so that the mobile middleware can integrate the existing wireless communication systems with a seamless communication service in heterogeneous network environments. Eventually, the proposed seamless mobile communication middleware was ported into an embedded system, which is compatible with the actual network environment without the need for changing the original system architecture.
               
            

@&#INTRODUCTION@&#

In crisis situations such as earthquakes, tsunamis, fires, floods, and terrorist attacks, many people become injured and need urgent medical attention. At this time, many communication channels can be unserviceable because of damage to equipment or loss of power (Fig. 1
                     ). Thus, the vital data of a patient in an ambulance may not be transmitted to the hospital smoothly, continuously, and seamlessly before arrival. To manage patients in the prehospital time (golden hour) and increase their survival rate, prehospital emergency medical service (EMS) is crucial.

Before a patient is transported to the hospital in an ambulance, transferring all critical parameters of the patient to the hospital in real-time, including video and still-images of the scene, is indispensable. Thus, the involved physician can determine the state of the patient in advance and advise the EMS personnel [1]. Sending real-time information to the hospital, in addition to determining the state of the illness, can facilitate preparing medical apparatuses and the operating room in advance. If heart stop occurs more than 3min, or respiration stop occurs more than 10min, or massive bleeding occurs more than 30min, the death rate may more than 50% [2]. Managing patients in the golden hour can increase their survival rate. To achieve this goal, the main challenge is stable and uninterrupted communication between the hospital and a moving ambulance.

In recent years, numerous studies have proposed middleware for EMS. In [3], a new concept of mobile middleware (MM) was proposed. The primary feature of MM is to provide services that can be transmitted over a mobile network to a moving client. In addition, adding a new functionality to MM is simple. Arunachalan et al. demonstrated an agent-based mobile middleware architecture designed for reliable medical data transmission over a cellular network [4]. These studies have focused on integrating wireless communication with EMS while ignoring the quality factor of wireless communication such as seamless communication.

Wireless communication has undergone a tremendous change in the past dozens of years. Widespread free Wi-Fi hotspots are a breakthrough for prehospital EMS because they enhance the mobility of communication and the feasibility of real-time features. Nevertheless, the stringent requirements and real-time requirements of medical applications introduce the need for quality of service (QoS) provisioned in wireless medical networks [5]. In addition, because many wireless network services currently exist, another crucial concern for real-time communication of EMS involves selecting an optimal wireless channel in ambulances and maintaining a reliable transmission [6]. To select a proper transmission path with multiple wireless links between an ambulance and the hospital, a new architecture of wireless communication based on the concept of cognitive radios (CRs) has been proposed [7–9]. Although these studies have focused on selecting an optimal transmission path by using CR techniques [10], maintaining high QoS by using one optimal transmission path in a moving ambulance is difficult because the coverage of a wireless network is limited and the ambulance may move into different wireless network service areas. Therefore, it is essential to switch the wireless network according to the available wireless network services and maintain continuous communication during a network switch.

To overcome the aforementioned problems, we propose a novel MM based on CR techniques for prehospital EMS, which can select an optimal transmission path with multiple wireless links also in addition to supporting a reliable transmission to avoid losing data during a network switch.

@&#METHODS@&#

In mobile communication, “seamless” refers to uninterrupted switching between access networks, a process hardly noticed by a user [11]. Therefore, the challenge of seamless communication is to choose an acceptable network link for the selected service according to quality, cost, and accessibility.

In the sophisticated seamless communication concept described in [11], the decision algorithm plays a crucial role in reducing the handoff delay for mobile medical services. For seamless communication, the idea of CR, which can sense the operating environment and optimize the spectrum usage, was proposed in 1999 [12]. There are three tasks in a cognitive cycle. The first is radio-scene analysis, which senses the respective environment conditions and probes different configurations. The second is channel identification, which estimates the channel state information and predicts the performance capabilities of configurations. The third is radio configuration selection, by which the transmitter sends the signal.

A cognitive engine is an intelligent core that manages the cognition tasks in a CR. An adaptive reasoning and learning framework (ARALF) was used as a cognitive engine [13]. The ARALF is different from the common cognitive engine because it receives not only the data on its surroundings, including signal strength, link quality, and location, but also the information of user preference. Therefore, the ARALF can adjust the radio parameters according to the user preference, including user's favorite and experience. In addition, this framework integrates adaptivity with mobility seamlessly so that CR users will be less affected by jitters caused by environmental changes.

To integrate the ARALF into our middleware, we designed ARALF Lite, which is a simplified version of the ARALF. The main feature of ARALF Lite is that it collects the information through 3G and Wi-Fi universal serial bus (USB) wireless network adapters, including signal strength and link quality. Thus, ARALF Lite adjusts the parameters of a wireless network connection and applies the optimal solution to the proposed middleware.

The proposed middleware, we modified the transport layer and network layer protocols to provide a seamless communication service.

The Internet engineering task force has developed a transport layer protocol, called the stream control transmission protocol (SCTP), RFC2960, and RFC4960 [14]. It is a newer protocol than the transmission control protocol (TCP) and user datagram protocol (UDP). Similar to the TCP, the SCTP is a reliable transport layer protocol for the ordered delivery of data, and SCTP packets could be routed in any standard router. In addition, similar to the UDP, the SCTP overcomes the limitations of the TCP by operating in a message-oriented protocol like UDP; for example, the TCP requirement for a strict order of transmission that can cause head-of-line blocking.

The feature of multihoming in SCTP plays a vital role in seamless communication; therefore, we used this concept to switch networks among different types of wireless networks. As specified in RFC 4960, within an association, one path is considered a primary path and the others are considered backup paths. This means that one of the Internet protocol (IP) addresses (IPv4 or IPv6) assigned to receive data is selected to be the primary address. In our system, we used ARALF Lite to select the optimal connecting path in a heterogeneous network environment. ARALF Lite can save time to search the next appropriate communication channel and increase the accuracy of selecting the ideal connecting node.

For achieving seamless communication for mobile medical services, the proposed system comprises an 802.11 a/b/g-based wireless network, 3G network, and middleware for communication between the SCTP client and SCTP server (Fig. 2
                        ). Under this proposed architecture, further new wireless communication network (e.g. 4G network) can also be added into the system to enhance the robustness of seamless communication between heterogeneous environments.

Most information systems in Taiwanese hospitals use TCP-based communication (IPv4). However, the TCP binds each endpoint to a single interface. Therefore, implementing the TCP for a communication protocol is not appropriate under the conditions of switching connectivity between two wireless networks because the TCP connection bound to the interface is aborted and a new connection is established. Furthermore, the UDP is a more flexible handoff mechanism than the TCP. However, it lacks a built-in reliability mechanism and thus cannot guarantee that the sent data reach the receiver. Therefore, we used the SCTP for multihoming to overcome the existing one-to-one connection challenge.

By using the SCTP packets to carry the TCP/UDP packets, the proposed middleware is compatible with existing systems in hospitals. Fig. 3
                         shows the process of our seamless communication. First, before a user sends data to the information system in the hospital, an SCTP connection between the SCTP client and the SCTP server must be established. Second, when the SCTP client receives data from the user's mobile device through the TCP/UDP connection, the TCP/UDP packets are packed into the SCTP packets, which are sent to the SCTP server. Finally, the SCTP sever unpacks the received SCTP packets into TCP/UDP packets, which are sent to the information system in the hospital. Similarly, packets to be sent in the reverse direction (from the information system to the user's mobile device) are packed by the SCTP server and unpacked by the SCTP client. We propose the format of self-defined SCTP packets for assembling TCP/UDP packets into SCTP packets. The packet translation mechanism is designed to cut the original TCP/UDP packet into a fixed size of 800 bytes per packet [15]. This mechanism of packet translation enables supporting multiple paths in a connection and solving the firewall problem. In other words, the mechanism can prevent the firewall of the hospital information system from treating the SCTP packets as unrecognized packets and consequently dropping them.

In addition, existing operating systems lack built-in SCTP compatible kits, and the installation of the kits by users is complicated. Therefore, we ported the Linux operating system (Ubuntu 12.04) [16] with the SCTP library into an embedded system serving as an SCTP client, which can be easily integrated with current wireless network standards. A detailed description of the middleware system is presented in next subsection.

The strategy of our seamless switching mechanism consists of three phases. The first phase involves creating an SCTP connection to support a multiple-path transmission between the information system and a mobile terminal and obtaining information about accessible network interfaces. Next, we used ARALF Lite to regulate the radio parameters according to environmental changes and user preference, and then chose the optimal connecting path. After choosing the most favorable connecting path as the primary path for an SCTP connection by using ARALF Lite, we began switching to this connecting path by modifying the routing table in the operating system kernel [16]. In addition, we set the selected path as the primary path and the previous primary path as the backup path in the third phase. We repeated the second and third phases after a new switching signal generated by ARALF Lite was received.

Heterogeneous wireless networks have features that are vital to our system. First, the areas of wireless network services are overlapped. This overlapping feature can be used to reduce connection interruption by connecting to distinct subnets of the same wireless network technology or to different wireless networks at the boundary of each wireless network. Therefore, a 3G network acts as a bridge between the Wi-Fi coverage gap in our measurements of system performance. Second, these two types of wireless networks support different data rates. Wi-Fi can support a higher data rate than a 3G network can. Therefore, a high priority of handoff for our measurement is switching to Wi-Fi.
                     

The proposed middleware can be divided into two parts: an SCTP server and SCTP client (Fig. 2). First, the SCTP server, running on a Linux-based operating system, Ubuntu version 12.04, is set up in the hospital. The SCTP client is requested to be portable and small in size because it must be connected to the mobile terminal on move. Thus, we designed the SCTP client with an embedded system. The target board of the SCTP client is BeagleBoard-xM (BeagleBoard.org, USA) [17] and is equipped with on-board Ethernet port and a USB, so that the target board can be connected to a user's mobile device with an RJ-45 cable, thereby offering various wireless network connections with different USB wireless network adapters, as shown in Fig. 5
                        . In this study, the 3G USB dongle (D-Link DWM-156, D-Link Corporation, Taiwan) and Wi-Fi USB dongle (Buffalo WLI-UC-GNM, Buffalo Corporation, Taiwan) were plugged in the BeagleBoard-xM. The volume of the SCTP client box is 163mm×125mm×60mm, and a utility time of up to 4.5h was obtained using a USB 9000-mAh rechargeable battery.

The Ubuntu operating system supports most of the hardware used with desktop computers, but does not support certain hardware used with embedded systems. Therefore, porting the source code of Ubuntu was necessary, which was accomplished by revising several related parameters to render Ubuntu compatible with the target board.

@&#EXPERIMENTAL RESULTS@&#

This section presents the experimental results of our proposed seamless communication middleware in walking and moving scenarios. In these two scenarios, we tested the proposed middleware by transferring medical information including electrocardiography (ECG), saturation of peripheral oxygen (SpO2), and real-time video. ECG information comprises records from the MIT-BIH database [18], and SpO2 information contains records from the MIMIC II database [19]. Moreover, we used WebRTC with a pixel resolution of 640×360 and 30frames/s for browser-based real-time communication. WebRTC (API definition) enables a browser-to-browser connection and is simple to integrate with our medical service [20]. The graphical user interface of medical service is shown in Fig. 4. The content of this Web site is programmed using PHP, and the web page is refreshed every 0.2s to obtain subsequent information. Moreover, we simulated how data in the ambulance are sent to a hospital information system in life simulation, including walking and moving scenarios; the experimental route is from National Taiwan University to Cathay General Hospital, which is illustrated in Fig. 6
                     . In this moving scenario, we compared our proposed middleware between a Wi-Fi user and 3G network user. In the first round, our proposed middleware can use high bandwidth services through Wi-Fi and a 3G network to maintain a continuous network service between the Wi-Fi coverage gaps. In the second round, the user can use only Wi-Fi services. Although Wi-Fi can provide high bandwidth services, the wireless connection is interrupted in the coverage gaps because of the limited Wi-Fi coverage. In the third round, the user can use only a 3G network, which improves the mentioned disconnect problem caused by limited coverage. However, the speed is lower than that of Wi-Fi. Our measurements can be divided into two scenarios, and each of which consists of three rounds of using only our proposed middleware, only Wi-Fi, and only 3G. Four materials—only real-time video, only SpO2, only ECG, and the sum of real-time video, SpO2 and ECG—were sent individually to a server, and the average transmitted data rate was recorded every 10s in each round.

The first scenario entailed maintaining a walking speed of 6km/h; the experimental results for transmitting all data (real-time video, SpO2, and ECG) are shown in Fig. 7
                     (a). The second scenario involved driving at an average speed of 40km/h; the experimental results for transmitting all data (real-time video, SpO2, and ECG) are shown in Fig. 7(b).

To prove the proposed system robust, we repeated the same experiments in different location, and mobile operators. The experimental routes are from National Taiwan University to National Taiwan University Hospital and Chang Gung Hospital, which is illustrated in Fig. 8
                     (a) and (b); the results show the similar properties to Fig. 7(a) and (b).

@&#DISCUSSION@&#

In this section, we compare our research on handoffs in wireless networks with that of previous studies. In [21], a Mobile-IP method with mobile clients was implemented for handoff, and the handoff latency was approximately 760ms because a delay incurred during Mobile-IP registration and access point reassociation. These two factors that cause a long delay exist in a real wireless network environment. Our proposed design overcomes these challenges through implementing seamless communication with the proposed middleware to control the access point association and provide a handoff mechanism. In addition, in [22] and [23], a seamless integration of 3G and 802.11 wireless networks has been proposed. In [22], a proxy gateway was used as the bridge between the core and access networks, and the handoff latency was approximately 200ms. In [23], a routing protocol was used, and the handoff latency was 20–270ms. In seamless communication, the handoff latency is close to the ideal handoff. However, Cao et al.’s study has not conducted experiments involving a moving situation. A comparison of our study with [22] and [23] is presented in Table 1
                     . Studies [22] and [23] have more handoff latency than ours; the hand off delay to a doctor may cause non-real-time display of medical information. Table 1 shows our proposed system more ascendant than other two studies. However, the proposed system still has some disadvantages, such as the Wi-Fi and 3G devices have to be active at the same time. The power consumption is greater than only alternative of Wi-Fi device and 3G devices; however the system has lower handoff latency.

We present the results of the handoff test and practical measurements performed in Taipei City, Taiwan. The proposed middleware provided a fast handoff with a low overhead. In addition, multihoming wireless networks increased the reliability of mobile communication and reduced the cost of network resources in our measurements. Thus, we conclude that our mobile CR middleware can achieve seamless communication and improve the current mobile communication quality of EMS in Taipei City, Taiwan. However, in a worst disaster conditions the whole terrestrial network may be down, or the ambulance needed to pass through non-terrestrial network available areas. In such cases, satellite link capable system may be a best choice. If the satellite link equipment provides standard network interface and standard TCP/IP packets, the satellite channel could be easy to add into our proposed system. In the future, if any other new wireless communication equipment could provide standard network interface and standard TCP/IP packets, these equipment may join our proposed system to reduce the risk of network disconnection.

3G and Wi-Fi locate at industrial, scientific and medical (ISM) radio bands, and are used in hospitals. Hence, we infer that the radiation of our proposed system may not affect any medical equipment in an ambulance. Similarly, the wireless communication equipment banned near medical equipment could not be used in our system.

In our study, a free and individual Wi-Fi account in Taipei City was applied for experiments. In data security, this free Wi-Fi may not be safe so that the privacy of patients may be intercepted. In the future, the packets of SCTP in this proposed system can be added with encryption to improve the security.

@&#CONCLUSION@&#

In this study, we propose a mobile CR middleware for EMS for crisis situations. We present the architecture and protocols of seamless communication over heterogeneous wireless networks for improving the mobile communication quality in Taipei City, Taiwan. The crucial challenge for mobile medical services in Taipei City is to select an adequate network link to maintain a continuous wireless connection. Therefore, we used widespread free Wi-Fi services in Taipei City and a 3G network as a bridge between the Wi-Fi coverage gaps. Our approach, integrated with CR techniques, can select an optimal transmission path with multiple wireless links and support a reliable transmission to avoid losing data during a network switch.

We demonstrated the performance of our middleware through practical experiments. Our design achieved seamless communication, enabling mobile clients in Taipei City to acquire wireless network resources without any interruption. In the future, our proposed system could provide a seamless ubiquitous EMS if a crisis occurs in Taipei City.

@&#ACKNOWLEDGMENTS@&#

This research was partly supported by the Ministry of Science and Technology of Taiwan, under grants MOST 103-2218-E-305-001, MOST 103-2218-E-305-003, and MOST 104-2221-E-305-006.

@&#REFERENCES@&#

