@&#MAIN-TITLE@&#Automatically generating assembly tolerance types with an ontology-based approach

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           Automatic generation of recommended assembly tolerance types is implemented.


                        
                        
                           
                           The proposed approach can further reduce the number of recommended assembly tolerance types.


                        
                        
                           
                           The approach is relatively complete and highly efficient and supports the semantic interoperability.


                        
                        
                           
                           The approach can enhance the clarity, uniformity and consistency in the design of assembly tolerance types.


                        
                        
                           
                           Ontology-based technique is a useful technique to model and reason structure and constraint knowledge.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Assembly tolerance representation

Assembly tolerance types

Automatic generation

Ontology

OWL

SWRL

@&#ABSTRACT@&#


               
               
                  In most cases, designers have to manually specify both assembly tolerance types and values when they design a mechanical product. Different designers will possibly specify different assembly tolerance types and values for the same nominal geometry. Furthermore, assembly tolerance specification design of a complex product is a highly collaborative process, in which semantic interoperability issues significantly arise. These situations will cause the uncertainty in assembly tolerance specification design and finally affect the quality of the product. In order to reduce the uncertainty and to support the semantic interoperability in assembly tolerance specification design, an ontology-based approach for automatically generating assembly tolerance types is proposed. First of all, an extended assembly tolerance representation model is constructed by introducing a spatial relation layer. The constructed model is hierarchically organized and consists of part layer, assembly feature surface layer, and spatial relation layer. All these layers are defined with Web Ontology Language (OWL) assertions. Next, a meta-ontology for assembly tolerance representations is constructed. With this meta-ontology, the domain-specific assembly tolerance representation knowledge can be derived by reusing or inheriting the classes or properties. Based on this, assembly tolerance representation knowledge is formalized using OWL. As a result, assembly tolerance representation knowledge has well-defined semantics due to the logic-based semantics of OWL, making it possible to automatically detect inconsistencies of assembly tolerance representation knowledge bases. The mapping relations between spatial relations and assembly tolerance types are represented in Semantic Web Rule Language (SWRL). Furthermore, actual generation processes of assembly tolerance types are carried out using Java Expert System Shell (JESS) by mapping OWL-based structure knowledge and SWRL-based constraint knowledge into JESS facts and JESS rules, respectively. Based on this, an approach for automatically generating assembly tolerance types is proposed. Finally, the effectiveness of the proposed approach is demonstrated by a practical example.
               
            

@&#INTRODUCTION@&#

Product design involves the assembling of parts or components, in which assembly tolerance specifications not only affect the ability of assembling and the quality of product, but also the manufacturing cost and service life of product. So designers need to seriously consider how to specify reasonable assembly tolerance specifications in product design. Specifying assembly tolerance specifications is the activity of specifying both assembly tolerance types and values. Assembly tolerance specifications are preferably carried out conformance with the tolerancing standards (e.g. ISO 1101  [1], ASME Y14.5M  [2]). These standards, therefore, do not provide a practical approach to specify assembly tolerance types and values  [3]. In a computer aided design system, how to implement automatic generation of assembly tolerance types and values has become an urgent problem  [4]: 
                        
                           •
                           In practice, assembly tolerance specifications are specified by designers either in design drawings or in CAD systems. In this situation, assembly tolerance specifications are largely depend on the judgment and experience regarding factors like functional requirements, selected materials and manufacturing processes. Different designers will possibly specify different assembly tolerance specifications for the same nominal geometry. When we design a simple product, the influences under this situation are not so great. But when we design a complex product, this will greatly increase the uncertainty in assembly tolerance specification design and significantly affect the quality of the product.

The process of assembly tolerance specification design of a complex product is a complex and highly collaborative process. Designers have to synthetically consider geometrical features, functional requirements, tolerance types, tolerance values, and tolerance principles. This process often involves different designers at distributed sites with heterogeneous CAD systems. Interoperability issues arise in such a collaborative process because: (1) There is a need for sharing the semantics of tolerance information among designers who do not necessarily share the same definition of terminologies, the same meaning of tolerance information, or the same background and perspective about an assembly tolerance specification design. (2) Disparate CAD systems and heterogeneous data sources with proprietary information representation schemas coexist. (3) Fundamentally different representation approaches and data formats are used in data interchange processes. So there is a critical requirement for process and information interoperability in assembly tolerance specification design.

Automatic generation of assembly tolerance specifications is still not completely realized in current commercial computer-aided tolerancing (CAT) systems. In CETOL 6 Sigma™, eM-TolMate™, VSA-GDT™, VSA.3D™, or 3DCS™, both assembly tolerance types and values are manually specified by designers. In CATIA.3D FDT™, recommended assembly tolerance types can be automatically generated, while assembly tolerance values are manually specified by designers. However, some assembly tolerance types without sense for technologically and topologically related surfaces (TTRS) cannot be generated in the system. Compared with the techniques in CAD and CAM, the techniques in CAT are lagged far behind. This situation will limit the development of the integration of CAD, CAM, and CAT.

In order to address the issues above, a systematic approach which supports semantic interoperability is required to automate the design of assembly tolerance types and values. The focus of this paper is to realize tolerance information interoperability and automatic generation of assembly tolerance types in assembly tolerance specification design with an ontology-based approach. Ontology  [5], which is defined as conceptualization of terms and relations in an application domain, provides a means to structurally represent and reuse application domain knowledge. Ontology-based approach for knowledge representation and reasoning offers a means for knowledge interoperability  [5]. With an ontology-based approach, assembly tolerance information is formalized in OWL  [6,7], an ontology representation language developed by World Wide Web Consortium (W3C), and the rules for generating assembly tolerance types are defined in SWRL  [8], a rule language based on OWL. Through transforming the knowledge of assembly tolerance information into JESS facts, and the rules for generating assembly tolerance types into JESS rules, the actual generation processes are carried out with the support of JESS  [9], a rule engine for the Java platform. Although so far ontology has not been applied to the domain of automatic generation of tolerance types, it has been applied to other designing and manufacturing domains due to its advantages in the aspects of information sharing, applications integrating, interoperability implementing, and knowledge reusing. An overview of related works in tolerance representation, automatic generation of tolerance types, and ontology for designing and manufacturing domains is provided in Section  2.

The rest of the paper is organized as follows. Section  3 constructs an extended assembly tolerance representation model with OWL assertions. Section  4 constructs a meta-ontology for assembly tolerance representations and proposes the OWL/SWRL representations of assembly tolerances. An approach for automatically generating assembly tolerance types based on the constructed model and OWL/SWRL representations is proposed in Section  5. The effectiveness of the proposed approach is demonstrated by a practical example in Section  6. Finally, discussions are carried out and conclusions are drawn in Sections  7 and 8, respectively.

@&#RELATED WORKS@&#

During recent years, a large number of works have been devoted to the research of tolerance representation and automatic generation of tolerance types. Meanwhile, ontology has been applied to model design-related knowledge to facilitate knowledge reuse and information sharing among different applications. The main research works in tolerance representation, automatic generation of tolerance types, and ontology for designing and manufacturing domains are summarized below.

Tolerance representation is mainly concerned with the following two problems  [10,11]. One is to organize and represent tolerance information in a relative independent way, and meanwhile, reflect the semantic distinctions of different types of tolerances. The other is to design a data structure and take it as carrier of storage and representation of tolerance information in computers. To well solve these problems, lots of tolerance representation models have been carried out. These representation models can be classified into the following categories: 
                           
                              •
                              Surface and graph models. In these models, tolerance information is represented by surfaces and graphs, where fundamental structure is solid structure or feature structure, nodes are features, planes, edges, and vertices, and attributes of nodes are tolerances and reference datums. Typical examples of these models are CSG model  [12], B_rep model  [13], CSG/B_rep model  [14], tolerance network model  [15], T-Maps model  [16], and graph-based model  [17].

Variational geometry models. In these models, tolerance information is represented by the variations of nominal geometry. Each feature surface or geometrical feature of the real part is associated with a perfect shape feature. The variations between substituted geometrical features can be represented by vectors  [18], small displacement torsors  [19,20], matrices  [21–23], metric tensors  [24], virtual gauges  [25], and constraints  [26].

Tolerance zone models. In these models, all nominal surfaces are given a pair of offset surfaces to determine the tolerance zones. These models differ from the tolerancing standards, because the individual pairs of offset surfaces are combined to obtain a composite tolerance zone of the entire solid, and the individual tolerances cease to be independent constraints. A typical example of these models is solids offset model  [27,28].

Structural models. In Geometrical Dimensioning and Tolerancing (GD&T), the most widely used structural model is the TTRS model  [29,30]. A TTRS consists of surfaces contacting with each other for functional reasons in the same entity. Based on this, tolerance types and reference features are able to be determined semi-automatically. These features are called Minimum Geometric Datum Elements (MGDEs), which are the minimum set of reference points, reference lines, and reference surfaces. In the past few decades TTRS has been developed and applied to the field of tolerance representation. A TTRS model first extracts the features from CAD systems, then organizes the surfaces of a part to construct its binary tree, and then constructs the MGDEs of its TTRSs. Based on the MGDEs and their interrelations, tolerance types can be determined and tolerance information can be added to the MGDEs.

Constraint models. In the model proposed in  [31–33], tolerance information is represented by a finite set of geometric constraints. 3D dimension-chain computation exists in Minkowski sums and intersection operations.

Mathematical definition models. In these models, tolerance information is modeled by mathematical methods. The most widely used mathematical definition model is statistical distribution model  [34]. In this model, dimensional and geometrical tolerances are not modeled separately. Statistical moments are estimated with linear or nonlinear tolerance stack-up. While the root-sum-square approach yields optimistic estimations, alternatives were proposed to perform adjustment and correction for shifts and drifts.

Other models. Some distinctive techniques have been adopted to construct tolerance representation models. XML  [35], generalized intervals  [36,37], and Fuzzy logic  [38] are the typical examples of these techniques.

In all of the tolerance representation models above, only three models are implemented in current commercial CAT systems  [39]. They include TTRS model which is implemented in CATIA.3D FDT™, parametric tolerance zone model which is implemented in CETOL 6 Sigma™, and statistical distribution model which is implemented in eM-TolMate™, VSA-GDT™, VSA.3D™, and 3DCS™. As mentioned in the introduction, only CATIA.3D FDT™ can automatically generate recommended tolerance types. So there still a need to further study new models to better implement automatic generation of tolerance types.

With the development of computer technology and the computerization of tolerance design, tolerance design automation is paid more and more attention. Lots of approaches have been devoted to implementing the automatic generation of tolerance types. These approaches have made certain contributions to the development of tolerance specification design  [40]. However, there are still some problems in them. Based on their existing problems, these approaches can be classified into the following three categories:
                           
                              •
                              The whole process of generation of tolerance types is semi-automatic but not fully automatic. A representative example for this category is the FROOM system  [41,42]. The system uses the TTRS theory and has the same functions and drawbacks as CATIA.3D FDT™. Other representative approaches are a GD&T global approach  [43], a tolerancing hyper-graph approach  [44], an approach by Anselmetti  [20], and polychromatic sets based approach  [45]. The GD&T global approach  [43] is proposed to support the generation of tolerance specifications, but it does not achieve complete self-verification. The tolerancing hyper-graph approach  [44] is able to determine the tolerance types based on feature surfaces, but it cannot be automatically established in computers. Anselmetti’s approach  [20] uses the knowledge of the assembly process acquired through the positioning tables to implement the generation of tolerance types. But for complex positioning surfaces, geometrical specifications cannot be automatically generated. In polychromatic sets based approach  [45], assembly tolerance specifications and tolerance zone types can be generated. However, the whole process is not fully automatic, and the number of recommended assembly tolerance types generated in the approach is somewhat large.

The approach to automatically generate tolerance types still needs to be further improved. A typical approach for this category is the generalized approach presented by Chase et al.  [46]. This approach is proposed to describe geometric tolerances in assembly tolerance models based on vector loops, and included such geometric tolerances in the estimation of variations for 2D or 3D assemblies. However, how to apply the approach to an assembly still needs to be further studied. Other representative approaches are presented by Mejbri et al.  [47], a T-Maps approach  [16], and presented by Anselmetti et al.  [48]. The approach by Mejbri et al.  [47] is able to identify and specify tolerances on influential parts, which provides designers with an efficient tool for ensuring the functional tolerancing of the entire assembly. For complex assemblies, the rules in automatic generation of tolerance types still need to be complemented. The T-Maps approach  [16] can handle the ranges of tolerance zones, but it can only generate form tolerances and orientation ones. In the approach by Anselmetti et al.  [48], the tolerance types of a single part can be generated by means of both the positioning tables and the links between contact surfaces. But the tolerance types in assembly cannot be generated by this approach.

Some steps in the process of generation of tolerance types are extremely complicated. This situation can be seen in the graph-based approach  [15] and variational geometric constraint networks based approach  [49]. The graph-based approach  [15] is able to generate tolerance types across a part or assembly. However, if an assembly consists of numerous parts, the construction of its graph-based tolerance network is extremely complicated. The variational geometric constraint networks based approach  [49] is able to generate well constrained tolerance types. But this approach requires a large number of rules, which increase the difficulty of building geometric constraint networks for complex assemblies.

As can be seen from the review above, the research in automatic generation of tolerance types has been paid much attention over the past decades. Lots of academic papers have been published in this area. However, any approach is able to address the three problems above simultaneously. How to automatically generate tolerance types in CAD systems has still not been fully addressed. More new approaches for automatically generating tolerance types require to be studied.

As an explicit specification of conceptualization, ontology plays a significant role in the aspects of information sharing, applications integrating, interoperability implementing, and knowledge reusing. Although research on ontology has its root in the field of computer science, ontology has been applied to many other fields due to its advantages. Naturally, ontology can be applied to the field of designing and manufacturing. In fact, some related works have been attempted to employ ontology-based approaches to designing and manufacturing domains.

To ensure the cohesion and traceability of the product data, Sudarsan et al.  [50] designed a product information modeling framework for product lifecycle management with an ontology-based approach. The framework includes product ontology and interoperability standards. With the product ontology, product information can be accessed, stored, served, and reused throughout the entire product lifecycle. Cho et al.  [51] realized that seamless integration of digital parts libraries or electronic parts catalogs for e-procurement is impeded by semantic heterogeneity. They constructed some meta-ontologies for part libraries and solve the mismatch problems among these meta-ontologies to provide an integrated view of multiple parts libraries. The meta-ontologies have explicit semantics, so that they help to identify domain concepts consistently and structure them systematically. Kim et al.  [52] constructed an assembly design ontology and an ontology-based assembly design framework to implement collaborative product development. In this framework, design intent can be well understood among different designers, and applications can reason about assembly knowledge without any semantic ambiguity. With the aim of enabling highly efficient and effective development of product configuration systems by reusing configuration knowledge, Yang et al.  [53,54] proposed an ontology-based approach to model product configuration knowledge. In this approach, ontology-based product configuration models are formalized in OWL, and the product configuration constraints are represented in SWRL. By mapping OWL-based configuration facts and SWRL-based configuration constraints into JESS facts and JESS rules, respectively, actual configuration processes are carried out using JESS. To enable semantic interoperability and reasoning over the product information model, Zhao and Liu  [55,56] proposed an OWL/SWRL representation methodology for EXPRESS-driven product information model. Through mapping EXPRESS to OWL/SWRL in product information representation, an integrated framework for knowledge-based product information model in OWL/SWRL is constructed. By mapping OWL-based or SWRL-based representations into JESS representations, product information querying is realized using JESS. To enrich product model data, Barbau et al.  [57] proposed an approach to enable the translation of STEP schema and its instances to OWL. By defining some rules for the translation from EXPRESS to OWL, an OntoSTEP model, which can easily be integrated with any OWL ontologies to create a semantically rich model, is constructed.

As mentioned in Section  2, one of the most widely used tolerance representation model is the TTRS model  [29,30]. The model is adopted by Dassault Systèmes and realized in CATIA.3D FDT™. But it mainly considers the topological surface connections and does not consider the technological surface connections  [58]. Aiming at this problem, Liu et al.  [59] proposed a feature-based hierarchical model. The model not only considers the topological surface connections, but also considers the technological surface connections. However, the number of feature types to be processed is somewhat limited  [58]. Aiming at this problem, Zhang et al.  [45] increased the number of feature types from seven to eleven and adopted polychromatic sets to build a hierarchical representation model. But for the same feature surfaces, the number of recommended assembly tolerance types generated by the model is somewhat large. Aiming at this problem, we introduce a spatial relation layer into the polychromatic sets based model  [45], and use OWL/SWRL to construct an extended assembly tolerance representation model. Through the mapping between assembly tolerance types and spatial relations of geometrical features of assembly feature surfaces, the number of recommended assembly tolerance types can be further reduced. As shown in Fig. 1
                     , the extended assembly tolerance representation model consists of three layers: part layer, assembly feature surface layer, and spatial relation layer.

Part layer is the first layer of the extended model. Its main functions are to extract the assembly constraint relations between parts, to construct an ABox 
                           
                              
                                 A
                              
                              
                                 P
                                 L
                              
                           
                         by gathering all OWL class assertions which represent instances of parts and OWL property assertions which represent assembly constraint relations between parts, and to lay foundation for the construction of assembly feature surface layer.

An assembly can be regarded as a finite set of parts which have assembly constraint relations with each other. Let Part be an OWL class which denotes a part of assembly. Let has-AssemblyRelation be an OWL object property which denotes an assembly constraint relation between two parts of assembly. Parts and assembly constraint relations between parts in part layer can be formally defined as follows. 
                           Definition 1
                           Let 
                                 A
                                 =
                                 
                                    {
                                    
                                       
                                          p
                                       
                                       
                                          1
                                       
                                    
                                    ,
                                    
                                       
                                          p
                                       
                                       
                                          2
                                       
                                    
                                    ,
                                    …
                                    ,
                                    
                                       
                                          p
                                       
                                       
                                          k
                                       
                                    
                                    }
                                 
                               be an assembly, where 
                                 
                                    
                                       p
                                    
                                    
                                       1
                                    
                                 
                                 ,
                                 
                                    
                                       p
                                    
                                    
                                       2
                                    
                                 
                                 ,
                                 …
                                 ,
                                 
                                    
                                       p
                                    
                                    
                                       k
                                    
                                 
                               are the 
                                 k
                               kinds of parts which constitute the assembly. Let 
                                 
                                    
                                       p
                                    
                                    
                                       i
                                    
                                 
                               and 
                                 
                                    
                                       p
                                    
                                    
                                       j
                                    
                                 
                                 
                                 
                                    (
                                    i
                                    ,
                                    j
                                    =
                                    1
                                    ,
                                    2
                                    ,
                                    …
                                    ,
                                    k
                                    )
                                 
                               be two arbitrary parts in 
                                 A
                              . If 
                                 i
                                 ≠
                                 j
                               and there is an assembly constraint relation between 
                                 
                                    
                                       p
                                    
                                    
                                       i
                                    
                                 
                               and 
                                 
                                    
                                       p
                                    
                                    
                                       j
                                    
                                 
                              , then we can obtain the OWL class assertions 
                                 
                                    Part
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          i
                                       
                                    
                                    )
                                 
                               and 
                                 
                                    Part
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          j
                                       
                                    
                                    )
                                 
                              , and the OWL property assertions 
                                 
                                    has
                                 
                                 -
                                 
                                    AssemblyRelation
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          i
                                       
                                    
                                    ,
                                    
                                       
                                          p
                                       
                                       
                                          j
                                       
                                    
                                    )
                                 
                               and 
                                 
                                    has
                                 
                                 -
                                 
                                    AssemblyRelation
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          j
                                       
                                    
                                    ,
                                    
                                       
                                          p
                                       
                                       
                                          i
                                       
                                    
                                    )
                                 
                              . The ABox 
                                 
                                    
                                       A
                                    
                                    
                                       P
                                       L
                                    
                                 
                               is constructed by gathering all these assertions.

Assembly feature surface layer is the second layer of the extended model. Its main functions are to extract the assembly feature surfaces from each part, to construct an ABox 
                           
                              
                                 A
                              
                              
                                 A
                                 L
                              
                           
                         by gathering all OWL class assertions which represent instances of assembly feature surfaces and OWL property assertions which represent assembly constraint relations between assembly feature surfaces of parts, and to lay foundation for the construction of spatial relation layer.

Each part of an assembly can be regarded as a closed geometry which is constituted by a number of feature surfaces. In all of the feature surfaces of a part, the feature surfaces, which have assembly constraint relations with the feature surfaces of other parts, are called as the assembly feature surfaces of this part. Each part of an assembly has at least one assembly feature surface, therefore the assembly constraint relations between parts can be decomposed into the assembly constraint relations between assembly feature surfaces of each part.

Let RealFeatureSurface be an OWL class which denotes a real assembly feature surface. Let has-AssemblyRelation be an OWL object property which denotes an assembly constraint relation between assembly feature surfaces of parts. The assembly feature surfaces and assembly constraint relations between assembly feature surfaces of parts in assembly feature surface layer can be formally defined as follows. 
                           Definition 2
                           Let 
                                 
                                    
                                       p
                                    
                                    
                                       i
                                    
                                 
                                 =
                                 
                                    {
                                    s
                                    1
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             i
                                          
                                       
                                       )
                                    
                                    ,
                                    s
                                    2
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             i
                                          
                                       
                                       )
                                    
                                    ,
                                    …
                                    ,
                                    
                                       
                                          s
                                       
                                       
                                          m
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             i
                                          
                                       
                                       )
                                    
                                    }
                                 
                               be the 
                                 i
                              -th part in an assembly, where 
                                 
                                    
                                       s
                                    
                                    
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          i
                                       
                                    
                                    )
                                 
                                 ,
                                 
                                    
                                       s
                                    
                                    
                                       2
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          i
                                       
                                    
                                    )
                                 
                                 ,
                                 …
                                 ,
                                 
                                    
                                       s
                                    
                                    
                                       m
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          i
                                       
                                    
                                    )
                                 
                               are the 
                                 m
                               assembly feature surfaces of part 
                                 
                                    
                                       p
                                    
                                    
                                       i
                                    
                                 
                              . Let 
                                 
                                    
                                       p
                                    
                                    
                                       j
                                    
                                 
                                 =
                                 
                                    {
                                    
                                       
                                          s
                                       
                                       
                                          1
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             j
                                          
                                       
                                       )
                                    
                                    ,
                                    
                                       
                                          s
                                       
                                       
                                          2
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             j
                                          
                                       
                                       )
                                    
                                    ,
                                    …
                                    ,
                                    
                                       
                                          s
                                       
                                       
                                          n
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             j
                                          
                                       
                                       )
                                    
                                    }
                                 
                               be the 
                                 j
                              -th part in this assembly, where 
                                 
                                    
                                       s
                                    
                                    
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          j
                                       
                                    
                                    )
                                 
                                 ,
                                 
                                    
                                       s
                                    
                                    
                                       2
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          j
                                       
                                    
                                    )
                                 
                                 ,
                                 …
                                 ,
                                 
                                    
                                       s
                                    
                                    
                                       n
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          j
                                       
                                    
                                    )
                                 
                               are the 
                                 n
                               assembly feature surfaces of part 
                                 
                                    
                                       p
                                    
                                    
                                       j
                                    
                                 
                              . If there is an assembly constraint relation between the assembly feature surfaces 
                                 
                                    
                                       s
                                    
                                    
                                       u
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          i
                                       
                                    
                                    )
                                 
                                 
                                 
                                    (
                                    u
                                    =
                                    1
                                    ,
                                    2
                                    ,
                                    …
                                    ,
                                    m
                                    )
                                 
                               and 
                                 
                                    
                                       s
                                    
                                    
                                       v
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          j
                                       
                                    
                                    )
                                 
                                 
                                 
                                    (
                                    v
                                    =
                                    1
                                    ,
                                    2
                                    ,
                                    …
                                    ,
                                    n
                                    )
                                 
                              , then we can obtain the OWL class assertions 
                                 
                                    RealFeatureSurface
                                 
                                 
                                    (
                                    
                                       
                                          s
                                       
                                       
                                          1
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             i
                                          
                                       
                                       )
                                    
                                    )
                                 
                                 ,
                                 
                                    RealFeatureSurface
                                 
                                 
                                    (
                                    
                                       
                                          s
                                       
                                       
                                          2
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             i
                                          
                                       
                                       )
                                    
                                    )
                                 
                                 ,
                                 …
                                 ,
                                 
                                    RealFeatureSurface
                                 
                                 
                                    (
                                    
                                       
                                          s
                                       
                                       
                                          m
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             i
                                          
                                       
                                       )
                                    
                                    )
                                 
                                 ,
                                 
                                    RealFeatureSurface
                                 
                                 
                                    (
                                    
                                       
                                          s
                                       
                                       
                                          1
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             j
                                          
                                       
                                       )
                                    
                                    )
                                 
                                 ,
                                 
                                    RealFeatureSurface
                                 
                                 
                                    (
                                    
                                       
                                          s
                                       
                                       
                                          2
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             j
                                          
                                       
                                       )
                                    
                                    )
                                 
                                 ,
                                 …
                                 ,
                                 
                                    RealFeatureSurface
                                 
                                 
                                    (
                                    
                                       
                                          s
                                       
                                       
                                          n
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             j
                                          
                                       
                                       )
                                    
                                    )
                                 
                              , and the OWL property assertions 
                                 
                                    has
                                 
                                 -
                                 
                                    AssemblyRelation
                                 
                                 
                                    (
                                    
                                       
                                          s
                                       
                                       
                                          u
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             i
                                          
                                       
                                       )
                                    
                                    ,
                                    
                                       
                                          s
                                       
                                       
                                          v
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             j
                                          
                                       
                                       )
                                    
                                    )
                                 
                               and 
                                 
                                    has
                                 
                                 -
                                 
                                    AssemblyRelation
                                 
                                 
                                    (
                                    
                                       
                                          s
                                       
                                       
                                          v
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             j
                                          
                                       
                                       )
                                    
                                    ,
                                    
                                       
                                          s
                                       
                                       
                                          u
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             i
                                          
                                       
                                       )
                                    
                                    )
                                 
                              . The ABox 
                                 
                                    
                                       A
                                    
                                    
                                       A
                                       L
                                    
                                 
                               is constructed by gathering all these assertions.

Spatial relation layer is the last layer of the extended model. Its main functions are to extract the spatial relations between geometrical features of each pair of assembly feature surfaces, to construct an ABox 
                           
                              
                                 A
                              
                              
                                 S
                                 L
                              
                           
                         by gathering all OWL class assertions which represent instances of geometrical features and OWL property assertions which represent spatial relations between geometrical features of each pair of assembly feature surfaces, and to lay foundation for assembly tolerance representations.

From the language of geometrical product specifications  [60], there are seven types of feature surfaces: spherical surface, cylindrical surface, planar surface, helical surface, revolute surface, prismatic surface, and complex surface. Zhang et al.  [45] increased the number of types of feature surfaces from seven to eleven. They are inner (outer) spherical surface, inner (outer) cylindrical surface, planar surface, inner (outer) helical surface, inner (outer) revolute surface, and inner (outer) prismatic surface. According to the classifications of lower and higher pairs  [60], we add inner (outer) complex surface into the eleven types of feature surfaces above. So the number of types of feature surfaces is thirteen. The possible constraint relations and corresponding associated derived features of the thirteen types of feature surfaces are shown in Table 1
                        .

From Table 1, we know that the associated derived feature of each type of feature surface is a single point, a single straight line, a single plane, or their combination. Therefore the spatial relations among associated derived features are essentially the spatial relations among points, straight lines, and planes. In practice, the spatial relations among points, straight lines, and planes are coincidence, disjoint, inclusion, parallel, perpendicular, intersection, and nonuniplanar. The details are shown in Table 2
                        .

Furthermore, each type of real feature surface has constraint relation with its ideal feature surface. The details are shown in Table 3
                        .

With the geometrical features and spatial relations in Tables 2 and 3, the geometrical features and spatial relations between geometrical features of each pair of assembly feature surfaces can be described by OWL class and property assertions, respectively. Let RealPlanar be an OWL class which denotes a real planar surface. Let 
                           
                              adf
                           
                           
                              (
                              x
                              )
                           
                         be the associated derived features of real feature surface 
                           x
                        . Let ConstraintPlane and ConstrainedPlane be OWL classes which denote a constraint plane and constrained plane, respectively. Let has-CoincidenceRelation and has-ConstraintRelation be OWL object properties which denote coincidence and constraint relations, respectively. Let ideal-planar denote an ideal planar surface. The spatial relations among geometrical features of each pair of mutual constraint assembly feature surfaces in spatial relation layer can be formally defined as follows. 
                           Definition 3
                           Let 
                                 
                                    
                                       p
                                    
                                    
                                       i
                                    
                                 
                                 =
                                 
                                    {
                                    
                                       
                                          s
                                       
                                       
                                          1
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             i
                                          
                                       
                                       )
                                    
                                    ,
                                    
                                       
                                          s
                                       
                                       
                                          2
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             i
                                          
                                       
                                       )
                                    
                                    ,
                                    …
                                    ,
                                    
                                       
                                          s
                                       
                                       
                                          m
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             i
                                          
                                       
                                       )
                                    
                                    }
                                 
                               be the 
                                 i
                              -th part in an assembly, where 
                                 
                                    
                                       s
                                    
                                    
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          i
                                       
                                    
                                    )
                                 
                                 ,
                                 
                                    
                                       s
                                    
                                    
                                       2
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          i
                                       
                                    
                                    )
                                 
                                 ,
                                 …
                                 ,
                                 
                                    
                                       s
                                    
                                    
                                       m
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          i
                                       
                                    
                                    )
                                 
                               are the 
                                 m
                               assembly feature surfaces of part 
                                 
                                    
                                       p
                                    
                                    
                                       i
                                    
                                 
                              . Let 
                                 
                                    
                                       p
                                    
                                    
                                       j
                                    
                                 
                                 =
                                 
                                    {
                                    
                                       
                                          s
                                       
                                       
                                          1
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             j
                                          
                                       
                                       )
                                    
                                    ,
                                    
                                       
                                          s
                                       
                                       
                                          2
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             j
                                          
                                       
                                       )
                                    
                                    ,
                                    …
                                    ,
                                    
                                       
                                          s
                                       
                                       
                                          n
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             j
                                          
                                       
                                       )
                                    
                                    }
                                 
                               be the 
                                 j
                              -th part in this assembly, where 
                                 
                                    
                                       s
                                    
                                    
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          j
                                       
                                    
                                    )
                                 
                                 ,
                                 
                                    
                                       s
                                    
                                    
                                       2
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          j
                                       
                                    
                                    )
                                 
                                 ,
                                 …
                                 ,
                                 
                                    
                                       s
                                    
                                    
                                       n
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          j
                                       
                                    
                                    )
                                 
                               are the 
                                 n
                               assembly feature surfaces of part 
                                 
                                    
                                       p
                                    
                                    
                                       j
                                    
                                 
                              . Let OWL object properties has-CoincidenceRelation, has-DisjointRelation, has-InclusionRelation, has-ParallelRelation, has-PerpendicularRelation, has-Intersection   Relation, has-NonuniplanarRelation, and has-ConstraintRelation be coincidence relation, disjoint relation, inclusion relation, parallel relation, perpendicular relation, intersection relation, nonuniplanar relation, and constraint relation, respectively. Let OWL object property has-SpatialRelation be the elements of the set which comprises of the above eight OWL object properties. Let 
                                 
                                    adf
                                 
                                 
                                    (
                                    
                                       
                                          s
                                       
                                       
                                          u
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             i
                                          
                                       
                                       )
                                    
                                    )
                                 
                               and 
                                 
                                    adf
                                 
                                 
                                    (
                                    
                                       
                                          s
                                       
                                       
                                          v
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             j
                                          
                                       
                                       )
                                    
                                    )
                                 
                               be the associated derived features of the real feature surfaces 
                                 
                                    
                                       s
                                    
                                    
                                       u
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          i
                                       
                                    
                                    )
                                 
                               and 
                                 
                                    
                                       s
                                    
                                    
                                       v
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          j
                                       
                                    
                                    )
                                 
                              , respectively. Let 
                                 
                                    ifs
                                 
                                 
                                    (
                                    
                                       
                                          s
                                       
                                       
                                          u
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             i
                                          
                                       
                                       )
                                    
                                    )
                                 
                               and 
                                 
                                    ifs
                                 
                                 
                                    (
                                    
                                       
                                          s
                                       
                                       
                                          v
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             j
                                          
                                       
                                       )
                                    
                                    )
                                 
                               be the instances of the ideal feature surfaces of 
                                 
                                    
                                       s
                                    
                                    
                                       u
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          i
                                       
                                    
                                    )
                                 
                               and 
                                 
                                    
                                       s
                                    
                                    
                                       v
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          j
                                       
                                    
                                    )
                                 
                              , respectively. If 
                                 
                                    has
                                 
                                 -
                                 
                                    AssemblyRelation
                                 
                                 
                                    (
                                    
                                       
                                          s
                                       
                                       
                                          u
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             i
                                          
                                       
                                       )
                                    
                                    ,
                                    
                                       
                                          s
                                       
                                       
                                          v
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             j
                                          
                                       
                                       )
                                    
                                    )
                                 
                                 
                                 
                                    (
                                    u
                                    =
                                    1
                                    ,
                                    2
                                    ,
                                    …
                                    ,
                                    m
                                    ;
                                    v
                                    =
                                    1
                                    ,
                                    2
                                    ,
                                    …
                                    ,
                                    n
                                    )
                                 
                               holds in ABox 
                                 
                                    
                                       A
                                    
                                    
                                       A
                                       L
                                    
                                 
                              , then the property assertions 
                                 
                                    has
                                 
                                 -
                                 
                                    SpatialRelation
                                 
                                 
                                    (
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             u
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                i
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    ,
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             v
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                j
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    )
                                 
                                 ,
                                 
                                    has
                                 
                                 -
                                 
                                    ConstraintRelation
                                 
                                 
                                    (
                                    
                                       ifs
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             u
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                i
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    ,
                                    
                                       
                                          s
                                       
                                       
                                          u
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             i
                                          
                                       
                                       )
                                    
                                    )
                                 
                                 ,
                                 
                                    has
                                 
                                 -
                                 
                                    ConstraintRelation
                                 
                                 
                                    (
                                    
                                       ifs
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             v
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                j
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    ,
                                    
                                       
                                          s
                                       
                                       
                                          v
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             j
                                          
                                       
                                       )
                                    
                                    )
                                 
                               are obtained. The ABox 
                                 
                                    
                                       A
                                    
                                    
                                       S
                                       L
                                    
                                 
                               is constructed by gathering all these assertions.

Assembly tolerances mainly include geometrical tolerance, angle tolerance, and linear dimensional tolerance. At a top-down stage, geometrical and dimensional tolerances of parts can be determined by the assembly tolerances of the corresponding product. That is to say, assembly tolerance design of product should be finished first, and then tolerance design of parts is done based on assembly and functional requirements of product. A feature can be regarded as a surface or a finite set of surfaces  [61]. The individual characteristics of a feature incorporate straightness, flatness, roundness, cylindricity, profile any line, and profile any surface tolerances. They are collectively called form tolerances and are not associated with datums but instead are associated with ideal shapes. The characteristics of more than one feature include circular run-out, total run-out, parallelism, perpendicularity, angularity, position, concentricity (coaxiality), symmetry, angle, and linear dimensional tolerances. They are collectively called positional tolerances and need one or more datums to control the scope of their changes.

In practice, assembly tolerance types have mapping relations with spatial relations between geometrical features of real assembly feature surfaces of parts. As one example, the assembly tolerance type determined by S01 in Table 2 is concentricity, because S01 denotes a point is coincided with another point. As another example, the assembly tolerance type determined by S29 in Table 3 is straightness, roundness, or cylindricity, because S29 denotes an ideal cylindrical surface constrains a real outer or inner cylindrical surface. Therefore, the mapping relations between spatial relations and assembly tolerance types are one-to-one or one-to-many relations. The details are shown in Table 4
                        .

Meta-ontology for assembly tolerance representations acts as the meta-model defining general terms and relations which are independent of assembly tolerance representations. Meta-ontology includes a finite set of identified concepts (classes) and relations (properties) among them. A meta-ontology for assembly tolerance representations is constructed in our research with one of the most widely used methodology, the so-called seven-step methodology proposed by Noy and McGuinness  [62]. The constructing activity is decomposed into the following seven activities:
                           
                              •
                              Step 1. Determine the domain and scope of the ontology. The meta-ontology is mainly used in assembly tolerance representations for automatic generation of assembly tolerance types.

Step 2. Consider reusing existing ontologies. Although ontology has been applied to designing and manufacturing domains, it has not been applied to automatic generation of tolerance types. So there are no appropriate ontologies to be reused.

Step 3. Enumerate important terms in the ontology. According to the extended model in Section  3, the important terms are as follows: assembly, part, real feature surface, real spherical, real cylindrical, real planar, real helical, real revolute, real prismatic, real complex, inner (outer) spherical, inner (outer) cylindrical, inner (outer) helical, inner (outer) revolute, inner (outer) prismatic, inner (outer) complex, ideal feature surface, ideal spherical, ideal cylindrical, ideal planar, ideal helical, ideal revolute, ideal prismatic, ideal complex, associated derived feature, constraint feature, constrained feature, constraint point, constraint line, constraint plane, constrained point, constrained line, constrained plane, assembly relation, coincidence relation, disjoint relation, inclusion relation, parallel relation, perpendicular relation, intersection relation, nonuniplanar relation, constraint relation, straightness tolerance, flatness tolerance, roundness tolerance, cylindricity tolerance, profile any line tolerance, profile any surface tolerance, circular run-out tolerance, total run-out tolerance, parallelism tolerance, perpendicularity tolerance, angularity tolerance, position tolerance, concentricity tolerance, coaxiality tolerance, symmetry tolerance, angle tolerance, linear dimensional tolerance, spatial relations, form tolerances, and positional tolerances.

Step 4. Define the classes and the class hierarchy. In the listed terms, terms which represent unary relations are defined as the classes. According to the extended model in Section  3, the class hierarchy of the classes is easily obtained (Fig. 2
                                 ).

Step 5. Define the properties of the classes. In the listed terms, terms which represent binary relations are defined as the object properties. According to the extended model in Section  3, the property hierarchy of the properties is easily obtained (Fig. 3
                                 ).

Step 6. Define the facets of the properties. The domains and ranges of the defined properties are shown in Table 5
                                 .

Step 7. Create instances. This step will be discussed in case study (Section  6).

Through the steps above, a meta-ontology for assembly tolerance representations is constructed. The constructed meta-ontology is shown in Fig. 4
                        .

According to the principles for the design of ontologies used for knowledge sharing  [63], a new defined ontology should be clear, consistent, concise, correct, complete, and expandable. Therefore, to evaluate the defined meta-ontology for assembly tolerance representations, the objective criteria above which are founded on the purpose of the resulting artifact are needed. Detailed evaluations are as follows.
                           
                              •
                              
                                 Clarity: As can be seen in Fig. 4, the defined meta-ontology can effectively communicate the intended meaning of defined terms in the extended representation model in Section  3. In the defined meta-ontology, all defined concepts (classes) and relations (properties) are directly derived from the extended model. Due to the fact that all terms in the extended model are objectively defined in the domain of assembly tolerance representation, concepts and relations in the defined meta-ontology are also objectively defined. The definitions of these concepts and relations are documented with natural language in the extended representation model in Section  3.


                                 Coherence: From the perspective of description logics  [64], an ABox 
                                    A
                                  is consistent with respect to a TBox 
                                    T
                                 , if there is an interpretation which is a model of both 
                                    A
                                  and 
                                    T
                                 . In other words, an ABox 
                                    A
                                  cannot contain both assertion 
                                    C
                                    
                                       (
                                       a
                                       )
                                    
                                  and assertion 
                                    ¬
                                    C
                                    
                                       (
                                       a
                                       )
                                    
                                  with respect to a TBox 
                                    T
                                 , where 
                                    C
                                  is a concept and 
                                    a
                                  is an instance. As can be seen Fig. 4, the defined axioms in the meta-ontology do not contain any form of negations. Thus there are no contradictions in these axioms. Besides, for an arbitrary assembly, the ABoxes in Definitions 1–3 will not contain any form of negations in the process of reasoning, because we do not allow negations in them. In fact, the consistence of the defined meta-ontology can be detected by Protégé tool  [65] after being implementing. If a contradiction exists in the meta-ontology, the reasoning process will not be carried out.


                                 Conciseness: Each concept or relation defined in the meta-ontology is indispensable in the generation of assembly tolerance types. From the extended model in Section  3, the defined meta-ontology does not contain any duplicate or redundant definitions.


                                 Correctness: The meta-ontology is defined based on the extended model in Section  3. Thus the extended model should be correct first. Due to the fact that the extended model is constructed in accordance with some accepted principles in tolerance design, its correctness can be guaranteed. In fact, the correctness of the meta-ontology can be demonstrated through generating assembly tolerance types for an arbitrary assembly after the ontology-based approach is implemented. A practical example will be given in Section  6.


                                 Completeness: As can be seen in Fig. 4 and the extended model in Section  3, the defined meta-ontology contains all elements for generating all types of assembly tolerances. So from the perspective of the automatic generation of assembly tolerance types, the defined meta-ontology is complete.


                                 Extendibility: The defined meta-ontology offers a conceptual foundation for a range of anticipated tasks. And the representation is crafted enough to support extending and specializing the defined meta-ontology monotonically. For example, suppose one of our future works is to design the assembly tolerance values with an ontology-based approach, we just need to define new terms for this special use based on the existing meta-ontology, in a way which does not require the revision of the existing definitions.

To use OWL/SWRL to represent assembly tolerances, the meta-ontology for assembly tolerance representations must be implemented first. The implementation process of this ontology is facilitated using Protégé tool  [65], which provides an integration environment of creating, editing, and saving ontologies in a visual way. Protégé also offers the support of modeling ontologies in OWL. Obviously, it is very convenient to create the classes and subclasses in Fig. 2 and to specify the properties on classes in Fig. 3 using Protégé. Fig. 5
                         shows the class hierarchies in the implementation of the meta-ontology for assembly tolerance representations, which are created by OWL-Viz plus-in in Protégé. Fig. 6
                         shows the object property hierarchies in the implementation of the meta-ontology for assembly tolerance representations, which are created by Property Browser in Protégé.

Assembly tolerance representation knowledge is encoded in OWL such that the knowledge can be understood by both machines and human beings. More importantly, as a formal language with description logic-based semantics, OWL enables automatic reasoning about the inconsistencies of the concepts. OWL provides RDF/XML syntax to represent ontology-based domain knowledge. For example, the encodings of class AssociatedDerivedFeatureand its subclasses in OWL RDF/XML are shown in Fig. 7
                        . The subClassOf construct defines class hierarchies among class and its subclasses. Object properties are also encoded in OWL RDF/XML syntax. The encodings of object properties has-SpatialRelation, has-CoincidenceRelation, has-DisjointRelation, has-InclusionRelation, has-ParallelRelation, has-PerpendicularRelation, has-IntersectionRelation, and has-NonuniplanarRelation, which specify the relations between the constraint features and constrained features, are also shown in Fig. 7. The owl:ObjectProperty construct is used to indicate that the represented property is an object property. The subPropertyOf construct is used to define property hierarchies among property and its sub-properties. The rdfs:domain (rdfs:range) construct refers to the domain (range) of an object property. For example, the domain and range of property has-SpatialRelation are ConstraintFeature and ConstrainedFeature, respectively. Due to the fact that object property has-SpatialRelation is the parent property of object properties has-CoincidenceRelation, has-DisjointRelation, has-InclusionRelation, has-ParallelRelation, has-PerpendicularRelation, has-IntersectionRelation, and has-NonuniplanarRelation, these seven sub-properties share the same domain and range with has-SpatialRelation.

In OWL, it is convenient to describe the constraints restricted only on a component. Class and object property constraints in Fig. 7 are the two typical examples of these constraints. In Fig. 7, owl:Class and owl:ObjectProperty are used to defined classes and object properties, respectively. However, OWL cannot be used to describe the constraints restricted between or among components, which typically occur in the form of rules. This is because OWL cannot describe the property chaining  [66]. For example, it is impossible to capture relationships between a composite property and another property (such as has-CoincidenceRelation and has-ConcentricityTolerance). So assembly tolerances cannot be represented only with OWL.

To represent rule knowledge, W3C has devised the SWRL rule language  [8], which is tightly integrated with OWL since the predicates in SWRL rules may be OWL-based classes or properties. On the basis of the classes and properties which have been modeled in Protégé-OWL, mapping relations between assembly tolerance types and spatial relations in Table 4 can be represented in SWRL. For example, column S01 in Table 4 indicates that “if a constraint point is coincided with a constrained point, the corresponding assembly tolerance will be concentricity tolerance”. Based on the classes ConstraintPoint and ConstrainedPoint and properties has-CoincidenceRelation and has-ConcentricityTolerance, this situation can be represented by a SWRL rule as 
                           
                              
                                 “
                                 
                                    ConstraintPoint
                                 
                                 
                                    (
                                    ?
                                    x
                                    )
                                 
                                 ∧
                                 
                                    ConstrainedPoint
                                 
                                 
                                    (
                                    ?
                                    y
                                    )
                                 
                                 ∧
                                 
                                 
                                    has
                                 
                                 -
                                 
                                    CoincidenceRelation
                                 
                                 
                                    (
                                    ?
                                    x
                                    ,
                                    ?
                                    y
                                    )
                                 
                                 →
                                 
                                    has
                                 
                                 -
                                 
                                    ConcentricityTolerance
                                 
                                 
                                    (
                                    ?
                                    x
                                    ,
                                    ?
                                    y
                                    )
                                 
                                 ” .
                              
                           
                        
                     

The remaining mapping relations among assembly tolerance types and spatial relations in Table 4 can also be represented by SWRL rules in a similar way and therefore the OWL/SWRL representations of assembly tolerances are achieved. The details are shown in Table 6
                        .

Due to the fact that SWRL is a descriptive language which is independent of any rule languages internal to rule engines, OWL-based structure knowledge and SWRL-based constraint knowledge are required to be transformed into the rules represented by the rule language of some rule engine. In order to realize a system for generation of assembly tolerance types, JESS is employed in our research to perform actual reasoning processes. As shown in Fig. 8
                        , the engine for generation of assembly tolerance types consists of three components: JESS rule engine, OWL2JESS transformers, and SWRL2JESS transformers. The JESS rule engine finishes actual reasoning processes by matching the head of rules in the rule base with the facts in the fact base. The rules whose premises are satisfied according to matched facts are activated and wait to be fired. Actions, such as the addition of new facts into the fact base, specified in the head of the rules are executed when the activated rules are fired by the reasoner. To carry out the reasoning processes, OWL-based structure knowledge and SWRL-based constraint knowledge are required to be mapped into JESS facts and JESS rules, respectively. The mapping processes are performed by OWL2JESS and SWRL2JESS transformers.

The OWL2JESS transformer performs the function of transforming OWL-based structure knowledge into JESS facts. Classes in OWL knowledge base are mapped into JESS templates that define the types of JESS facts. For example, class AssociatedDerivedFeature and its subclasses in Fig. 7 are transformed into JESS templates given in Table 7
                        .

In the templates above, the deftemplate construct is employed to define the type of slots in a JESS fact. The extends construct indicates the inheritance relationship between two templates defining facts. owl:Thing is a most top level class in OWL, from which all other classes are directly or indirectly inherited.

The individuals (instances) of the OWL classes in assembly tolerance representation knowledge base are actually involved in a generation solution. For example, an individual named “constraint_straight_line”, which is an instance of the OWL class ConstraintLine, is transformed into the JESS facts given in Table 8
                         using the OWL2JESS transformer.

In the facts given in Table 8, the assert construct in JESS is used to declare a fact, namely that “constraint_straight_line” is an instance of the ConstraintLine type. The declared facts will be stored in the JESS fact base.

The SWRL2JESS transformer performs the function of transforming SWRL-based constraint knowledge into JESS rules. For example, the SWRL rule S01-1 in Table 6 is transformed into the JESS rule given in Table 9
                         using the SWRL2JESS transformer.

The transformations of the remaining SWRL rules in Table 6 can be handled in a similar way. In the JESS rules of all these transformations, the assertions whose constraints hold are put into JESS fact base when the SWRL rules are transformed. Both OWL2JESS and SWRL2JESS transformers are developed through using the Extensible Style-sheet Language Transformations (XSLT) to perform the transformation from XML documents to JESS files. For manipulating these XML documents according to the Document Object Model (DOM)  [67] and Simple API for XML (SAX)  [68] specifications, the Xerces Java Parser  [69], a Java XML parser, is used to develop these transformers in our research.

In current commercial 3D solid modeling systems (e.g. SolidWorks, AutoCAD), designers can conveniently design complex assemblies. For example, in SolidWorks all the parts of an assembly can be designed respectively as separate geometric models at part modeling mode. The assembly can also be constructed by assembling all the parts together after specifying assembly constraints between parts at assembly modeling mode. The mate feature tree of the assembly is automatically achieved after all the parts are assembled. An algorithm named Liaison Table Generator (LTG)  [70] is proposed to achieve the mating relations exist among parts in the format of mate feature tree. Another algorithm named Assembly Mate Extraction (AME)  [71] is proposed to extract the assembly feature surfaces of parts stored in the format of mate feature tree. Based on these algorithms, the extended assembly tolerance representation model in Section  3, and the ontology-based system, an approach for automatically generating assembly tolerance types is carried out according to the following steps. 
                           
                              •
                              
                                 Construct a 3D assembly model of the product. According to the functional requirements of the product and the ideal size of each part, a 3D assembly model of the product can be conveniently constructed in 3D solid modeling systems.


                                 Disassemble the 3D assembly model of the product. According to the mechanical structure of the product, its 3D assembly model is continuously split until the whole assembly is disassembled into parts.


                                 Extract assembly constraint relations between parts and assembly feature surfaces of parts. When the above two steps are finished, a mate feature tree of the product is automatically achieved in 3D solid modeling systems. Based on this, the LTG algorithm  [70] is applied to extract assembly constraint relations between parts, and the AME algorithm  [71] is applied to extract assembly feature surfaces of parts.


                                 Construct an ABox 
                                 
                                    
                                       
                                          A
                                       
                                       
                                          P
                                          L
                                       
                                    
                                  
                                 for assembly constraint relations between parts. According to Definition 1 and the extracted assembly constraint relations between parts, the ABox 
                                    
                                       
                                          A
                                       
                                       
                                          P
                                          L
                                       
                                    
                                  for these relations can be constructed.


                                 Construct an ABox 
                                 
                                    
                                       
                                          A
                                       
                                       
                                          A
                                          L
                                       
                                    
                                  
                                 for assembly constraint relations between assembly feature surfaces. According to 
                                    
                                       
                                          A
                                       
                                       
                                          P
                                          L
                                       
                                    
                                 , Definition 2, and the extracted assembly feature surfaces of parts, the ABox 
                                    
                                       
                                          A
                                       
                                       
                                          A
                                          L
                                       
                                    
                                  for assembly constraint relations between assembly feature surfaces can be constructed.


                                 Construct an ABox 
                                 
                                    
                                       
                                          A
                                       
                                       
                                          S
                                          L
                                       
                                    
                                  
                                 for spatial relations between geometrical features of assembly feature surfaces. Through a simple secondary development, the type of each assembly feature surface and the spatial relation between each pair of mutual constraint assembly feature surfaces in ABox 
                                    
                                       
                                          A
                                       
                                       
                                          A
                                          L
                                       
                                    
                                  can be extracted from the assembly constraints in the mate feature tree. Based on these information and Table 1, the associated derived features of each pair of mutual constraint assembly feature surfaces can be determined. According to the determined associated derived features, the extracted spatial relations between each pair of mutual constraint assembly feature surfaces, and Definition 3, the ABox 
                                    
                                       
                                          A
                                       
                                       
                                          S
                                          L
                                       
                                    
                                  for spatial relations between geometrical features of assembly feature surfaces can be constructed.


                                 Determine the recommended assembly tolerance types. Taking the OWL assertions in 
                                    
                                       
                                          A
                                       
                                       
                                          S
                                          L
                                       
                                    
                                  as inputs (Fig. 8), the recommended assembly tolerance types of each assembly feature surface or between each pair of assembly feature surfaces (denoted as a set 
                                    
                                       
                                          T
                                       
                                       
                                          S
                                       
                                    
                                 ) is generated in the ontology-based system for generation of assembly tolerance types.


                                 Determine the final marked assembly tolerance types. According to the functional requirements of the product, tolerancing standards, tolerance principles, and design experience, the final marked assembly tolerance types (denoted as a set 
                                    
                                       
                                          T
                                       
                                       
                                          F
                                       
                                    
                                 ) are selected from 
                                    
                                       
                                          T
                                       
                                       
                                          S
                                       
                                    
                                 .

When we select the final marked assembly tolerance types from the generated recommended assembly tolerance types, the following rules summarized from tolerancing standards, tolerance principles, and existing design experience play important roles  [8].


                        Rule  1. The final marked assembly tolerance types of a part are selected from the recommended assembly tolerance types by considering the subsequent manufacture, measurement, and assembly process of this part.


                        Rule  2. In ISO/ASME standards  [1,2], the envelope principle only applies to dimensional tolerances and does not determine the location, orientation, or interrelation between feature of size. Thus when we determine assembly tolerance types based on envelope principle, we should recognize that geometrical tolerances are applied to control the location, orientation, or interrelations between features. Moreover, straightness is not applied to a feature of size.


                        Rule  3. Regardless of feature, which means a geometrical tolerance applies at any increment of the size of a feature with its tolerance, is always used when the importance of the location or shape of a feature is independent of the size of the feature. Circular run-out, total run-out, concentricity, and symmetry tolerances are always applied to the regardless of feature size and cannot be modified by maximum or least material condition.


                        Rule  4. Bonus tolerance is an additional tolerance for a geometric control which can reduce the manufacturing cost  [1,2]. When a geometrical tolerance is applied to a feature of size and this geometrical tolerance contains a modifier of maximum or least material condition in the tolerance portion of feature control frame, a bonus tolerance is permissible. For instance, if feature of size departs from maximum material condition to least material condition under the constraint of maximum material condition, a bonus tolerance which is equal to the same amount of departure should be applied.


                        Rule  5. Cylindricity tolerance is applied to represent the variation between real and actual cylindrical surfaces. It is able to control geometrical tolerances in longitudinal and cross section of a cylinder, such as axis straightness, generatrix straightness, and roundness tolerance. Therefore, if cylindricity is selected as a geometrical tolerance of a cylindrical surface, there is no need to select straightness and roundness tolerance.


                        Rule  6. Profile any line tolerance is able to control roundness tolerance in cross section of a cylindrical shaft or hole. In other words, profile any line tolerance can be used to replace roundness tolerance. In circular curve design, roundness tolerance is a priority selection. While in non-circular curve design, profile any line tolerance is a priority selection.


                        Rule  7. Coaxiality tolerance is able to control the bending, translation, and inclination of axes of assembly feature surfaces. Thus, if coaxiality is selected, there is no need to select parallelism tolerance between the axes of two assembly feature surfaces.


                        Rule  8. Perpendicularity tolerance of a line with respect to a datum line or surface can be controlled by position tolerance. Therefore, one of them can be selected as assembly tolerance based on actual situations.


                        Rule  9. Position tolerance is able to control coaxiality or symmetry tolerance. However, marking coaxiality and symmetry tolerance is clearer than marking position tolerance. Therefore, coaxiality or symmetry tolerance is more appropriate to be selected as assembly tolerance. Position tolerance is usually applied to limit the position errors of a point or a line.


                        Rule  10. For a measured feature, if radial circular run-out tolerance is selected, there is no need to select roundness or coaxiality tolerance. If a designed part is able to rotate about its datum center line, axial total run-out tolerance can be selected. Otherwise, perpendicularity tolerance can be selected.

In assembly tolerancing, the determinations of datums of the marked positional tolerances and values of all types of marked tolerances must be finished after the final marked assembly tolerance types are selected. Some most common rules summarized from tolerancing standards and design experience for determining the datums of positional tolerances and the values of all types of tolerances will be given below.

From Section  3, we know that the spatial relations among associated derived features of assembly feature surfaces of parts are essentially the spatial relations among points, straight lines, and planes. In order to determine the datums of positional tolerances, the concept of MGDE in TTRS model  [29,30] is introduced and further extended. MGDEs are the minimum set of reference points, reference lines, and reference planes which are used to locate geometrical features. For examples, in order to locate a spherical surface, we need to locate its spherical center; and in order to locate a cylindrical surface, we need to locate its axis. In addition, as for locating a revolute surface, we need to locate its rotary axis and any one of the profile lines in its surface. Two or more spherical centers, axes, planes, and profiles lines mentioned above can be combined together to constitute a datum reference frame (DRF), which can be used to determine the spatial location of the assembly feature surfaces. Through the analysis above, rules for determining the datums of positional tolerances are achieved and shown in Table 10
                        .

The last step of assembly tolerancing is to determine assembly tolerance values. According to different application requirements, ISO has established different kinds of tolerancing standards to guide mechanical designers how to specify appropriate tolerance values. Some most common rules summarized from these ISO standards and design experience for determining tolerance values are given below.


                        Rule  17. Tolerance values are directly related to manufacturing precision and cost of the product. On the premise of satisfying requirements, tolerance values should be specified as large as possible.


                        Rule  18. If both dimensional tolerance and geometrical tolerances are specified on the same geometrical feature, the value of dimensional tolerance should be larger than all the values of geometrical tolerances.


                        Rule  19. In all the geometrical tolerances specified on a geometrical feature, the values of location tolerances should be larger than the values of form, orientation, and run-out tolerances.


                        Rule  20. If both orientation tolerances and form tolerance are specified on the same geometrical feature, the values of all orientation tolerances should be larger than the value of form tolerance.


                        Rule  21. For a mate between the inner diameters of a bearing, if the accuracy grade is 6, the axis should be specified as the datum  [72,73].


                        Rule  22. For a mate between an inner hole (the accuracy grade is 7) of a gear and a shaft (the accuracy grade is 6), the accuracy grades of form and positional tolerances should be 8  [74–76].


                        Rule  23. When the accuracy grade is 8, the value of end circular run-out for nominal size “40 mm” can be specified as “0.030 mm”; the value of cylindricity for nominal size “40 mm” can be specified as “0.011 mm”; the value of end circular run-out for nominal size “60 mm” can be specified as “0.040 mm”; the value of cylindricity for nominal size “60 mm” can be specified as “0.013 mm”; the value of end total run-out for both nominal sizes “70 mm” and “80 mm” can be specified as “0.040 mm”; the value of coaxiality for nominal size “115 mm” can be specified as “
                           ∅
                           0.040
                           
                           
                              mm
                           
                        ”, and the value of straightness for nominal size “115 mm” can be specified as “
                           ∅
                           0.030
                           
                           
                              mm
                           
                        ”  [76].

Based on the steps and rules above, automatic generation of assembly tolerance types and manual determination of datums and tolerance values can be implemented. Its flow is shown in Fig. 9
                        .

A gear reducer  [45] is taken as an example to demonstrate the effectiveness of the proposed approach. To reduce the complexity of the problem, we only study the transmission structure between the two driving shafts and do not consider the assembling of the oil seal rings, shaft keys, and reducer cover. When we assemble the gear reducer, the rolling bearings can be regarded as standard parts. Thus, there is no need to consider the assembly tolerance types among the internal parts of the rolling bearings. However, the rolling bearings are indispensable to construct the ABox 
                        
                           
                              A
                           
                           
                              P
                              L
                           
                        
                      for assembly constraint relations between parts. So we regard them as parts when we construct this ABox. On the basis of the proposed approach, the steps to automatically generate assembly tolerance types for the gear reducer are as follows. 
                        
                           •
                           
                              Construct a 3D assembly model of the gear reducer. According to the functional requirements and the ideal size of each part of the gear reducer, the 3D assembly model of the gear reducer is constructed in SolidWorks 2010. A partial view of the gear reducer is shown in Fig. 10
                              .


                              Disassemble the 3D assembly model of the gear reducer. According to the mechanical structure of the gear reducer, its 3D assembly model is continuously split until the whole assembly is disassembled into parts. As shown in Fig. 11
                              , the transmission structure of the gear reducer is disassembled into nineteen parts.


                              Extract assembly constraint relations between parts and assembly feature surfaces of parts. When the above two steps are finished, the mate feature tree of the gear reducer is automatically achieved in SolidWorks. Based on this, the LTG algorithm  [70] is applied to extract assembly constraint relations between parts, and the AME algorithm  [71] is applied to extract assembly feature surfaces of parts. Part 
                                 
                                    
                                       p
                                    
                                    
                                       10
                                    
                                 
                               in Fig. 11 is taken as an example to illustrate the processes of generation of assembly tolerance types. According to the assembly constraint relations between parts extracted by LTG algorithm, the parts having assembly constraint relations with part 
                                 
                                    
                                       p
                                    
                                    
                                       10
                                    
                                 
                               are parts 
                                 
                                    
                                       p
                                    
                                    
                                       03
                                    
                                 
                                 ,
                                 
                                    
                                       p
                                    
                                    
                                       04
                                    
                                 
                                 ,
                                 
                                    
                                       p
                                    
                                    
                                       05
                                    
                                 
                                 ,
                                 
                                    
                                       p
                                    
                                    
                                       06
                                    
                                 
                                 ,
                                 
                                    
                                       p
                                    
                                    
                                       07
                                    
                                 
                              , and 
                                 
                                    
                                       p
                                    
                                    
                                       16
                                    
                                 
                              . The assembly constraint relations between these seven parts are shown in Fig. 12
                              .


                              Construct an ABox 
                              
                                 
                                    
                                       A
                                    
                                    
                                       P
                                       L
                                    
                                 
                               
                              for assembly constraint relations between parts. According to Definition 1 and Fig. 12, the ABox 
                                 
                                    
                                       A
                                    
                                    
                                       P
                                       L
                                    
                                 
                               for assembly constraint relations between parts 
                                 
                                    
                                       p
                                    
                                    
                                       03
                                    
                                 
                                 ,
                                 
                                    
                                       p
                                    
                                    
                                       04
                                    
                                 
                                 ,
                                 
                                    
                                       p
                                    
                                    
                                       05
                                    
                                 
                                 ,
                                 
                                    
                                       p
                                    
                                    
                                       06
                                    
                                 
                                 ,
                                 
                                    
                                       p
                                    
                                    
                                       07
                                    
                                 
                                 ,
                                 
                                    
                                       p
                                    
                                    
                                       10
                                    
                                 
                               and 
                                 
                                    
                                       p
                                    
                                    
                                       16
                                    
                                 
                               is constructed as given in Table 11
                              .


                              Construct an ABox 
                              
                                 
                                    
                                       A
                                    
                                    
                                       A
                                       L
                                    
                                 
                               
                              for assembly constraint relations between assembly feature surfaces. Based on the assembly feature surfaces extracted by AME algorithm, the assembly feature surfaces of parts 
                                 
                                    
                                       p
                                    
                                    
                                       03
                                    
                                 
                                 ,
                                 
                                    
                                       p
                                    
                                    
                                       04
                                    
                                 
                                 ,
                                 
                                    
                                       p
                                    
                                    
                                       05
                                    
                                 
                                 ,
                                 
                                    
                                       p
                                    
                                    
                                       06
                                    
                                 
                                 ,
                                 
                                    
                                       p
                                    
                                    
                                       07
                                    
                                 
                                 ,
                                 
                                    
                                       p
                                    
                                    
                                       10
                                    
                                 
                               and 
                                 
                                    
                                       p
                                    
                                    
                                       16
                                    
                                 
                               are shown in Fig. 13
                              . Then according to 
                                 
                                    
                                       
                                          
                                             A
                                          
                                          
                                             P
                                             L
                                          
                                       
                                    
                                    
                                       
                                          (
                                          7
                                          )
                                       
                                    
                                 
                              , the assembly constraint relations between these assembly feature surfaces are shown in Fig. 14
                              . According to Definition 2 and Fig. 14, the ABox 
                                 
                                    
                                       A
                                    
                                    
                                       A
                                       L
                                    
                                 
                               for assembly constraint relations between assembly feature surfaces of parts 
                                 
                                    
                                       p
                                    
                                    
                                       03
                                    
                                 
                                 ,
                                 
                                    
                                       p
                                    
                                    
                                       04
                                    
                                 
                                 ,
                                 
                                    
                                       p
                                    
                                    
                                       05
                                    
                                 
                                 ,
                                 
                                    
                                       p
                                    
                                    
                                       06
                                    
                                 
                                 ,
                                 
                                    
                                       p
                                    
                                    
                                       07
                                    
                                 
                                 ,
                                 
                                    
                                       p
                                    
                                    
                                       10
                                    
                                 
                               and 
                                 
                                    
                                       p
                                    
                                    
                                       16
                                    
                                 
                               is constructed as given in Table 12
                              .


                              Construct an ABox 
                              
                                 
                                    
                                       A
                                    
                                    
                                       S
                                       L
                                    
                                 
                               
                              for spatial relations between geometrical features of assembly feature surfaces. Through a simple secondary development, the type of each assembly feature surface and the spatial relation between each pair of mutual constraint assembly feature surfaces in ABox 
                                 
                                    
                                       
                                          
                                             A
                                          
                                          
                                             A
                                             L
                                          
                                       
                                    
                                    
                                       
                                          (
                                          7
                                          )
                                       
                                    
                                 
                               can be extracted from the assembly constraints in the mate feature tree. For example, suppose we want to know the type of assembly feature surfaces 
                                 
                                    
                                       s
                                    
                                    
                                       4
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          03
                                       
                                    
                                    )
                                 
                               and 
                                 
                                    
                                       s
                                    
                                    
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          10
                                       
                                    
                                    )
                                 
                               and the spatial relation between them. We just need to call some APIs of SolidWorks in a secondary development. Then the type of 
                                 
                                    
                                       s
                                    
                                    
                                       4
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          03
                                       
                                    
                                    )
                                 
                               and 
                                 
                                    
                                       s
                                    
                                    
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          10
                                       
                                    
                                    )
                                 
                               are extracted from the assembly constraints in the format of mate feature tree. They are “
                                 
                                    
                                       s
                                    
                                    
                                       4
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          03
                                       
                                    
                                    )
                                 
                               is an inner cylindrical surface” and “
                                 
                                    
                                       s
                                    
                                    
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          10
                                       
                                    
                                    )
                                 
                               is an outer cylindrical surface”. Besides, the spatial relation between 
                                 
                                    
                                       s
                                    
                                    
                                       4
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          03
                                       
                                    
                                    )
                                 
                               and 
                                 
                                    
                                       s
                                    
                                    
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          10
                                       
                                    
                                    )
                                 
                               is also extracted. That is “
                                 
                                    
                                       s
                                    
                                    
                                       4
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          03
                                       
                                    
                                    )
                                 
                               and 
                                 
                                    
                                       s
                                    
                                    
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          10
                                       
                                    
                                    )
                                 
                               are two coaxial cylindrical surfaces”. According to these results and Table 1, the associated derived feature of “
                                 
                                    (
                                    
                                       
                                          s
                                       
                                       
                                          4
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             03
                                          
                                       
                                       )
                                    
                                    ,
                                    
                                       
                                          s
                                       
                                       
                                          1
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             10
                                          
                                       
                                       )
                                    
                                    )
                                 
                              ” can be determined as “(Line, Line)”. Because we only consider the assembly tolerance types of part 
                                 
                                    
                                       p
                                    
                                    
                                       10
                                    
                                 
                              , the associated derived feature of 
                                 
                                    
                                       s
                                    
                                    
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          10
                                       
                                    
                                    )
                                 
                               and 
                                 
                                    
                                       s
                                    
                                    
                                       4
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          03
                                       
                                    
                                    )
                                 
                               are a constrained line and a constraint line, respectively. According to Definition 3, assertions 
                                 
                                    InnerCylindrical
                                 
                                 
                                    (
                                    
                                       
                                          s
                                       
                                       
                                          4
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             03
                                          
                                       
                                       )
                                    
                                    )
                                 
                                 ,
                                 
                                    OuterCylindrical
                                 
                                 
                                    (
                                    
                                       
                                          s
                                       
                                       
                                          1
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             10
                                          
                                       
                                       )
                                    
                                    )
                                 
                                 ,
                                 
                                    ConstraintLine
                                 
                                 
                                    (
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             4
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                03
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    )
                                 
                                 ,
                                 
                                    ConstrainedLine
                                 
                                 
                                    (
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             1
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                10
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    )
                                 
                              , and 
                                 
                                    has
                                 
                                 -
                                 
                                    CoincidenceRelation
                                 
                                 
                                    (
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             4
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                03
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    ,
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             1
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                10
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    )
                                 
                               are obtained. Similarly, the assertions which hold in other pairs of constraint assembly feature surface can be obtained. So the ABox 
                                 
                                    
                                       A
                                    
                                    
                                       S
                                       L
                                    
                                 
                               for spatial relations between geometrical features of assembly feature surfaces of parts 
                                 
                                    
                                       p
                                    
                                    
                                       03
                                    
                                 
                                 ,
                                 
                                    
                                       p
                                    
                                    
                                       04
                                    
                                 
                                 ,
                                 
                                    
                                       p
                                    
                                    
                                       05
                                    
                                 
                                 ,
                                 
                                    
                                       p
                                    
                                    
                                       06
                                    
                                 
                                 ,
                                 
                                    
                                       p
                                    
                                    
                                       07
                                    
                                 
                                 ,
                                 
                                    
                                       p
                                    
                                    
                                       10
                                    
                                 
                               and 
                                 
                                    
                                       p
                                    
                                    
                                       16
                                    
                                 
                               is constructed as given in Table 13
                              .


                              Determine the recommended assembly tolerance types. Taking the OWL assertions in ABox 
                                 
                                    
                                       
                                          
                                             A
                                          
                                          
                                             S
                                             L
                                          
                                       
                                    
                                    
                                       
                                          (
                                          7
                                          )
                                       
                                    
                                 
                               as inputs, the recommended assembly tolerance types of each assembly feature surface or between each pair of assembly feature surfaces of part 
                                 
                                    
                                       p
                                    
                                    
                                       10
                                    
                                 
                              (denoted as a set 
                                 
                                    
                                       T
                                    
                                    
                                       S
                                    
                                 
                              ) is generated in the ontology-based system for generation of assembly tolerance types (Fig. 8). For example, to determine the recommended assembly tolerance types of (ideal-cylindrical, 
                                 
                                    
                                       s
                                    
                                    
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          10
                                       
                                    
                                    )
                                 
                              ) and 
                                 
                                    (
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             4
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                03
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    ,
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             1
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                10
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    )
                                 
                              , each element is created as an instance of the class which it belongs to first. From the class assertions 
                                 
                                    ConstraintLine
                                 
                                 
                                    (
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             4
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                03
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    )
                                 
                                 ,
                                 
                                    ConstrainedLine
                                 
                                 
                                    (
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             1
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                10
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    )
                                 
                                 ,
                                 
                                    OuterCylindrical
                                 
                                 
                                    (
                                    
                                       
                                          s
                                       
                                       
                                          1
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             10
                                          
                                       
                                       )
                                    
                                    )
                                 
                              , and IdealCylindrical(ideal-cylindrical) in ABox 
                                 
                                    
                                       
                                          
                                             A
                                          
                                          
                                             S
                                             L
                                          
                                       
                                    
                                    
                                       
                                          (
                                          7
                                          )
                                       
                                    
                                 
                              , we know that four instances, 
                                 
                                    adf
                                 
                                 
                                    (
                                    
                                       
                                          s
                                       
                                       
                                          4
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             03
                                          
                                       
                                       )
                                    
                                    )
                                 
                                 ,
                                 
                                    adf
                                 
                                 
                                    (
                                    
                                       
                                          s
                                       
                                       
                                          1
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             10
                                          
                                       
                                       )
                                    
                                    )
                                 
                                 ,
                                 
                                    
                                       s
                                    
                                    
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       
                                          p
                                       
                                       
                                          10
                                       
                                    
                                    )
                                 
                              , and ideal-cylindrical are created in Protégé (Fig. 15
                              ).

By executing “
                        
                           OWL
                        
                        +
                        
                           SWRL
                        
                        →
                        
                           JESS
                        
                     ”, “Run JESS”, and “
                        
                           JESS
                        
                        →
                        
                           OWL
                        
                     ” in SWRL Jess Tab, the recommended assembly tolerance types of (ideal-cylindrical, 
                        
                           
                              s
                           
                           
                              1
                           
                        
                        
                           (
                           
                              
                                 p
                              
                              
                                 10
                              
                           
                           )
                        
                     ) and 
                        
                           (
                           
                              adf
                           
                           
                              (
                              
                                 
                                    s
                                 
                                 
                                    4
                                 
                              
                              
                                 (
                                 
                                    
                                       p
                                    
                                    
                                       03
                                    
                                 
                                 )
                              
                              )
                           
                           ,
                           
                              adf
                           
                           
                              (
                              
                                 
                                    s
                                 
                                 
                                    1
                                 
                              
                              
                                 (
                                 
                                    
                                       p
                                    
                                    
                                       10
                                    
                                 
                                 )
                              
                              )
                           
                           )
                        
                      are generated (Fig. 17
                     ). They are 
                        
                           
                              T
                           
                           
                              S
                           
                        
                        
                           (
                           
                              ideal
                           
                           -
                           
                              cylindrical
                           
                           ,
                           
                              
                                 s
                              
                              
                                 1
                              
                           
                           
                              (
                              
                                 
                                    p
                                 
                                 
                                    10
                                 
                              
                              )
                           
                           )
                        
                        =
                        
                           {
                           
                              
                                 
                              
                           
                           ,
                           
                              
                                 
                              
                           
                           ,
                           
                              
                                 
                              
                           
                           }
                        
                      and 
                        
                           
                              T
                           
                           
                              S
                           
                        
                        
                           (
                           
                              adf
                           
                           
                              (
                              
                                 
                                    s
                                 
                                 
                                    4
                                 
                              
                              
                                 (
                                 
                                    
                                       p
                                    
                                    
                                       03
                                    
                                 
                                 )
                              
                              )
                           
                           ,
                           
                              adf
                           
                           
                              (
                              
                                 
                                    s
                                 
                                 
                                    1
                                 
                              
                              
                                 (
                                 
                                    
                                       p
                                    
                                    
                                       10
                                    
                                 
                                 )
                              
                              )
                           
                           )
                        
                        =
                        
                           {
                           
                              
                                 
                              
                           
                           ,
                           
                              
                                 
                              
                           
                           ,
                           
                              
                                 
                              
                           
                           }
                        
                     .

Similarly, the recommended assembly tolerance types of the remaining pairs of assembly feature surfaces and pairs of associated derived features of assembly feature surfaces can be generated as follows.
                        
                           
                              
                                 
                                    
                                       T
                                    
                                    
                                       S
                                    
                                 
                                 
                                    (
                                    
                                       ideal
                                    
                                    -
                                    
                                       planar
                                    
                                    ,
                                    
                                       
                                          s
                                       
                                       
                                          2
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             10
                                          
                                       
                                       )
                                    
                                    )
                                 
                                 =
                                 
                                    {
                                    
                                       
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                       
                                    
                                    }
                                 
                                 
                                 and
                                 
                                 
                                    
                                       T
                                    
                                    
                                       S
                                    
                                 
                                 
                                    (
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             2
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                04
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    ,
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             2
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                10
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    )
                                 
                                 =
                                 
                                    {
                                    
                                       
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                       
                                    
                                    }
                                 
                                 .
                              
                           
                           
                              
                                 
                                    
                                       T
                                    
                                    
                                       S
                                    
                                 
                                 
                                    (
                                    
                                       ideal
                                    
                                    -
                                    
                                       cylindrical
                                    
                                    ,
                                    
                                       
                                          s
                                       
                                       
                                          1
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             10
                                          
                                       
                                       )
                                    
                                    )
                                 
                                 =
                                 
                                    {
                                    
                                       
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                       
                                    
                                    }
                                 
                                 
                                 and
                                 
                                 
                                    
                                       T
                                    
                                    
                                       S
                                    
                                 
                                 
                                    (
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             3
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                04
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    ,
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             1
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                10
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    )
                                 
                                 =
                                 
                                    {
                                    
                                       
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                       
                                    
                                    }
                                 
                                 .
                              
                           
                           
                              
                                 
                                    
                                       T
                                    
                                    
                                       S
                                    
                                 
                                 
                                    (
                                    
                                       ideal
                                    
                                    -
                                    
                                       planar
                                    
                                    ,
                                    
                                       
                                          s
                                       
                                       
                                          3
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             10
                                          
                                       
                                       )
                                    
                                    )
                                 
                                 =
                                 
                                    {
                                    
                                       
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                       
                                    
                                    }
                                 
                                 
                                 and
                                 
                                 
                                    
                                       T
                                    
                                    
                                       S
                                    
                                 
                                 
                                    (
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             1
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                05
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    ,
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             3
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                10
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    )
                                 
                                 =
                                 
                                    {
                                    
                                       
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                       
                                    
                                    }
                                 
                                 .
                              
                           
                           
                              
                                 
                                    
                                       T
                                    
                                    
                                       S
                                    
                                 
                                 
                                    (
                                    
                                       ideal
                                    
                                    -
                                    
                                       cylindrical
                                    
                                    ,
                                    
                                       
                                          s
                                       
                                       
                                          6
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             10
                                          
                                       
                                       )
                                    
                                    )
                                 
                                 =
                                 
                                    {
                                    
                                       
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                       
                                    
                                    }
                                 
                                 
                                 and
                                 
                                 
                                    
                                       T
                                    
                                    
                                       S
                                    
                                 
                                 
                                    (
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             4
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                05
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    ,
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             6
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                10
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    )
                                 
                                 =
                                 
                                    {
                                    
                                       
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                       
                                    
                                    }
                                 
                                 .
                              
                           
                           
                              
                                 
                                    
                                       T
                                    
                                    
                                       S
                                    
                                 
                                 
                                    (
                                    
                                       ideal
                                    
                                    -
                                    
                                       cylindrical
                                    
                                    ,
                                    
                                       
                                          s
                                       
                                       
                                          5
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             10
                                          
                                       
                                       )
                                    
                                    )
                                 
                                 =
                                 
                                    {
                                    
                                       
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                       
                                    
                                    }
                                 
                                 
                                 and
                                 
                                 
                                    
                                       T
                                    
                                    
                                       S
                                    
                                 
                                 
                                    (
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             1
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                06
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    ,
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             5
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                10
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    )
                                 
                                 =
                                 
                                    {
                                    
                                       
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                       
                                    
                                    }
                                 
                                 .
                              
                           
                           
                              
                                 
                                    
                                       T
                                    
                                    
                                       S
                                    
                                 
                                 
                                    (
                                    
                                       ideal
                                    
                                    -
                                    
                                       cylindrical
                                    
                                    ,
                                    
                                       
                                          s
                                       
                                       
                                          5
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             10
                                          
                                       
                                       )
                                    
                                    )
                                 
                                 =
                                 
                                    {
                                    
                                       
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                       
                                    
                                    }
                                 
                                 
                                 and
                                 
                                 
                                    
                                       T
                                    
                                    
                                       S
                                    
                                 
                                 
                                    (
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             4
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                07
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    ,
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             5
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                10
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    )
                                 
                                 =
                                 
                                    {
                                    
                                       
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                       
                                    
                                    }
                                 
                                 .
                              
                           
                           
                              
                                 
                                    
                                       T
                                    
                                    
                                       S
                                    
                                 
                                 
                                    (
                                    
                                       ideal
                                    
                                    -
                                    
                                       cylindrical
                                    
                                    ,
                                    
                                       
                                          s
                                       
                                       
                                          7
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             10
                                          
                                       
                                       )
                                    
                                    )
                                 
                                 =
                                 
                                    {
                                    
                                       
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                       
                                    
                                    }
                                 
                                 
                                 and
                                 
                                 
                                    
                                       T
                                    
                                    
                                       S
                                    
                                 
                                 
                                    (
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             4
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                16
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    ,
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             7
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                10
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    )
                                 
                                 =
                                 
                                    {
                                    
                                       
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                       
                                    
                                    }
                                 
                                 .
                              
                           
                        
                     
                  

As can be seen from the 
                        
                           
                              T
                           
                           
                              S
                           
                        
                     s above, the number of the elements of each pair of 
                        
                           
                              T
                           
                           
                              S
                           
                        
                     s is 6, 6, 6, 6, 6, 6, 6, and 6, respectively. While for the same example in the polychromatic sets based approach  [45], these numbers are 7, 12, 7, 12, 7, 7, 7, and 11. Therefore, the number of recommended assembly tolerance types generated by the proposed approach can be further reduced. 
                        
                           •
                           
                              Determine the final marked assembly tolerance types. Based on Rule 1 and Rule 5, we select 
                                 
                                    
                                       T
                                    
                                    
                                       F
                                    
                                 
                                 
                                    (
                                    
                                       ideal
                                    
                                    -
                                    
                                       cylindrical
                                    
                                    ,
                                    
                                       
                                          s
                                       
                                       
                                          1
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             10
                                          
                                       
                                       )
                                    
                                    )
                                 
                                 =
                                 
                                    
                                       T
                                    
                                    
                                       F
                                    
                                 
                                 
                                    (
                                    
                                       ideal
                                    
                                    -
                                    
                                       cylindrical
                                    
                                    ,
                                    
                                       
                                          s
                                       
                                       
                                          5
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             10
                                          
                                       
                                       )
                                    
                                    )
                                 
                                 =
                                 
                                    
                                       T
                                    
                                    
                                       F
                                    
                                 
                                 
                                    (
                                    
                                       ideal
                                    
                                    -
                                    
                                       cylindrical
                                    
                                    ,
                                    
                                       
                                          s
                                       
                                       
                                          6
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             10
                                          
                                       
                                       )
                                    
                                    )
                                 
                                 =
                                 
                                    {
                                    
                                       
                                          
                                       
                                    
                                    }
                                 
                              . Based on Rule 1 and Rule 10, we select 
                                 
                                    
                                       T
                                    
                                    
                                       F
                                    
                                 
                                 
                                    (
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             3
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                04
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    ,
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             1
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                10
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    )
                                 
                                 =
                                 
                                    
                                       T
                                    
                                    
                                       F
                                    
                                 
                                 
                                    (
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             1
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                06
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    ,
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             5
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                10
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    )
                                 
                                 =
                                 
                                    
                                       T
                                    
                                    
                                       F
                                    
                                 
                                 
                                    (
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             4
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                05
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    ,
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             6
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                10
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    )
                                 
                                 =
                                 
                                    {
                                    
                                       
                                          
                                       
                                    
                                    }
                                 
                               and select 
                                 
                                    
                                       T
                                    
                                    
                                       F
                                    
                                 
                                 
                                    (
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             2
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                04
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    ,
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             2
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                10
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    )
                                 
                                 =
                                 
                                    
                                       T
                                    
                                    
                                       F
                                    
                                 
                                 
                                    (
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             1
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                05
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    ,
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             3
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                10
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    )
                                 
                                 =
                                 
                                    {
                                    
                                       
                                          
                                       
                                    
                                    }
                                 
                              . Based on Rule 1, Rule 7, and Rule 9, we select 
                                 
                                    
                                       T
                                    
                                    
                                       F
                                    
                                 
                                 
                                    (
                                    
                                       ideal
                                    
                                    -
                                    
                                       cylindrical
                                    
                                    ,
                                    
                                       
                                          s
                                       
                                       
                                          7
                                       
                                    
                                    
                                       (
                                       
                                          
                                             p
                                          
                                          
                                             10
                                          
                                       
                                       )
                                    
                                    )
                                 
                                 =
                                 
                                    {
                                    
                                       
                                          
                                       
                                    
                                    }
                                 
                               and select 
                                 
                                    
                                       T
                                    
                                    
                                       F
                                    
                                 
                                 
                                    (
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             4
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                16
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    ,
                                    
                                       adf
                                    
                                    
                                       (
                                       
                                          
                                             s
                                          
                                          
                                             7
                                          
                                       
                                       
                                          (
                                          
                                             
                                                p
                                             
                                             
                                                10
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    )
                                 
                                 =
                                 
                                    {
                                    
                                       
                                          
                                       
                                    
                                    }
                                 
                              .

In assembly tolerancing, the determinations of datums of the marked positional tolerances and values of all types of marked tolerances must be finished after the final marked assembly tolerance types are selected. In the determined final marked assembly tolerance types, 
                        
                     , 
                        
                     , and 
                        
                      belong to positional tolerances. We need to determine the datums of these three types of tolerances. According to ABox 
                        
                           
                              
                                 
                                    A
                                 
                                 
                                    S
                                    L
                                 
                              
                           
                           
                              
                                 (
                                 7
                                 )
                              
                           
                        
                     , we know that 
                        
                           
                              s
                           
                           
                              1
                           
                        
                        
                           (
                           
                              
                                 p
                              
                              
                                 10
                              
                           
                           )
                        
                        ,
                        
                           
                              s
                           
                           
                              5
                           
                        
                        
                           (
                           
                              
                                 p
                              
                              
                                 10
                              
                           
                           )
                        
                     , and 
                        
                           
                              s
                           
                           
                              6
                           
                        
                        
                           (
                           
                              
                                 p
                              
                              
                                 10
                              
                           
                           )
                        
                      are all outer cylindrical surfaces. Then according to Rule 12, we know that the datum of 
                        
                      is a straight line. Because the mate “
                        ∅
                        60
                        H
                        7
                        /
                        s
                        6
                     ” is a mate between the inner diameters of a bearing, according to Rule 21, the common axis of 
                        
                           
                              s
                           
                           
                              1
                           
                        
                        
                           (
                           
                              
                                 p
                              
                              
                                 10
                              
                           
                           )
                        
                        ,
                        
                           
                              s
                           
                           
                              5
                           
                        
                        
                           (
                           
                              
                                 p
                              
                              
                                 10
                              
                           
                           )
                        
                     , and 
                        
                           
                              s
                           
                           
                              6
                           
                        
                        
                           (
                           
                              
                                 p
                              
                              
                                 10
                              
                           
                           )
                        
                      is selected as the common datum of 
                        
                     . This common axis is also selected as the common datums of 
                        
                      based on Rule 21. Similarly, according to ABox 
                        
                           
                              
                                 
                                    A
                                 
                                 
                                    S
                                    L
                                 
                              
                           
                           
                              
                                 (
                                 7
                                 )
                              
                           
                        
                     , we know that 
                        
                           
                              s
                           
                           
                              7
                           
                        
                        
                           (
                           
                              
                                 p
                              
                              
                                 10
                              
                           
                           )
                        
                      is an outer cylindrical surface. Then according to Rule 12, we know that the datum of 
                        
                      is also a straight line. Because the mate “
                        ∅
                        60
                        H
                        7
                        /
                        s
                        6
                     ” is a mate between the inner diameters of a bearing, according to Rule 21, the common axis of 
                        
                           
                              s
                           
                           
                              1
                           
                        
                        
                           (
                           
                              
                                 p
                              
                              
                                 10
                              
                           
                           )
                        
                        ,
                        
                           
                              s
                           
                           
                              5
                           
                        
                        
                           (
                           
                              
                                 p
                              
                              
                                 10
                              
                           
                           )
                        
                        ,
                        
                           
                              s
                           
                           
                              6
                           
                        
                        
                           (
                           
                              
                                 p
                              
                              
                                 10
                              
                           
                           )
                        
                     , and 
                        
                           
                              s
                           
                           
                              7
                           
                        
                        
                           (
                           
                              
                                 p
                              
                              
                                 10
                              
                           
                           )
                        
                      is selected as the datum of 
                        
                     . The markings of final marked assembly tolerance types and corresponding datums of part 
                        
                           
                              p
                           
                           
                              10
                           
                        
                      are shown in Fig. 18
                     .

The last step of assembly tolerancing is to determine assembly tolerance values. Because the mate “
                        ∅
                        60
                        H
                        7
                        /
                        s
                        6
                     ” is a mate between an inner hole of a gear and a shaft, according to Rule 22, the accuracy grade of all form and positional tolerances is selected as 8. Then according to Rule 17, Rule 18, Rule 19, Rule 20, and Rule 23, we select “
                        t
                        1
                        =
                        0.011
                        
                        
                           mm
                        
                        ,
                        t
                        2
                        =
                        0.03
                        
                        
                           mm
                        
                        ,
                        t
                        3
                        =
                        0.04
                        
                        
                           mm
                        
                        ,
                        t
                        4
                        =
                        0.04
                        
                        
                           mm
                        
                        ,
                        t
                        5
                        =
                        0.013
                        
                        
                           mm
                        
                        ,
                        t
                        6
                        =
                        0.04
                        
                        
                           mm
                        
                        ,
                        t
                        7
                        =
                        0.011
                        
                        
                           mm
                        
                        ,
                        t
                        8
                        =
                        0.03
                        
                        
                           mm
                        
                        ,
                        t
                        9
                        =
                        ∅
                        0.03
                        
                        
                           mm
                        
                     , and 
                        t
                        10
                        =
                        ∅
                        0.04
                        
                        
                           mm
                        
                     ”. The markings of assembly tolerance specifications of part 
                        
                           
                              p
                           
                           
                              10
                           
                        
                      are shown in Fig. 19
                     .

@&#DISCUSSIONS@&#

An OWL-based assembly tolerance representation model and an approach for automatically generating assembly tolerance types in this model are proposed in this paper. As introduced in Section  2, a large number of works have also been devoted to the research of tolerance representation and automatic generation of tolerance types. It is quite necessary to make comparisons between our work and these works. Detailed comparisons are as follows.


                     
                        
                           •
                           Compared with the surface and graph model  [12–17], variational geometry model  [18–26], tolerance zone model  [27,28], structural model  [29,30], constraints model  [31–33], mathematical definition model  [34], XML model  [35], generalized intervals model  [36,37], and fuzzy logic model  [38], the proposed assembly tolerance representation model greatly supports the semantic interoperability in assembly tolerance specification design. In the proposed model, assembly tolerance information and constraint relations are represented in OWL and SWRL, respectively. By these ways, assembly tolerance information is able to be reused as much as possible. Due to the fact that OWL is based on description logics  [64], the proposed model has well-defined logic-based semantics, which make it possible to reason about the subsumption of concepts and inconsistence of ontologies within assembly tolerance representation knowledge base. Since the proposed model is stored in a single OWL file, assembly tolerance information in a heterogeneous environment is able to be reliably accessed and retrieved through a unified framework and data exchange for the model is quite convenient.

Compared with the GD&T global approach  [43], tolerancing hyper-graph approach  [44], and Anselmetti’s approach  [20], though our approach is not completely automatic, it only needs very little manual intervention. Specifically, the process of generating recommended assembly tolerance types is completely automatic, while only the process of determining the final marked assembly tolerance types needs manual intervention. Although FROOM system  [41,42] and polychromatic sets based approach  [45] also require very little manual intervention, the number of recommended assembly tolerance types generated in each approach is larger than the number in our approach under the same conditions. Furthermore, FROOM system mainly considers the topological surface connections and does not consider the technological surface connections, while our approach considers both of them. The polychromatic sets based approach introduces polychromatic sets to the research of tolerance specification design. Since it uses polychromatic sets to model assembly tolerances, the semantic interoperability cannot be well supported, while our approach can greatly support the semantic interoperability in assembly tolerance specification design.

Compared with Chase’s approach  [46], Mejbri’s approach  [47], the T-Maps approach  [16], and Anselmetti’s approach  [48], our approach is relatively complete. Chase’s approach is not able to be applied to an assembly. For complex assemblies, Mejbri’s approach still needs to be complemented. The T-Maps approach can only handle form and orientation tolerances. Anselmetti’s approach cannot address the problem of the generation of assembly tolerance types. By contrast, our approach can generate all types of assembly tolerances of a complex assembly so that it is relatively complete.

Compared with the graph-based approach  [15] and variational geometric constraint networks based approach  [49], our approach is highly efficient. In graph-based or variational geometric constraint networks based approach, if an assembly consists of a large number of parts, the construction of its graph-based tolerance network or variational geometric constraint network is extremely complicated. By contrast, the construction of necessary ABoxes in our approach can be automatically finished by computers. Even if these ABoxes need to be manually constructed, the processes are also highly efficient. This situation can be demonstrated through the example in Section  6. Besides, benefiting from the highly efficient reasoning ability provided by JESS, the process of reasoning with assembly tolerance types is also highly efficient.

@&#CONCLUSIONS@&#

In order to reduce the uncertainty and to support the semantic interoperability in assembly tolerance specification design, an approach for automatically generating assembly tolerance types in ontology-based assembly tolerance representation model is proposed in this paper. The proposed approach provides an effective technique for tolerance representation. In this approach, assembly tolerance information and constraint relations are described in OWL and SWRL, two representation languages devised by W3C, respectively. By these ways, assembly tolerance information is able to be reused as much as possible. Due to the fact that OWL is based on description logics, the proposed model has well-defined logical semantics, which make it possible to reason about subsumption of concepts and inconsistence of ontologies within assembly tolerance representation knowledge base. By means of transforming OWL-based structure knowledge into JESS facts, and SWRL-based constraint knowledge into JESS rules, actual generation processes of assembly tolerance types are carried out through the use of JESS. The proposed approach enables the reuse of assembly tolerance information and data exchange in the approach is quite convenient, so the semantic interoperability can be implemented. Furthermore, the approach is able to enhance clarity, uniformity, and consistency in assembly tolerance specification design. Mechanical designers will benefit from having a systematic tool with which they can conveniently design assembly tolerance types for complex assemblies. Since OWL is being used in several other domains, we believe that more advanced tools to interpret the assembly tolerance information in OWL will be available in the future.

@&#ACKNOWLEDGMENTS@&#

The authors appreciate the insightful comments from the two anonymous reviewers and Prof. Kunwoo Lee for the improvement of the paper and the extremely valuable contributions to the construction of the polychromatic sets based assembly tolerance representation model and the design of the practical example in Section  6 made by Dr. Yi Zhang and Prof. Zongbin Li in School of Mechanical Engineering of Xi’an Jiaotong University. The authors also would like to acknowledge the financial supports by the National Science Foundation of China (Nos 61163041 and 50865003) and the Foundation of Guangxi Key Lab of Trusted Software (No. kx201120).

@&#REFERENCES@&#

