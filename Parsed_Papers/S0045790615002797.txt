@&#MAIN-TITLE@&#Cooperative packet-forwarding mechanism for throughput improvement in multi-channel wireless networks

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           We propose a cooperative channel assignment and packet forwarding protocol.


                        
                        
                           
                           Our protocol reduces the transmission times for the low-data rate direct link users.


                        
                        
                           
                           Our protocol selects multi-hop path with min transmit time even direct path exists.


                        
                        
                           
                           Results show that our protocol notably improves network throughput over IEEE 802.11.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Cooperative communication

Direct path

Fairness

Channel assignment

Path selection

@&#ABSTRACT@&#


               
               
                  Typical MAC protocols for IEEE 802.11-based ad hoc networks employ a direct transmission strategy whenever the transmitter can directly reach the receiver (one-hop transmission). While such a design enjoys simplicity, it limits the number of admitted transmissions in a given neighborhood. Due to the performance anomaly of 802.11-based wireless networks, transmission with low data rates occupy the shared medium for longer periods of time. Occupying the transmission medium for a longer period of time results in less available transmission time for other nodes, which consequently reduces the number of transmitted packets during the same period of time, leading to a reduction in network throughput. To improve the overall network throughput, we present a cooperative multi-channel MAC protocol for single-hop wireless mobile ad hoc networks that attempts at computing the path with the minimum required transmission time for a given source–destination pair (including the channel assignment along that path). The proposed protocol attempts at improving network performance by means of cooperative communications. According to our approach, if the one-hop (direct) path between communicating nodes supports low data rate (requires longer transmission time), the source selects a multi-hop path to the destination such that the total amount of required transmission time is minimized. Through simulations, we show that our proposed protocol achieves significant throughput and fairness improvement compared to the standard IEEE 802.11-based protocol.
               
            

@&#INTRODUCTION@&#

Due to the growing demand for wireless applications and services, increasing their supported capacity and performance has become a challenging issue. A Wireless mobile ad hoc network (MANET) consists of a group of nodes that work together in a distributed manner and are capable of movement. These nodes are connected via wireless links without the use of the existing network infrastructure or centralized administration [1]. Ad hoc networks are used in areas where infrastructure is not presented or when using infrastructures is impractical. Wireless MANETs are used in different applications, such as military, civilian, personal, and emergency applications.

Typically, MAC protocols designed for IEEE 802.11-based MANETs utilize the direct path between the transmitter–receiver pair (one-hop transmission) to deliver data packets, irrespective of the supported data rate (e.g., [1–10]). Although such a mechanism is simple, however, it limits the total number of accepted transmissions in a given period of time, which decreases the overall network performance. This is because when the direct path has low date rate, the transmitter reserves the communication channel for a longer period of time preventing neighboring nodes from accessing the channel until its transmission is completed. This negatively affects network throughput and results in short-term fairness. Therefore, new cooperative MAC protocols are needed to effectively utilize the available resources and maximize network performance.

In this paper, we propose a cooperative channel assignment and packet forwarding protocol that uses cooperative communication with the multi-channel capability of wireless nodes in a single-hop MANET. Our proposed protocol aims at improving network performance by reducing the required transmission time for a given transmission that suffers from low-data rate direct link through selecting a multi-hop path (including channel assignment) with the minimum total required transmission time even through a direct one-hop path between the communicating pair exists. Specifically, when the direct path between the source and destination has lower data rate than the other possible paths, the source collaborates with other nodes to deliver its data packets to the destination. Through such collaboration, several nodes (called helper nodes) participate in forwarding the data from the source to the destination. According to the mechanism used in the proposed protocol, the source selects the path that guarantees the minimum transmission time (including channel assignment and helper selection) to deliver data packets. The source, destination and helper nodes form a multi-hop path from the source to the destination. Such cooperation between source, destination and helper nodes decreases the overall needed transmission time by selecting a higher data rate path. This preserves more channels and time for potential future transmissions (allows those transmissions to proceed earlier and to access the channels more frequently), which consequently improve network throughput and fairness. According to our proposed protocol, the source selects the path that guarantees the minimum transmission time (including channel assignment and helper selection) to deliver data packets. To evaluate the performance of our proposed protocol, we conduct simulations for both single-channel and multi-channel mobile ad hoc networks. Simulation results show that our protocol significantly improves the network throughput over the standard IEEE 802.11b protocol. The results also indicate that our protocols preserve fairness.

The rest of the paper is organized as follows. In Section 2, the related work is reviewed. Section 3 introduces the system model, and Section 4 provides the SNR and transmission time analysis. The proposed cooperative packet-forwarding protocol is described in Section 5. Simulation results and discussions are presented in Section 6. Finally, Section 7 provides concluding remarks.

@&#RELATED WORK@&#

Recently, several studies proposed solutions to the fairness problem in 802.11b wireless networks with the target of improving network throughput. In [2], the authors discussed the performance anomaly of an 802.11b network. They showed that the throughput of the network will be significantly decreased when at least one mobile node has lower bit rate. This is because this node will capture the channel for a long period of time. This will delay other nodes form accessing the channel. Their calculations and measurements proved that the probability of accessing the channel for all users is the same. This privileges low rate nodes over high rate nodes. In [3], the authors reduced the effect of the fairness problem by adjusting the packet size according to the transmission bit rate. They derived expressions to show that the channel utilization time for slow and fast nodes is fair. Then, all nodes in the network will have the same opportunity to access the channel. In [4], the authors proposed a novel approach to solve the performance anomaly by the means of packet aggregation. Packet aggregation is done using a dynamic time interval, when the channel occupancy time is larger than the transmission time of the nodes packet. In [5], the authors introduced the transmission probability 
                        
                           
                              
                                 p
                              
                              
                                 t
                              
                           
                        
                     , to 802.11b protocol, as new parameter to solve the performance anomaly problem. When this new protocol adjusted according to the bit rate, it gives all the nodes in the network identical channel utilization probability. Hyogon and others in [6] set the 
                        
                           
                              
                                 CW
                              
                              
                                 m
                              
                           
                           in
                        
                      (Contention Window) for each transmission such that the 
                        
                           
                              
                                 CW
                              
                              
                                 m
                              
                           
                           in
                        
                      is inversely proportional to the supported bit rate. To increase network capacity and throughput, several studies (e.g., [7–17]) have proposed different cooperative MAC protocols. In [7], the authors introduced the first cooperative MAC protocol “CoopMAC”. They defined two alternative solutions CoopMac I and CoopMac II. In CoopMac I, three new fields in the RTS packet were introduced; one of them is used to announce the MAC address of the selected helper. Because of the hardware complexity of adding new fields; the authors used “address 4” field in the IEEE 802.11 frame format in CoopMac II to indicate the helper’s address. CoopMAC I and II are basically based on the operation of the Distributed Coordination Function of the IEEE 802.11. Korakis [8] extended the work in [6] to be deployed in MANETs. In this protocol, the transmitter accesses the rate information in the Cooperation table and decides whether it’s better to send data through the one hop route or the two hop depending on the route rates. When it chooses to transmit via the two-hop path, the transmission time will be shorter compared to the one-hop path. In [10], Chou et al. presented a solution to perform cooperative communication in distributed wireless networks. The authors claimed that only one relay must participate in the cooperative transmission. In order to select the relay node among its neighbors, they developed mechanisms such as a busy tone and a special RTS (Relay-RTS). Kim and Lee [11] proposed a cooperative MAC protocol. They assumed that the operation of the protocol is performed by the existence of three elements; a low rate station, an AP (access point) and a higher rate station. The low rate sender station uses the path through the high rate station to forward data to the AP. Active relay-based cooperative medium access control (AR-CMAC) protocol was proposed in [12]. This protocol used in any multi-rate WLANs that are based on CSMA/CA with RTS/CTS (e.g., IEEE 802.11a/b/g). In AR-CMAC, the role of high-rate relay stations is shown to be important. High-rate relay stations help to reduce the time required to send the data of low-rate source stations as well as their own data by means of cooperation. In [13], the authors presented a single-channel multi-hop cooperative protocol called CoopMAC. In this protocol nodes with low data rate are being assisted by other high data rate nodes in order to minimize the total transmission time. Different cooperative MAC protocols (e.g., [15,19]) combined the capabilities of both multiple channels and cooperative communications in order to improve network performance. In [16], the authors introduced new a protocol called distributed information sharing (DISH) protocol. This protocol allows node to share their control information to help nodes in making more appropriate communication decisions in a single-channel network. The authors applied DISH to multi-channel ad hoc networks and designed a single-radio cooperative asynchronous multichannel MAC protocol called CAM-MAC. Finally, we note that several multi-channel MAC protocols (e.g., [18,19]), were previously designed to enhance network throughput. However, none of these protocols exploits cooperation between nodes when a direct path between communicating nodes exists.

We consider a mobile ad-hoc network (MANET) with decentralized control. This ad hoc network coexists geographically with 
                           
                              |
                              N
                              |
                           
                         nodes distributed randomly over the field. The nodes in the network are fully connected, in which all nodes can hear each other (single collision domain). We assume that the available spectrum is divided into M frequency channels, each with bandwidth BW. We assume that, for each frequency channel, the channel gain is stationary for the duration of one data transfer using the direct path (one-hop path). This is a typical assumption in any RTS/CTS-based protocol, including the IEEE 802.11 scheme [20]. As explained in [21,22], this assumption holds for typical mobility patterns and transmission rates. We also assume the availability of a common control channel to exchange control information. Each node in the network is equipped with two transceivers; one is used for control packet transmissions and the other can be tuned to any of the available data channels. In order to achieve the highest possible data rate, we assume that the control and data packets are sent at the maximum possible power (
                           
                              
                                 
                                    P
                                 
                                 
                                    max
                                 
                              
                           
                        ). We assume that the link quality information is available to all users. We note here that link quality measurement can be, generally, classified into three types, namely, active, passive, and cooperative probing [23–25]. In the network, there is an underlaying protocol that measures the quality of the links in the network and distributes among all nodes. An example of a such protocol is link state protocol. This protocol independently runs in the network. Usually, this protocol runs on the common control channels (CCC), which exists in any multi-channels network. The update on the link quality is performed in periodic fashion in the networks. For our purposes, we assume an underlaying protocol such as link state protocol is responsible for such update. The update depends on the number of nodes in the network, dense/sparse network. Generally, the update interval, when mobility is assumed, is between 2 and 4s (e.g., the MAODV and OMRP protocols).


                        Table 1
                         summarizes the main notation used in this paper.

We model the network as a graph 
                           
                              G
                              =
                              (
                              N
                              ,
                              E
                              )
                           
                        , where 
                           
                              N
                           
                         is the set of all nodes in the network, and 
                           
                              E
                           
                         is the set of all edges. Each edge 
                           
                              
                                 
                                    e
                                 
                                 
                                    i
                                    ,
                                    j
                                 
                              
                              =
                              
                                 
                                    
                                       
                                          
                                             n
                                          
                                          
                                             i
                                          
                                       
                                       ,
                                       
                                          
                                             n
                                          
                                          
                                             j
                                          
                                       
                                    
                                 
                              
                           
                         belongs to 
                           
                              E
                           
                        , if-and-only-if, users 
                           
                              
                                 
                                    n
                                 
                                 
                                    i
                                 
                              
                           
                         and 
                           
                              
                                 
                                    n
                                 
                                 
                                    j
                                 
                              
                           
                         have at least one common available data channel. Each edge 
                           
                              
                                 
                                    e
                                 
                                 
                                    i
                                    ,
                                    j
                                 
                              
                           
                         may contain multiple links, where the number of links is equal to the number of common available data channels between 
                           
                              
                                 
                                    n
                                 
                                 
                                    i
                                 
                              
                           
                         and 
                           
                              
                                 
                                    n
                                 
                                 
                                    j
                                 
                              
                           
                         (e.g., 
                           
                              
                                 
                                    e
                                 
                                 
                                    i
                                    ,
                                    j
                                 
                                 
                                    (
                                    m
                                    )
                                 
                              
                           
                         is the link that corresponds to channel m of edge 
                           
                              
                                 
                                    e
                                 
                                 
                                    i
                                    ,
                                    j
                                 
                              
                           
                        ).

The most important parameter in our analysis is the required transmission time 
                              
                                 
                                    
                                       T
                                    
                                    
                                       tr
                                    
                                 
                                 (
                                 
                                    
                                       e
                                    
                                    
                                       i
                                       ,
                                       j
                                    
                                    
                                       (
                                       m
                                       )
                                    
                                 
                                 )
                              
                           . 
                              
                                 
                                    
                                       T
                                    
                                    
                                       tr
                                    
                                 
                                 (
                                 
                                    
                                       e
                                    
                                    
                                       i
                                       ,
                                       j
                                    
                                    
                                       (
                                       m
                                       )
                                    
                                 
                                 )
                              
                            can be computed for a given data packet of size 
                              
                                 
                                    
                                       D
                                    
                                    
                                       pkt
                                    
                                 
                              
                            over a given channel m between any two communicating nodes 
                              
                                 
                                    
                                       n
                                    
                                    
                                       i
                                    
                                 
                              
                            and 
                              
                                 
                                    
                                       n
                                    
                                    
                                       j
                                    
                                 
                              
                            as [22]:
                              
                                 (1)
                                 
                                    
                                       
                                          T
                                       
                                       
                                          tr
                                       
                                    
                                    
                                       
                                          
                                             
                                                
                                                   e
                                                
                                                
                                                   i
                                                   ,
                                                   j
                                                
                                                
                                                   (
                                                   m
                                                   )
                                                
                                             
                                          
                                       
                                    
                                    =
                                    
                                       
                                          
                                             
                                                D
                                             
                                             
                                                pkt
                                             
                                          
                                       
                                       
                                          R
                                          
                                             
                                                
                                                   
                                                      
                                                         e
                                                      
                                                      
                                                         i
                                                         ,
                                                         j
                                                      
                                                      
                                                         (
                                                         m
                                                         )
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                    ,
                                 
                              
                           where 
                              
                                 R
                                 (
                                 
                                    
                                       e
                                    
                                    
                                       i
                                       ,
                                       j
                                    
                                    
                                       (
                                       m
                                       )
                                    
                                 
                                 )
                              
                            can take one of the following values (1Mbps, 2Mbps, 5.5Mbps and 11Mbps) according to the set of supported rates by the IEEE 802.11b standard. The benchmark transmission rate over channel m can be expressed as:
                              
                                 (2)
                                 
                                    R
                                    
                                       
                                          
                                             
                                                
                                                   e
                                                
                                                
                                                   i
                                                   ,
                                                   j
                                                
                                                
                                                   (
                                                   m
                                                   )
                                                
                                             
                                          
                                       
                                    
                                    =
                                    BW
                                    ×
                                    
                                       
                                          log
                                       
                                       
                                          2
                                       
                                    
                                    
                                       
                                          
                                             1
                                             +
                                             
                                                
                                                   
                                                      
                                                         P
                                                      
                                                      
                                                         max
                                                      
                                                   
                                                   ×
                                                   g
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  e
                                                               
                                                               
                                                                  i
                                                                  ,
                                                                  j
                                                               
                                                               
                                                                  (
                                                                  m
                                                                  )
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                                
                                                   BW
                                                   ×
                                                   
                                                      
                                                         N
                                                      
                                                      
                                                         0
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                    ,
                                 
                              
                           where 
                              
                                 g
                                 (
                                 
                                    
                                       e
                                    
                                    
                                       i
                                       ,
                                       j
                                    
                                    
                                       (
                                       m
                                       )
                                    
                                 
                                 )
                              
                            is the link gain over channel m, and 
                              
                                 
                                    
                                       N
                                    
                                    
                                       0
                                    
                                 
                              
                            is the thermal power density.

As stated above, there are four IEEE 802.11 standard values for the data rate R (Fig. 1
                            shows a typical Rate–SNR relationship for 5MHz bandwidth). According to these values, signal to noise ratio (SNR) over a channel with bandwidth BW between any two communicating nodes 
                              
                                 
                                    
                                       N
                                    
                                    
                                       s
                                    
                                 
                              
                            and 
                              
                                 
                                    
                                       N
                                    
                                    
                                       D
                                    
                                 
                              
                            can be determined using the following relationship [26–28]:
                              
                                 (3)
                                 
                                    SNR
                                    =
                                    
                                       
                                          
                                             
                                                P
                                             
                                             
                                                rec
                                             
                                          
                                       
                                       
                                          
                                             
                                                P
                                             
                                             
                                                noise
                                             
                                          
                                       
                                    
                                    =
                                    
                                       
                                          2
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      R
                                                   
                                                   
                                                      BW
                                                   
                                                
                                             
                                          
                                       
                                    
                                    -
                                    1
                                    ,
                                 
                              
                           where 
                              
                                 
                                    
                                       P
                                    
                                    
                                       noise
                                    
                                 
                                 =
                                 BW
                                 ×
                                 
                                    
                                       N
                                    
                                    
                                       0
                                    
                                 
                              
                            is the noise power and 
                              
                                 
                                    
                                       P
                                    
                                    
                                       rec
                                    
                                 
                              
                            is the received power at distance d from the transmitter and is given by [29]:
                              
                                 (4)
                                 
                                    
                                       
                                          P
                                       
                                       
                                          rec
                                       
                                    
                                    =
                                    
                                       
                                          P
                                       
                                       
                                          0
                                       
                                    
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            d
                                                         
                                                         
                                                            0
                                                         
                                                      
                                                   
                                                   
                                                      d
                                                   
                                                
                                             
                                          
                                       
                                       
                                          n
                                       
                                    
                                    ,
                                 
                              
                           where 
                              
                                 
                                    
                                       d
                                    
                                    
                                       0
                                    
                                 
                              
                            is the close-in-distance (i.e., the distance from the transmitter after which the RF channel can be approximated by the free-space-model), and n is the path loss exponent (typically 
                              
                                 2
                                 ⩽
                                 n
                                 ≤
                                 6
                              
                           ). The distance 
                              
                                 
                                    
                                       d
                                    
                                    
                                       0
                                    
                                 
                              
                            can be determined from measurements or can be estimated as:
                              
                                 (5)
                                 
                                    
                                       
                                          d
                                       
                                       
                                          0
                                       
                                    
                                    =
                                    max
                                    
                                       
                                          
                                             
                                                
                                                   2
                                                   
                                                      
                                                         D
                                                      
                                                      
                                                         a
                                                      
                                                      
                                                         2
                                                      
                                                   
                                                   f
                                                
                                                
                                                   c
                                                
                                             
                                             ,
                                             
                                                
                                                   D
                                                
                                                
                                                   a
                                                
                                             
                                             ,
                                             
                                                
                                                   c
                                                
                                                
                                                   f
                                                
                                             
                                          
                                       
                                    
                                    ,
                                 
                              
                           where 
                              
                                 
                                    
                                       D
                                    
                                    
                                       a
                                    
                                 
                              
                            is the antenna length of the transmitter, c is the speed of light and f is the carrier frequency. Let 
                              
                                 
                                    
                                       P
                                    
                                    
                                       0
                                    
                                 
                              
                            and 
                              
                                 
                                    
                                       P
                                    
                                    
                                       t
                                    
                                 
                              
                            respectively denote the received power at the close-in-distance and the node transmitted power. Then, 
                              
                                 
                                    
                                       P
                                    
                                    
                                       0
                                    
                                 
                              
                            can be estimated as follows [29]:
                              
                                 (6)
                                 
                                    
                                       
                                          P
                                       
                                       
                                          0
                                       
                                    
                                    =
                                    
                                       
                                          
                                             
                                                c
                                             
                                             
                                                2
                                             
                                          
                                          
                                             
                                                G
                                             
                                             
                                                t
                                             
                                          
                                          
                                             
                                                G
                                             
                                             
                                                r
                                             
                                          
                                       
                                       
                                          
                                             
                                                (
                                                4
                                                π
                                                
                                                   
                                                      d
                                                   
                                                   
                                                      0
                                                   
                                                
                                                )
                                             
                                             
                                                2
                                             
                                          
                                          
                                             
                                                f
                                             
                                             
                                                2
                                             
                                          
                                       
                                    
                                    
                                       
                                          P
                                       
                                       
                                          tr
                                       
                                    
                                    ,
                                 
                              
                           where 
                              
                                 
                                    
                                       G
                                    
                                    
                                       t
                                    
                                 
                              
                            and 
                              
                                 
                                    
                                       G
                                    
                                    
                                       r
                                    
                                 
                              
                            denote transmit and receive antenna gains, respectively.

In this section, we can present our problem statement as follows. Given a graph 
                        
                           G
                           =
                           (
                           N
                           ,
                           E
                           )
                        
                     , the available channels between all nodes and the required transmission time 
                        
                           
                              
                                 T
                              
                              
                                 tr
                              
                           
                           (
                           
                              
                                 e
                              
                              
                                 i
                                 ,
                                 j
                              
                              
                                 (
                                 m
                                 )
                              
                           
                           )
                        
                     , computed using Eq. (1), our objective is to find the best transmission strategy for a given transmission between a source node 
                        
                           
                              
                                 N
                              
                              
                                 s
                              
                           
                        
                      and a destination node 
                        
                           
                              
                                 N
                              
                              
                                 D
                              
                           
                        
                     , which includes channel assignment and relay selection (path selection (
                        
                           
                              
                                 p
                              
                              
                                 ∗
                              
                           
                        
                     )), such that the overall transmission time needed for that transmission is minimized. Mathematically, our problem can be formulated as follows:
                        
                           (7)
                           
                              
                                 
                                    p
                                 
                                 
                                    ∗
                                 
                              
                              =
                              arg
                              
                              
                                 
                                    
                                       min
                                    
                                    
                                       p
                                       ∈
                                       P
                                    
                                 
                              
                              
                                 
                                    
                                       
                                          
                                             T
                                          
                                          
                                             tr
                                          
                                          
                                             (
                                             p
                                             )
                                          
                                       
                                       (
                                       
                                          
                                             N
                                          
                                          
                                             s
                                          
                                       
                                       ,
                                       
                                          
                                             N
                                          
                                          
                                             D
                                          
                                       
                                       )
                                    
                                 
                              
                              ,
                           
                        
                     where 
                        
                           p
                           =
                           1
                           ,
                           2
                           ,
                           3
                           ,
                           …
                           ,
                           |
                           P
                           |
                           ∈
                           |
                           P
                           |
                        
                     , and 
                        
                           |
                           P
                           |
                        
                      is the set of all possible available paths between 
                        
                           
                              
                                 N
                              
                              
                                 s
                              
                           
                        
                      and 
                        
                           
                              
                                 N
                              
                              
                                 D
                              
                           
                        
                      in the network, including the direct one. The minimum transmission time 
                        
                           
                              
                                 T
                              
                              
                                 tr
                              
                              
                                 (
                                 p
                                 )
                              
                           
                           (
                           
                              
                                 N
                              
                              
                                 s
                              
                           
                           ,
                           
                              
                                 N
                              
                              
                                 D
                              
                           
                           )
                        
                      is given by:
                        
                           (8)
                           
                              
                                 
                                    T
                                 
                                 
                                    tr
                                 
                                 
                                    (
                                    p
                                    )
                                 
                              
                              (
                              
                                 
                                    N
                                 
                                 
                                    s
                                 
                              
                              ,
                              
                                 
                                    N
                                 
                                 
                                    D
                                 
                              
                              )
                              =
                              
                                 
                                    
                                       min
                                    
                                    
                                       m
                                       ∈
                                       M
                                    
                                 
                              
                              
                                 
                                    
                                       
                                          
                                             T
                                          
                                          
                                             tr
                                          
                                          
                                             min
                                          
                                       
                                       (
                                       
                                          
                                             N
                                          
                                          
                                             s
                                          
                                       
                                       ,
                                       
                                          
                                             N
                                          
                                          
                                             D
                                          
                                       
                                       )
                                    
                                 
                              
                              .
                           
                        
                     
                  

The main idea of our proposed solution is to maximize network throughput and to achieve fairness enhancement by the means of proper channel assignment and forwarding nodes selection. To illustrate the mechanism of our proposed protocol we are first considering a network with a single channel, and then it is going to be generalized on a multi-channel network.

In a given single channel network, assume a source node 
                           
                              
                                 
                                    N
                                 
                                 
                                    s
                                 
                              
                           
                         has a packet of size 
                           
                              
                                 
                                    D
                                 
                                 
                                    pkt
                                 
                              
                           
                         to transmit to a destination node 
                           
                              
                                 
                                    N
                                 
                                 
                                    D
                                 
                              
                           
                         (as an example, see Fig. 2
                        ). As mentioned before, to compute the best transmission strategy to transmit D Mbps between 
                           
                              
                                 
                                    N
                                 
                                 
                                    s
                                 
                              
                           
                         and 
                           
                              
                                 
                                    N
                                 
                                 
                                    D
                                 
                              
                           
                        , we need to choose the optimum path 
                           
                              
                                 
                                    p
                                 
                                 
                                    ∗
                                 
                              
                           
                         between 
                           
                              
                                 
                                    N
                                 
                                 
                                    s
                                 
                              
                           
                         and 
                           
                              
                                 
                                    N
                                 
                                 
                                    D
                                 
                              
                           
                        . In such a network as shown in Fig. 2, there are three available loop-free paths between 
                           
                              
                                 
                                    N
                                 
                                 
                                    s
                                 
                              
                           
                         and 
                           
                              
                                 
                                    N
                                 
                                 
                                    D
                                 
                              
                           
                        , the direct path and two other multi-hop paths. The optimum path 
                           
                              
                                 
                                    p
                                 
                                 
                                    ∗
                                 
                              
                           
                         is the path that supports the minimum transmission time compared to the other paths and can be found using Dijikstra’s algorithm as [30]:
                           
                              (9)
                              
                                 
                                    
                                       T
                                    
                                    
                                       tr
                                    
                                    
                                       min
                                    
                                 
                                 (
                                 
                                    
                                       N
                                    
                                    
                                       s
                                    
                                 
                                 ,
                                 
                                    
                                       N
                                    
                                    
                                       D
                                    
                                 
                                 )
                                 =
                                 
                                    
                                       
                                          min
                                       
                                       
                                          p
                                          ∈
                                          P
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                T
                                             
                                             
                                                tr
                                             
                                             
                                                (
                                                p
                                                )
                                             
                                          
                                          (
                                          
                                             
                                                N
                                             
                                             
                                                s
                                             
                                          
                                          ,
                                          
                                             
                                                N
                                             
                                             
                                                D
                                             
                                          
                                          )
                                       
                                    
                                 
                                 ,
                                 
                                 p
                                 =
                                 1
                                 ,
                                 2
                                 ,
                                 …
                                 ,
                                 |
                                 P
                                 |
                                 ,
                              
                           
                        where 
                           
                              |
                              P
                              |
                           
                         is the total number of available paths between 
                           
                              
                                 
                                    N
                                 
                                 
                                    s
                                 
                              
                           
                         and 
                           
                              
                                 
                                    N
                                 
                                 
                                    D
                                 
                              
                           
                        , and 
                           
                              
                                 
                                    T
                                 
                                 
                                    tr
                                 
                                 
                                    (
                                    p
                                    )
                                 
                              
                              (
                              
                                 
                                    N
                                 
                                 
                                    s
                                 
                              
                              ,
                              
                                 
                                    N
                                 
                                 
                                    D
                                 
                              
                              )
                           
                         is the required transmission time over path p, which is given by:
                           
                              (10)
                              
                                 
                                    
                                       T
                                    
                                    
                                       tr
                                    
                                    
                                       (
                                       p
                                       )
                                    
                                 
                                 (
                                 
                                    
                                       N
                                    
                                    
                                       s
                                    
                                 
                                 ,
                                 
                                    
                                       N
                                    
                                    
                                       D
                                    
                                 
                                 )
                                 =
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          h
                                       
                                    
                                 
                                 
                                    
                                       T
                                    
                                    
                                       
                                          
                                             tr
                                          
                                          
                                             p
                                             ,
                                             h
                                          
                                       
                                    
                                 
                                 ,
                                 
                                 h
                                 =
                                 1
                                 ,
                                 2
                                 ,
                                 …
                                 ,
                                 |
                                 
                                    
                                       H
                                    
                                    
                                       p
                                    
                                 
                                 |
                                 ,
                              
                           
                        where 
                           
                              |
                              
                                 
                                    H
                                 
                                 
                                    p
                                 
                              
                              |
                           
                         is the total number of hops in path p, and 
                           
                              
                                 
                                    T
                                 
                                 
                                    
                                       
                                          tr
                                       
                                       
                                          p
                                          ,
                                          h
                                       
                                    
                                 
                              
                           
                         is the transmission time needed to transmit D Mbps between any two communicating paths along path p.

After choosing the path 
                           
                              
                                 
                                    p
                                 
                                 
                                    ∗
                                 
                              
                           
                        , node 
                           
                              
                                 
                                    N
                                 
                                 
                                    s
                                 
                              
                           
                         sends an RTS packet contains its address, the destination’s address and the helper node (nodes) address (addresses). Then, node 
                           
                              
                                 
                                    N
                                 
                                 
                                    D
                                 
                              
                           
                         replies with a CTS packet. After that, node 
                           
                              
                                 
                                    N
                                 
                                 
                                    s
                                 
                              
                           
                         sends the data packet to node 
                           
                              
                                 
                                    N
                                 
                                 
                                    D
                                 
                              
                           
                         through the selected path. Finally, node 
                           
                              
                                 
                                    N
                                 
                                 
                                    D
                                 
                              
                           
                         sends an ACK to confirm data reception.

In a multi-channel network, the available spectrum is divided into M frequency channels each with bandwidth BW. Fig. 3
                        (a) gives an example of a multi-channel network. The previous steps used in the single channel network are applied here, but for every channel i (
                           
                              i
                              =
                              1
                              ,
                              …
                              ,
                              M
                           
                        ). Note that there are P paths from node 
                           
                              
                                 
                                    N
                                 
                                 
                                    s
                                 
                              
                           
                         to node 
                           
                              
                                 
                                    N
                                 
                                 
                                    D
                                 
                              
                           
                        . For each path 
                           
                              p
                              ∈
                              P
                           
                         with 
                           
                              |
                              
                                 
                                    H
                                 
                                 
                                    p
                                 
                              
                              |
                           
                         hops, 
                           
                              
                                 
                                    N
                                 
                                 
                                    s
                                 
                              
                           
                         calculates the achievable transmission rates over the various links (channel) between communicating nodes in each hop h along path p. Then, our algorithm applies Dijikstra’s algorithm to select the best path along each channel 
                           
                              m
                              ∈
                              M
                           
                         such that:
                           
                              (11)
                              
                                 
                                    
                                       p
                                    
                                    
                                       m
                                    
                                    
                                       ∗
                                    
                                 
                                 =
                                 arg
                                 
                                 
                                    
                                       
                                          min
                                       
                                       
                                          p
                                          ∈
                                          P
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                T
                                             
                                             
                                                
                                                   
                                                      tr
                                                   
                                                   
                                                      (
                                                      m
                                                      )
                                                   
                                                
                                             
                                             
                                                (
                                                p
                                                )
                                             
                                          
                                          (
                                          
                                             
                                                N
                                             
                                             
                                                s
                                             
                                          
                                          ,
                                          
                                             
                                                N
                                             
                                             
                                                D
                                             
                                          
                                          )
                                       
                                    
                                 
                                 ,
                              
                           
                        where 
                           
                              
                                 
                                    T
                                 
                                 
                                    
                                       
                                          tr
                                       
                                       
                                          (
                                          m
                                          )
                                       
                                    
                                 
                                 
                                    (
                                    p
                                    )
                                 
                              
                              (
                              
                                 
                                    N
                                 
                                 
                                    s
                                 
                              
                              ,
                              
                                 
                                    N
                                 
                                 
                                    D
                                 
                              
                              )
                           
                         is the transmission time over all the available paths along a given channel 
                           
                              m
                              ∈
                              M
                           
                         (see Eq. (10)).

Each node in the network has an infinite buffer size compared to the data packet size. After that, we have M paths (see Fig. 3(b)), each of them supports a minimum transmission time among P paths along a given channel.

The last step is to choose the path along a channel 
                           
                              
                                 
                                    m
                                 
                                 
                                    ∗
                                 
                              
                              =
                              
                                 
                                    m
                                 
                                 
                                    h
                                    ,
                                    p
                                 
                                 
                                    ∗
                                 
                              
                           
                         with the maximum rate (equivalently minimum transmission time) among all the available channels (as an example see Fig. 3(c)), i.e.,
                           
                              (12)
                              
                                 
                                    
                                       m
                                    
                                    
                                       p
                                       ,
                                       h
                                    
                                    
                                       ∗
                                    
                                 
                                 =
                                 arg
                                 
                                 
                                    
                                       
                                          min
                                       
                                       
                                          m
                                          ∈
                                          M
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                T
                                             
                                             
                                                
                                                   
                                                      tr
                                                   
                                                   
                                                      p
                                                      ,
                                                      h
                                                   
                                                
                                             
                                             
                                                (
                                                m
                                                )
                                             
                                          
                                       
                                    
                                 
                                 .
                              
                           
                        
                     

After selecting the best channel between all the available channels, node 
                           
                              
                                 
                                    N
                                 
                                 
                                    s
                                 
                              
                           
                         performs the packet forwarding procedure through the selected helper nodes until reaching node 
                           
                              
                                 
                                    N
                                 
                                 
                                    D
                                 
                              
                           
                        .

Suppose we have a group of nodes (A, B, C, D, and E) that are distributed in a grid. We assume that node A has a packet of size 
                           
                              
                                 
                                    D
                                 
                                 
                                    pkt
                                 
                              
                              =
                              4
                           
                        
                        kB to transmit to node B. We consider both one- and three-channel scenarios (Figs. 4 and 6
                        , respectively).

In the first scenario, we calculate the transmission time needed over the first path used by the IEEE 802.11 standard using Eq. (1), which equals to 
                           
                              
                                 
                                    T
                                 
                                 
                                    1
                                 
                              
                              =
                              32
                              
                              ms
                           
                        . For the two-hop and three-hop paths, the required transmission times respectively equal to 
                           
                              
                                 
                                    T
                                 
                                 
                                    2
                                 
                              
                              =
                              
                                 
                                    ∑
                                 
                                 
                                    i
                                    =
                                    1
                                 
                                 
                                    2
                                 
                              
                              
                                 
                                    D
                                 
                                 
                                    
                                       
                                          R
                                       
                                       
                                          i
                                       
                                    
                                 
                              
                              =
                              17
                              
                              ms
                           
                        , and 
                           
                              
                                 
                                    T
                                 
                                 
                                    3
                                 
                              
                              =
                              
                                 
                                    ∑
                                 
                                 
                                    i
                                    =
                                    1
                                 
                                 
                                    3
                                 
                              
                              
                                 
                                    D
                                 
                                 
                                    
                                       
                                          R
                                       
                                       
                                          i
                                       
                                    
                                 
                              
                              =
                              12.24
                              
                              ms
                           
                        . According to the mechanism used in our proposed protocol, the transmitter chooses the third route as it requires the minimum transmission time (12.24ms). Note that based on the IEEE 802.11 protocol, path 1 will be selected, which requires 
                           
                              32
                              
                              ms
                           
                        . The throughput improvement when the third path is selected over the other paths is shown in the timeline diagram shown in Fig. 5
                        . It is clear that by using the third path, throughput performance is almost three times of that of the direct path, which means that the performance of our algorithm significantly outperforms that of the typical 802.11 standard. We note here that our proposed algorithm selects the direct path when its transmission time is lower than that of the multi-hop path. On the other hand, if there is a multi-hop path that has lower transmission time compared with the direct path, then the algorithm selects that path. This depends on the quality of the links in the network and the available resources such as, number of frequencies and number of nodes.

For the multi-channel scenario shown in Fig. 6
                        , the transmitter computes the transmission rates for each hop in all paths over all available channels. Then, for each channel, it chooses the path with the overall highest rate. After that, it chooses the best path (best channel) with the minimum transmission time between these three paths. In our example, the transmission time for the direct path over the three channels are 
                           
                              
                                 
                                    T
                                 
                                 
                                    1
                                 
                                 
                                    1
                                 
                              
                              =
                              16
                              
                              ms,
                              
                              
                                 
                                    T
                                 
                                 
                                    1
                                 
                                 
                                    2
                                 
                              
                              =
                              32
                              
                              ms
                           
                        , and 
                           
                              
                                 
                                    T
                                 
                                 
                                    1
                                 
                                 
                                    3
                                 
                              
                              =
                              16
                              
                              ms
                           
                        . Bases on these three values, the transmitter chooses either the first or the third channel.

For the two-hop path, the transmission time is calculated using Eq. (12) as follows: 
                           
                              
                                 
                                    T
                                 
                                 
                                    2
                                 
                                 
                                    1
                                 
                              
                              =
                              9.31
                              
                              ms
                           
                         and 
                           
                              
                                 
                                    T
                                 
                                 
                                    2
                                 
                                 
                                    2
                                 
                              
                              =
                              
                                 
                                    T
                                 
                                 
                                    2
                                 
                                 
                                    3
                                 
                              
                              =
                              32
                              
                              ms
                           
                        . Note that the transmitter chooses channel 1. For the last path (3-hop paths), the transmission time over the three channels are 
                           
                              
                                 
                                    T
                                 
                                 
                                    3
                                 
                                 
                                    1
                                 
                              
                              =
                              8.73
                              
                              ms,
                              
                              
                                 
                                    T
                                 
                                 
                                    3
                                 
                                 
                                    2
                                 
                              
                              =
                              25.31
                              
                              ms
                           
                        , and 
                           
                              
                                 
                                    T
                                 
                                 
                                    3
                                 
                                 
                                    3
                                 
                              
                              =
                              21.81
                              
                              ms
                           
                        . According to our algorithm, transmitter A selects channel 1 and path 3 to transmit its data packet to receiver B. This path is chosen over the direct path, which consequently improves network performance.

@&#PERFORMANCE EVALUATION@&#

In this section, we conduct simulation experiments to evaluate the performance of our proposed protocol for both single channel multi-relay (SCMR), and multi-channel multi-relay (MCMR) scenarios. Our proposed protocol is compared with the standard IEEE 802.11b protocol. Our simulations are developed using MATLAB. First, we set a random graph by creating 
                           
                              N
                              =
                              25
                           
                         users. Their location is randomly assigned within 
                           
                              200
                              
                              m
                              ×
                              200
                              
                              m
                           
                         simulation area. We consider an additive white Gaussian noise (AWGN) channel with 
                           
                              n
                              =
                              4
                           
                         to describe the channel gain between any two users in the network. We set the bandwidth and the thermal noise power density to 
                           
                              BW
                              =
                              5
                           
                        
                        MHz, and 
                           
                              
                                 
                                    N
                                 
                                 
                                    0
                                 
                              
                              =
                              2.5
                              ×
                              
                                 
                                    10
                                 
                                 
                                    -
                                    21
                                 
                              
                           
                        
                        W/Hz for all channels. The data-packet size is set to 2-kB. We use the fairness index in [31] to quantify the fairness of a scheme according to the throughput of all users in the network. Fairness index values closer to 1 indicate better fairness.

In this section, we study throughput improvement and fairness enhancement on a SCMR network. We compare the results with that of an IEEE802.11b-based MAC protocol.


                           The impact of transmit power: We first study the impact of the transmitted power 
                              
                                 
                                    
                                       P
                                    
                                    
                                       tr
                                    
                                 
                              
                            on network performance (i.e., throughput) for both the IEEE 802.11b (direct) path and the multi-hop path under single channel scenario (SCMR). Fig. 7
                            depicts that, as the transmission power increases, the throughput increases for both direct and the SCMR paths. It also reveals that under high transmission power values (over 0.6W); the achieved throughput performance for our protocol and the IEEE 802.11b protocol is the same. This is because the transmission data rates over all links become high, and our algorithm chooses the standard IEEE 802.11b (direct) path. It is clear from Fig. 7 that our algorithm improves the performance by up to 50% under low transmit power levels.


                           Fig. 8
                            compares the average number of hops as a function of the transmission power under the SCMR protocol for different field areas for 
                              
                                 N
                                 =
                                 25
                              
                            users. It shows that as the transmission power increases the average number of hops decreases. This can be explained as follows: as the transmission power increases, a transmitting node can reach the receiving node in a less number of hops (Average number of hops=1). Also, as the area size increases the transmitter needs more hops to reach the receiver, because the distances between nodes increase (lower data rates) as the area size increases. We note here that the number of occurrences for selecting the direct path depends on several parameters in the network such as the number of nodes, the number of available channels, the transmission range, dense network/sparse network. Fig. 8 depicts that as the transmission power increases, when the network area is fixed, the algorithm tends to select the direct path more frequently. Also, for a fixed transmission power, when the area decreases (dense network), the algorithm tends to select the direct path more frequently. On the other hand, when we have a sparse network the direct path may not be available (this is depend on the transmission power) and therefore, the algorithms selects multi-hop paths.


                           The impact of packet size: In this section, we study the impact of packet size on the performance under different transmission power levels (i.e., 
                              
                                 
                                    
                                       P
                                    
                                    
                                       tr
                                    
                                 
                                 =
                                 0.1
                                 ,
                                 0.3
                                 ,
                                 0.5
                              
                           
                           W). Fig. 9
                            depicts that, for a certain power level, as the packet size increases the throughput almost remains constant for both the direct and multi-hop paths. This is because as the packet size increases, longer transmission time is needed, and hence the number of packets sent in a certain time period decreases. Therefore the throughput remains constant. Fig. 9 also shows the performance enhancement over the 802.11-based protocol decreases as the power level increases.


                           Fairness performance of SCMR: We compare the fairness index of SCMR to that of the IEEE 802.11b. Fig. 10
                           (a) and (b) show the fairness index vs. the transmission power and the packet size, respectively. These figures show that SCMR slightly improves the fairness properties of the network compared to the standard IEEE 802.11b.

@&#CONCLUSION@&#

In this paper, we proposed a cooperative multi-channel MAC protocol for wireless ad hoc networks. We studied the performance of our protocol under single and multi-channel scenarios with multiple relays (SCMR and MCMR). We compared the performance of our proposed protocol to that of IEEE 802.11b standard. Simulation results show that our protocol significantly improves network throughput under low-to-medium transmission power levels while slightly improves fairness (both protocols have comparable performance under high transmit power levels). The results also showed that the transmission range adversely affects network performance (this is because as the transmission range increases, a transmitting node needs more number of hops in order to reach the destination). Results showed that using multiple channels can significantly improve network performance. Finally, we showed that varying the packet size has almost no effect on enhancing network throughput.

@&#ACKNOWLEDGMENT@&#

This work is partially based on the MSc. thesis in [17]. The work of Osamah Badarneh and Raed Mesleh was partially supported by the Deanship of Scientific Research, University of Tabuk, under Grant No. 1435/S008.

@&#REFERENCES@&#

