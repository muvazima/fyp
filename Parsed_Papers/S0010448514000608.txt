@&#MAIN-TITLE@&#An intelligent approach for dimensioning completeness inspection in 3D based on transient geometric elements

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           A new algorithm to inspect the completeness of 3D dimensioning is described.


                        
                        
                           
                           The constrained states of geometric element are simply identified.


                        
                        
                           
                           The transformed constraints reduce the complexity of system.


                        
                        
                           
                           The time-consuming iterative calculations are avoided.


                        
                        
                           
                           8 types of geometric elements and 9 types of geometric constraints are processed.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Dimensioning completeness inspection

Basic geometric element

Transient geometric element

Geometric reasoning

Geometric constraint

@&#ABSTRACT@&#


               
               
                  Complete dimensioning plays an important role in digital product design. This paper proposes an intelligent reasoning approach to inspect the dimensioning completeness for 3D mechanical parts. Firstly, the problem of inspecting the dimension completeness is transformed into the problem of determining the geometric element (GE) constrained states. Then, 8 types of general geometric elements are decomposed into basic geometric elements (BGE) and basic dimensional elements (BDE), and an intermediate model named transient geometric element (TGE) is proposed to reflect the influences of geometric constraints (GC) on the BGEs. Thereafter, 3 types of complex constraints are decomposed into 6 types of simple constraints, which are then utilized to form the generation rules of the TGEs. Then, an upgrading geometric reasoning method of creating new TGEs is developed to get the BGE’s constrained state and the dimension usage status. Finally, the completeness states of dimensions are acquired according to the dimension usage status and the BGE’s constrained states. The presented approach is tested by a pre-dimensioned mechanical part composed of many typical geometric elements and constraints, and the result demonstrates that the dimensioning completeness states can be successfully inspected.
               
            

@&#INTRODUCTION@&#

Dimensioning is an essential component of mechanical product design, and the schemes of dimensions should comply with the industry standards  [1]. A 3D part model that is designed by the feature-based parametric design systems contains a great many of dimensions in the features. Most of these dimensions are localized dimensions, and repeat with each other sometimes because of the same features. Meanwhile, the overall dimensions of the part are always missing in these dimensions. Especially in a complex part, the missing and redundant dimensions appear frequently. Therefore, in order to perfectly express the design intent during the process planning and product manufacture, intelligent inspection of the dimension completeness is essential.

Geometric constraints can be divided into topological and metric constraints  [2]. Solving all the constraints to get geometric element positions during the part model construction is called geometric constraint solving (GCS). Dimension is an explicit annotated metric constraint. Although the geometric element positions are fixed after product design, the workers could not directly obtain the exact design intents which are implied in the annotated dimensions. In other words, the geometric elements of the part model are only restricted by the topological constraints and annotated dimensions for the workers. Then, some unfixed geometric elements will be created by the missing and redundant dimensions. A dimension is redundant if its geometric elements are over-constrained. The part misses dimensions when there are unfixed geometric elements. Once the constrained states (fixed or unfixed) of the geometric elements are determined, the dimension completeness states (missing, redundant, etc.) can be determined. Therefore, the problem of inspecting the dimension completeness is converted to the problem of determining the geometric element constrained states. Different from GCS that requires finding the exact solution, the completeness inspection just needs to determine whether the exact solution exists or not.

In this paper, all the geometric elements are supposed to be unfixed with respect to the geometric space at first. A set of specified datum planes can be fixed due to the six-point location principle. Then the constrained states of geometric elements that share common constraints with the datum planes can be determined. After that, the constrained states of each geometric element can be successively determined according to the related geometric elements and constraints. As a result, solving all the constraints at the same time can be avoided.

The remainder of this paper is organized as follows: Section  2 reviews the related work in the dimensioning completeness inspection. Section  3 discusses the representation models of geometric elements. The methods and rules adopted to analyze and simplify the geometric constraints are introduced in Section  4. The proposed algorithms for intelligently inspecting the dimensioning completeness are presented in Section  5. An example is given in Section  6 to show the effectiveness of the presented approach. In the end, Section  7 draws the conclusions of this paper.

@&#RELATED WORK@&#

In this section, the related works on the automatic dimensioning, geometric constraint solver, and the representation of geometric elements are reviewed.

Compared with the dimensioning completeness inspection, automatic dimensioning faces the same problem, that is how to identify the completeness of the dimensioning. After about 30 years of research, there are several methods available for automatic dimensioning on the part models. Initially, a method used for the automatic processing of the linear dimensions in the 2D plane was proposed by Yuen et al.  [3]. Bond et al.  [4] presented a method that could generate the dimensions for 2D engineering drawings by using the 3D projection based on knowledge and rules. Nevertheless, Bond’s method is only applicable to the prismatic parts. After the research on 2D design dimensions, Serrano  [5] proposed a method for automatic generation of partial dimensions in variation geometry and parametric designing system. However, Yu et al.  [6] indicated that most of the algorithms presented in the 1990s were hard to extend to general 3D cases. Additionally, the technical details of program implementation were not adequately described, and these methods were unable to cover all kinds of dimensions and tolerances in engineering standards.

With the development of 3D designing techniques, the 3D model began to be used in the 2D automatic dimensioning. Chen et al.  [7] formulated a strategy of automatic dimensioning for 2D engineering drawings based on feature recognition techniques. Firstly, the position of points, lines and planes are individually analyzed, and the essential location dimensions for them are identified. Then, the mid-planes, datum, symmetry features, etc. are used for the further amending of essential dimensions after the dimension feature is proposed. The distance dimensions of simple planes can be processed in this approach. Subsequently, Chen et al.  [8] investigated the location-dimensioning of cylindrical surface in 2D engineering drawings. The prior relationships of position dimensions in cylinders are summarized to reduce the redundancies. In order to improve the manufacturability of parts, the concepts of the implicit and explicit dimensions were introduced by Lin et al.  [9], and a mathematical approach was proposed to redimension an uncomplicated design without impairing the functionality of the parts.

The 3D dimensioning has been pervasively used in some commercial systems. PTC’s Creo software provides a 3D dimensioning module that can display the dimensions encapsulated in all features. The “FT&A” workbench in CATIA software provides an automatic dimensioning function for 2D engineering drawings. The “PMI” module of NX 9.0 can annotate standard 3D dimensions which can be automatically mapped to 2D engineering drawings. The “Dimexpert” module in SolidWorks provides the solutions of automatic dimensioning for simple parts. Nonetheless, due to the limited functions, the dimension omissions and redundancies appear when it is used to process more complex parts. In conclusion, the dimensions automatically annotated by the function modules in these commercial systems are disorderly and unsystematic, and their completeness need to be inspected.

Geometric constraint solver is a major component of intelligent CAD systems  [10]. Three main approaches have been developed to solve geometric constraints: the construction approach, the numerical approach and the symbolic approach  [11]. In the numerical approach, GCs are translated into algebraic equations, and most of them are solved by methods derived from the Newton–Raphson method which needs an initial value close to the real. To reduce the complexity of computation, the algebraic equations were translated into new forms which are easy to solve in the symbolic approach  [12]. In constructive solver systems, most configurations in a sketch were solvable by ruler, compass and protractor  [10]. Martinez et al.  [2] discussed the GE and constraint solver in 2D sketches. A numerical method was used to obtain the set of nonlinear constraints by introducing the priority factor, and the overriding constraints in the system were decided. Finally, the constraints were assigned automatically. According to this approach, the constraints can be solved in 2D sketches due to iterative calculation. The computational efficiency could be reduced when the approach is applied in the 3D solid model. Some recent works have proposed some hybrid methods to solve the under-/over-constrained problems  [13–18], especially the methods concerned with the constructive solvers which are related to the geometric reasoning used in this paper.

The concept of Technologically and Topologically Related Surfaces (TTRS) was proposed by Clemént et al.  [19] and Desrochers  [20]. The TTRS was divided into 7 types. Therefore, a part can be treated as a list of TTRS, and the combinations of two TTRS will form 28 types of surface groups and 44 types of tolerancing cases. For the purpose of representing the real surfaces or the TTRS, a theoretical reference called Minimum Geometric Datum Elements (MGDE) is used for TTRS, and it is easier to locate the MGDE than the TTRS. After that, a further theory on TTRS was developed and applied in the representation of tolerancing by Clemént et al.  [21] and Mathieu et al.  [22]. Salomons et al.  [23,24] developed a FROOM system based on TTRS. The system can allocate tolerances semi-automatically, and support the user automatically proposing geometric tolerance types. The user only has to give in the tolerance values. Jaballi et al.  [25] analyzed the controlled DOFs (Cont-DOFs) of positioning reference frames and constrained DOFs (Cons-DOFs) of each machined surface based on TTRS and MGDE, and presented a method “DISMP” for creating appropriate geometric specifications to guarantee the functional requirements of parts. Based on the above results, Jaballi et al.  [26] continued to investigate the 3D manufacturing tolerance synthesis, and presented an approach “R3DMTSyn” based on the TTRS. TTRS approach is the closest representation of tolerancing to the standard (ISO and ASME)  [27]. The MGDE theory makes an important reference for the representation of geometric element in this article.

Geometric elements include general geometric elements, the threaded and complex surfaces. Note that the threaded and complex surfaces are different from general geometric elements in dimensioning, so only 8 types of general geometric elements listed in Table 1
                      are discussed and can be dealt by the approach in this paper.

The geometric elements are decomposed into basic geometric elements (BGE) and basic dimensional elements (BDE). The BGE includes a point 
                        p
                     , a line 
                        l
                      and a plane 
                        p
                        l
                     . The BDE includes an angle 
                        θ
                     , a major radius 
                        
                           
                              r
                           
                           
                              1
                           
                        
                     , and a minor radius 
                        
                           
                              r
                           
                           
                              2
                           
                        
                     . Once the constrained states of BGEs and the values of BDEs are identified, the constrained state of the corresponding geometric element is determined. Moreover, it is easier to analyze the constrained states of BGE than the geometric element. Therefore, the 8 types of general geometric elements can be dealt indirectly by the combination of BGEs and BDEs.

In order to facilitate the expression of algorithms, the data structure of the geometric element is defined as follows: 
                        
                           (1)
                           
                              
                                 GE
                              
                              =
                              
                                 {
                                 t
                                 ,
                                 p
                                 ,
                                 l
                                 ,
                                 p
                                 l
                                 ,
                                 θ
                                 ,
                                 
                                    
                                       r
                                    
                                    
                                       1
                                    
                                 
                                 ,
                                 
                                    
                                       r
                                    
                                    
                                       2
                                    
                                 
                                 }
                              
                           
                        
                      where 
                        t
                      represents the type of geometric element. The representation model for 8 types of geometric elements is listed in Table 1.

In 3D geometric models, the positions of points, edges and faces are identified by the dimensions and constraints. Dimensions considered in this paper can be classified into 3 types, including distance, angle and radius. Besides, 6 types of constraints are taken into account: parallelism, perpendicularity, superimposition, tangency, symmetry and array. The characteristics of each kind of constraints are analyzed in the following sections.

A constraint is a bidirectional relation between its two elements. For instance, a perpendicular constraint of two planes indicates that the planes are perpendicular to each other. If plane 
                           
                              
                                 
                                    PL
                                 
                              
                              
                                 1
                              
                           
                         is fixed perfectly, then the perpendicular relation can be used to constrain the plane 
                           
                              
                                 
                                    PL
                                 
                              
                              
                                 2
                              
                           
                        , so 
                           
                              
                                 
                                    PL
                                 
                              
                              
                                 2
                              
                           
                         depends on 
                           
                              
                                 
                                    PL
                                 
                              
                              
                                 1
                              
                           
                        , and vice versa. Such characteristic is the so-called dependence of constraint  [28], and is defined as follows:
                           
                              (2)
                              
                                 
                                    
                                       
                                          GE
                                       
                                    
                                    
                                       1
                                    
                                 
                                 ↔
                                 
                                    
                                       
                                          GE
                                       
                                    
                                    
                                       2
                                    
                                 
                                 .
                              
                           
                        
                     

Eq. (2) indicates that there is a constraint relationship between 
                           
                              
                                 
                                    GE
                                 
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 
                                    GE
                                 
                              
                              
                                 2
                              
                           
                         which depends on each other.

(1) Interchangeability of the dependence.

A constraint between 
                           
                              
                                 
                                    GE
                                 
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 
                                    GE
                                 
                              
                              
                                 2
                              
                           
                         suggests that 
                           
                              
                                 
                                    GE
                                 
                              
                              
                                 2
                              
                           
                         depends on 
                           
                              
                                 
                                    GE
                                 
                              
                              
                                 1
                              
                           
                        , or 
                           
                              
                                 
                                    GE
                                 
                              
                              
                                 1
                              
                           
                         depends on 
                           
                              
                                 
                                    GE
                                 
                              
                              
                                 2
                              
                           
                        . Such characteristic can be illustrated as follows: 
                           
                              (3)
                              
                                 
                                    
                                       
                                          GE
                                       
                                    
                                    
                                       1
                                    
                                 
                                 ↔
                                 
                                    
                                       
                                          GE
                                       
                                    
                                    
                                       2
                                    
                                 
                                 ⇒
                                 
                                    
                                       
                                          GE
                                       
                                    
                                    
                                       1
                                    
                                 
                                 →
                                 
                                    
                                       
                                          GE
                                       
                                    
                                    
                                       2
                                    
                                 
                                 ∨
                                 
                                    
                                       
                                          GE
                                       
                                    
                                    
                                       2
                                    
                                 
                                 →
                                 
                                    
                                       
                                          GE
                                       
                                    
                                    
                                       1
                                    
                                 
                                 .
                              
                           
                        
                     

The dependence of the constraint has a bidirectional interchangeability as signified in Eq. (3). However, if 
                           
                              
                                 
                                    GE
                                 
                              
                              
                                 1
                              
                           
                         is fixed, the constraint can only be used to constrain 
                           
                              
                                 
                                    GE
                                 
                              
                              
                                 2
                              
                           
                         and cannot be reused to constrain 
                           
                              
                                 
                                    GE
                                 
                              
                              
                                 1
                              
                           
                        . If 
                           
                              
                                 
                                    GE
                                 
                              
                              
                                 2
                              
                           
                         is fixed, then the constraint can only be used to constrain 
                           
                              
                                 
                                    GE
                                 
                              
                              
                                 1
                              
                           
                         and cannot be reused to constrain 
                           
                              
                                 
                                    GE
                                 
                              
                              
                                 2
                              
                           
                        . In other words, once one direction is chosen and used, the constraint cannot be reused in a reverse direction. It is used as a unidirectional relationship.

(2) Transitivity of the dependence.

If the location of 
                           
                              
                                 
                                    GE
                                 
                              
                              
                                 2
                              
                           
                         depends on 
                           
                              
                                 
                                    GE
                                 
                              
                              
                                 1
                              
                           
                        , and the location of 
                           
                              
                                 
                                    GE
                                 
                              
                              
                                 3
                              
                           
                         depends on 
                           
                              
                                 
                                    GE
                                 
                              
                              
                                 2
                              
                           
                        , then the location of 
                           
                              
                                 
                                    GE
                                 
                              
                              
                                 3
                              
                           
                         depends on 
                           
                              
                                 
                                    GE
                                 
                              
                              
                                 1
                              
                           
                        . If 
                           
                              
                                 
                                    GE
                                 
                              
                              
                                 1
                              
                           
                         is fixed perfectly, then 
                           
                              
                                 
                                    GE
                                 
                              
                              
                                 2
                              
                           
                         and 
                           
                              
                                 
                                    GE
                                 
                              
                              
                                 3
                              
                           
                         are also restricted. Such a characteristic is the transitivity of the dependence and can be defined as follows: 
                           
                              (4)
                              
                                 
                                    
                                       
                                          GE
                                       
                                    
                                    
                                       1
                                    
                                 
                                 →
                                 
                                    
                                       
                                          GE
                                       
                                    
                                    
                                       2
                                    
                                 
                                 ∧
                                 
                                    
                                       
                                          GE
                                       
                                    
                                    
                                       2
                                    
                                 
                                 →
                                 
                                    
                                       
                                          GE
                                       
                                    
                                    
                                       3
                                    
                                 
                                 ⇒
                                 
                                    
                                       
                                          GE
                                       
                                    
                                    
                                       1
                                    
                                 
                                 →
                                 
                                    
                                       
                                          GE
                                       
                                    
                                    
                                       3
                                    
                                 
                                 .
                              
                           
                        
                     

(3) Referenced geometric element and objective geometric element.

In a geometric constraint, the one geometric element which is unfixed and need to be inspected is defined as objective geometric element (OGE). The other geometric element is defined as referenced geometric element (RGE). The constrained state of OGE depends on the constrained state of RGE. The relationship between them is illustrated as follows: 
                           
                              (5)
                              
                                 
                                    
                                       R
                                    
                                    
                                       
                                          GE
                                       
                                    
                                 
                                 →
                                 
                                    
                                       O
                                    
                                    
                                       
                                          GE
                                       
                                    
                                 
                              
                           
                         where 
                           
                              
                                 R
                              
                              
                                 
                                    GE
                                 
                              
                           
                         represents the RGE, and 
                           
                              
                                 O
                              
                              
                                 
                                    GE
                                 
                              
                           
                         represents the OGE. If 
                           
                              
                                 
                                    GE
                                 
                              
                              
                                 1
                              
                           
                         is the inspected object, it is the OGE, and 
                           
                              
                                 
                                    GE
                                 
                              
                              
                                 2
                              
                           
                         is the RGE. Conversely, if 
                           
                              
                                 
                                    GE
                                 
                              
                              
                                 2
                              
                           
                         is the inspected object, it is the OGE, and 
                           
                              
                                 
                                    GE
                                 
                              
                              
                                 1
                              
                           
                         is the RGE. Although the constrained objects represented by the RGE and OGE can be swapped, the relationship between the RGE and OGE is unchanged.

In order to express the algorithm conveniently, the feature vector of geometric constraint is represented by GC. It includes a constraint type 
                           T
                        , and two objects (the geometric elements constrained by the constraint) 
                           
                              
                                 O
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 O
                              
                              
                                 2
                              
                           
                        . Meanwhile, a dimension value 
                           V
                         is also available in the dimension. Then the data structure of GC can be expressed as follows: 
                           
                              (6)
                              
                                 
                                    GC
                                 
                                 =
                                 
                                    {
                                    T
                                    ,
                                    
                                       
                                          O
                                       
                                       
                                          1
                                       
                                    
                                    ,
                                    
                                       
                                          O
                                       
                                       
                                          2
                                       
                                    
                                    ,
                                    V
                                    }
                                 
                                 .
                              
                           
                        
                     

Geometric elements of the same type will be identically affected by a common constraint. But those of the different type will be differently affected by the constraint. For example, in Fig. 1
                        , there is a distance between points 
                           
                              
                                 P
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 P
                              
                              
                                 2
                              
                           
                        . Assuming 
                           
                              
                                 P
                              
                              
                                 2
                              
                           
                         is OGE and 
                           
                              
                                 P
                              
                              
                                 1
                              
                           
                         is RGE, then 
                           
                              
                                 P
                              
                              
                                 2
                              
                           
                         can be located anywhere on a sphere surface whose center is 
                           
                              
                                 P
                              
                              
                                 1
                              
                           
                         and radius is 
                           d
                        . Moreover, the effects remain identical when the OGE and RGE are swapped.

In order to express the influence created by constraints during the process of identifying the constrained state of OGE, a concept called Transient Geometric Element (TGE) is defined as follows:

Assuming an RGE is fixed, then a movement locus will be formed by the position or direction of OGE under the role of constraint in geometric space. The locus which is tangent, superimposed, parallel or perpendicular to the OGE is defined as TGE.

TGE may be an intuitive geometric element, or an abstract direction. Therefore, the data structure of TGE can be represented by GE with an additional direction item 
                           v
                        . It can be defined as follows: 
                           
                              (7)
                              
                                 
                                    
                                       T
                                    
                                    
                                       
                                          GE
                                       
                                    
                                 
                                 =
                                 
                                    {
                                    t
                                    ,
                                    p
                                    ,
                                    l
                                    ,
                                    p
                                    l
                                    ,
                                    θ
                                    ,
                                    
                                       
                                          r
                                       
                                       
                                          1
                                       
                                    
                                    ,
                                    
                                       
                                          r
                                       
                                       
                                          2
                                       
                                    
                                    ,
                                    v
                                    }
                                 
                                 .
                              
                           
                        
                     

Take the distance between point 
                           P
                         and line 
                           L
                         in Fig. 1 as an example, assuming 
                           L
                         is OGE and 
                           P
                         is RGE, then 
                           L
                         is tangent to a sphere (whose center is 
                           P
                         and radius is 
                           d
                        ) at any position of the sphere surface. The TGE of 
                           L
                         can be represented as 
                           
                              
                                 T
                              
                              
                                 
                                    GE
                                 
                              
                           
                           =
                           
                              {
                              
                                 SP
                              
                              ,
                              P
                              ,
                              0
                              ,
                              0
                              ,
                              0
                              ,
                              d
                              ,
                              0
                              ,
                              0
                              }
                           
                        . On the contrary, if 
                           P
                         is OGE and 
                           L
                         is RGE, 
                           P
                         is situated anywhere on a cylinder surface whose axis is 
                           L
                         and radius is 
                           d
                        . The TGE of 
                           P
                         can be represented as 
                           
                              
                                 T
                              
                              
                                 
                                    GE
                                 
                              
                           
                           =
                           
                              {
                              
                                 CY
                              
                              ,
                              0
                              ,
                              L
                              ,
                              0
                              ,
                              0
                              ,
                              d
                              ,
                              0
                              ,
                              0
                              }
                           
                        .

Different TGEs will be formed for the same OGE under different constraints with different RGEs. Note that many other constraints, except for the distance, can also form the TGEs. A geometric element is restricted to become several TGEs when confronted with several constraints. Once the type of any one TGE is consistent with the type of the geometric element, then the geometric element is fixed. Otherwise, a new TGE will be created by the different combinations of any two TGEs continuously, until the new TGE’s type is consistent with the geometric element’s type, then the geometric element is fixed. This process is the fundamental for determining the constrained state of the geometric element.

The dimensions which cannot form the TGEs for the geometric elements are not discussed in this paper, e.g., the thread dimension, chamfer dimension, etc. The complex constraints which cannot form TGEs directly have to be transformed into simple constraints and dimensions.

Distance constraint (DIS) represents the shortest linear distance relation between two geometric elements. The distance constraint of geometric elements is transformed into the distance constraints for 3 types of BGEs because of the geometric elements decomposition. Table 2
                         lists the relationships between various types of OGE, RGE and the corresponding TGE under distance constraints.

An angle constraint (ANG) is an angle relation between lines and planes. When the angle is 0 or 
                           π
                        , it is a parallel constraint (PAR). When the angle is 
                           π
                           /
                           2
                        , it is a perpendicular constraint (PER). Table 3
                         lists the relationships between various types of OGE, RGE and the corresponding TGE under angle, parallel and perpendicular constraints.

Take a parallel constraint between planes 
                           
                              
                                 
                                    PL
                                 
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 
                                    PL
                                 
                              
                              
                                 2
                              
                           
                         as an example in Table 3. 
                           
                              
                                 
                                    PL
                                 
                              
                              
                                 2
                              
                           
                         as OGE can be any plane that must be parallel to 
                           
                              
                                 
                                    PL
                                 
                              
                              
                                 1
                              
                           
                        , such as 
                           
                              
                                 
                                    PL
                                 
                              
                              
                                 2
                              
                           
                         and 
                           
                              
                                 
                                    PL
                                 
                              
                              
                                 3
                              
                           
                        . In other words, the normal of 
                           
                              
                                 
                                    PL
                                 
                              
                              
                                 2
                              
                           
                         is parallel to the normal of 
                           
                              
                                 
                                    PL
                                 
                              
                              
                                 1
                              
                           
                        . If the direction of a line or the normal of a plane is parallel to a specified direction, then the direction is defined as parallel direction (PAD) which is the TGE of the line or the plane.

Considering the perpendicular constraint between planes 
                           
                              
                                 
                                    PL
                                 
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 
                                    PL
                                 
                              
                              
                                 2
                              
                           
                         in Table 3, the normal of 
                           
                              
                                 
                                    PL
                                 
                              
                              
                                 2
                              
                           
                         is perpendicular to the normal of 
                           
                              
                                 
                                    PL
                                 
                              
                              
                                 1
                              
                           
                        . If the direction of a line or the normal of a plane is perpendicular to a specified direction, then the direction is defined as perpendicular direction (PED) which is the TGE of the line or the plane.

Take the angle between line 
                           L
                         and plane PL in Table 3 as an example. If 
                           L
                         is fixed, PL is tangent to a conical surface CF whose axis is 
                           L
                         and taper angle is equal to the angle between 
                           L
                         and PL. Meanwhile, the conical surface can move along with 
                           L
                        . It is defined as conical surface moving on line (COL). The TGE of a line or a plane which has an angle constraint with another line is COL. Meanwhile, a similar conical surface is defined as conical surface moving on plane (COP). It is the TGE of a line or a plane which has an angle constraint with another plane.

A radius constraint (RAD) restricts the size of a circular geometric element, such as cylinder, torus, sphere, and circle edge. Due to the fact that the radius constraint has only one object, there is no difference between OGE and RGE. Table 4
                         lists all types of geometric elements that can be annotated by radius, and the additional constraints.

A superimposition (SUP) can constrain various geometric elements, and create different influence to the geometric elements. It includes coaxial constraint, alignment, overlap of same elements and so on. Take the superimposition of point 
                           P
                         and plane PL as an example. If PL is the OGE, then PL passes through 
                           P
                        . It means only one point of PL is constrained, 
                           P
                         is the TGE of PL as a result. Conversely, if 
                           P
                         is the OGE, it locates at PL and can move anywhere on PL. Then PL is the TGE of 
                           P
                        . Therefore, if there is a superimposition between an OGE and an RGE, then the TGE of the OGE is the RGE.

The constraint of tangency (TAN) may exist between planes and curved surfaces, e.g., fillet features. The recognition of tangency has been discussed in other feature recognition papers  [29,30].

Consider the example shown in Fig. 2
                        . The plane 
                           
                              
                                 
                                    PL
                                 
                              
                              
                                 2
                              
                           
                         is tangent to the cylinder surface 
                           
                              
                                 
                                    CY
                                 
                              
                              
                                 1
                              
                           
                         at a straight edge which is parallel with the axis 
                           
                              
                                 L
                              
                              
                                 1
                              
                           
                         of 
                           
                              
                                 
                                    CY
                                 
                              
                              
                                 1
                              
                           
                        . The distance from 
                           
                              
                                 
                                    PL
                                 
                              
                              
                                 2
                              
                           
                         to 
                           
                              
                                 L
                              
                              
                                 1
                              
                           
                         is equal to the radius of 
                           
                              
                                 
                                    CY
                                 
                              
                              
                                 1
                              
                           
                        . Therefore, the constraint of tangency can be transformed into the distance constraint between 
                           
                              
                                 
                                    PL
                                 
                              
                              
                                 2
                              
                           
                         and the axis 
                           
                              
                                 L
                              
                              
                                 1
                              
                           
                        . The dimension value must be equal to the radius of 
                           
                              
                                 
                                    CY
                                 
                              
                              
                                 1
                              
                           
                        . This process is represented as follows: 
                           
                              (8)
                              
                                 
                                    {
                                    
                                       TAN
                                    
                                    ,
                                    
                                       
                                          
                                             CY
                                          
                                       
                                       
                                          1
                                       
                                    
                                    ,
                                    
                                       
                                          
                                             PL
                                          
                                       
                                       
                                          2
                                       
                                    
                                    }
                                 
                                 ⟹
                                 
                                    {
                                    
                                       DIS
                                    
                                    ,
                                    
                                       
                                          L
                                       
                                       
                                          1
                                       
                                    
                                    ,
                                    
                                       
                                          
                                             PL
                                          
                                       
                                       
                                          2
                                       
                                    
                                    ,
                                    
                                       
                                          
                                             CY
                                          
                                       
                                       
                                          1
                                       
                                    
                                    ⋅
                                    
                                       
                                          r
                                       
                                       
                                          1
                                       
                                    
                                    }
                                 
                                 .
                              
                           
                        
                     

In a similar way, the relationships of tangency between other geometric elements can be transformed in the following way: 
                           
                              
                                 (9)
                                 
                                    
                                       {
                                       
                                          TAN
                                       
                                       ,
                                       
                                          
                                             
                                                PL
                                             
                                          
                                          
                                             1
                                          
                                       
                                       ,
                                       
                                          TR
                                       
                                       }
                                    
                                    ⟹
                                    
                                       {
                                       
                                          DIS
                                       
                                       ,
                                       
                                          
                                             
                                                PL
                                             
                                          
                                          
                                             1
                                          
                                       
                                       ,
                                       
                                          
                                             
                                                PL
                                             
                                          
                                          
                                             3
                                          
                                       
                                       ,
                                       
                                          TR
                                       
                                       ⋅
                                       
                                          
                                             r
                                          
                                          
                                             1
                                          
                                       
                                       }
                                    
                                 
                              
                              
                                 (10)
                                 
                                    
                                       {
                                       
                                          TAN
                                       
                                       ,
                                       
                                          
                                             
                                                CY
                                             
                                          
                                          
                                             1
                                          
                                       
                                       ,
                                       
                                          TR
                                       
                                       }
                                    
                                    ⟹
                                    
                                       {
                                       
                                          DIS
                                       
                                       ,
                                       
                                          
                                             L
                                          
                                          
                                             1
                                          
                                       
                                       ,
                                       P
                                       ,
                                       
                                          TR
                                       
                                       ⋅
                                       
                                          
                                             r
                                          
                                          
                                             1
                                          
                                       
                                       }
                                    
                                    ,
                                    
                                       {
                                       
                                          SUP
                                       
                                       ,
                                       
                                          
                                             L
                                          
                                          
                                             1
                                          
                                       
                                       ,
                                       
                                          
                                             
                                                PL
                                             
                                          
                                          
                                             3
                                          
                                       
                                       }
                                    
                                    ,
                                    
                                       
                                          
                                             CY
                                          
                                       
                                       
                                          1
                                       
                                    
                                    ⋅
                                    
                                       
                                          r
                                       
                                       
                                          1
                                       
                                    
                                    =
                                    
                                       TR
                                    
                                    ⋅
                                    
                                       
                                          r
                                       
                                       
                                          2
                                       
                                    
                                 
                              
                              
                                 (11)
                                 
                                    
                                       {
                                       
                                          TAN
                                       
                                       ,
                                       
                                          
                                             
                                                CY
                                             
                                          
                                          
                                             2
                                          
                                       
                                       ,
                                       
                                          TR
                                       
                                       }
                                    
                                    ⟹
                                    
                                       {
                                       
                                          SUP
                                       
                                       ,
                                       
                                          
                                             L
                                          
                                          
                                             2
                                          
                                       
                                       ,
                                       P
                                       }
                                    
                                    ,
                                    
                                       {
                                       P
                                       E
                                       R
                                       ,
                                       
                                          
                                             L
                                          
                                          
                                             2
                                          
                                       
                                       ,
                                       
                                          
                                             
                                                PL
                                             
                                          
                                          
                                             3
                                          
                                       
                                       }
                                    
                                    ,
                                    
                                       
                                          
                                             CY
                                          
                                       
                                       
                                          2
                                       
                                    
                                    ⋅
                                    
                                       
                                          r
                                       
                                       
                                          1
                                       
                                    
                                    =
                                    
                                       TR
                                    
                                    ⋅
                                    
                                       
                                          r
                                       
                                       
                                          1
                                       
                                    
                                    +
                                    
                                       TR
                                    
                                    ⋅
                                    
                                       
                                          r
                                       
                                       
                                          2
                                       
                                    
                                    .
                                 
                              
                           
                        
                     

After analysis of 5 kinds of tangency, the transformation rules are listed in Table 5
                        . GC represents the constraint before decomposition, and 
                           
                              
                                 
                                    GC
                                 
                              
                              
                                 t
                              
                           
                         represents the constraint after transforming.

The constraint of symmetry (SYM) allows two topologically similar geometric elements to be situated with respect to a third plane called the plane of symmetry. The position of the symmetry plane is known already if the symmetry is global. But if it is a local symmetry, the constrained state of the symmetry plane is necessary to be decided. The same as tangency, symmetry must be transformed as well.

The part shown in Fig. 3
                         is a global symmetry part with 
                           
                              
                                 
                                    PL
                                 
                              
                              
                                 3
                              
                           
                         as the symmetry plane. The planes 
                           
                              
                                 
                                    PL
                                 
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 
                                    PL
                                 
                              
                              
                                 2
                              
                           
                         keep their positions on a superimposed plane which is perpendicular to 
                           
                              
                                 
                                    PL
                                 
                              
                              
                                 3
                              
                           
                        . And the decomposition rule of the symmetry will be: 
                           
                              (12)
                              
                                 
                                    {
                                    
                                       SY M
                                    
                                    ,
                                    
                                       
                                          
                                             PL
                                          
                                       
                                       
                                          1
                                       
                                    
                                    ,
                                    
                                       
                                          
                                             PL
                                          
                                       
                                       
                                          2
                                       
                                    
                                    }
                                 
                                 ⟹
                                 
                                    {
                                    
                                       SUP
                                    
                                    ,
                                    
                                       
                                          
                                             PL
                                          
                                       
                                       
                                          1
                                       
                                    
                                    ,
                                    
                                       
                                          
                                             PL
                                          
                                       
                                       
                                          2
                                       
                                    
                                    }
                                 
                                 ,
                                 
                                    {
                                    
                                       PER
                                    
                                    ,
                                    
                                       
                                          
                                             PL
                                          
                                       
                                       
                                          1
                                       
                                    
                                    ,
                                    
                                       
                                          
                                             PL
                                          
                                       
                                       
                                          3
                                       
                                    
                                    }
                                 
                                 ,
                                 
                                    {
                                    
                                       PER
                                    
                                    ,
                                    
                                       
                                          
                                             PL
                                          
                                       
                                       
                                          2
                                       
                                    
                                    ,
                                    
                                       
                                          
                                             PL
                                          
                                       
                                       
                                          3
                                       
                                    
                                    }
                                 
                                 .
                              
                           
                        
                     

In a similar way, the symmetries between cylinders 
                           
                              
                                 
                                    CY
                                 
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 
                                    CY
                                 
                              
                              
                                 2
                              
                           
                           ,
                           
                              
                                 L
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 L
                              
                              
                                 2
                              
                           
                         can be decomposed in the following way: 
                           
                              
                                 (13)
                                 
                                    
                                       {
                                       
                                          SY M
                                       
                                       ,
                                       
                                          
                                             
                                                CY
                                             
                                          
                                          
                                             1
                                          
                                       
                                       ,
                                       
                                          
                                             
                                                CY
                                             
                                          
                                          
                                             2
                                          
                                       
                                       }
                                    
                                    ⟹
                                    
                                       {
                                       
                                          SY M
                                       
                                       ,
                                       
                                          
                                             L
                                          
                                          
                                             1
                                          
                                       
                                       ,
                                       
                                          
                                             L
                                          
                                          
                                             2
                                          
                                       
                                       }
                                    
                                    ,
                                    
                                       
                                          
                                             CY
                                          
                                       
                                       
                                          1
                                       
                                    
                                    ⋅
                                    
                                       
                                          r
                                       
                                       
                                          1
                                       
                                    
                                    =
                                    
                                       
                                          
                                             CY
                                          
                                       
                                       
                                          2
                                       
                                    
                                    ⋅
                                    
                                       
                                          r
                                       
                                       
                                          2
                                       
                                    
                                 
                              
                              
                                 (14)
                                 
                                    
                                       {
                                       
                                          SY M
                                       
                                       ,
                                       
                                          
                                             L
                                          
                                          
                                             1
                                          
                                       
                                       ,
                                       
                                          
                                             L
                                          
                                          
                                             2
                                          
                                       
                                       }
                                    
                                    ⟹
                                    
                                       {
                                       
                                          DIS
                                       
                                       ,
                                       
                                          
                                             L
                                          
                                          
                                             1
                                          
                                       
                                       ,
                                       
                                          
                                             L
                                          
                                          
                                             2
                                          
                                       
                                       ,
                                       
                                          
                                             d
                                          
                                          
                                             1
                                          
                                       
                                       }
                                    
                                    ,
                                    
                                       {
                                       
                                          DIS
                                       
                                       ,
                                       
                                          
                                             L
                                          
                                          
                                             1
                                          
                                       
                                       ,
                                       
                                          
                                             
                                                PL
                                             
                                          
                                          
                                             3
                                          
                                       
                                       ,
                                       
                                          
                                             d
                                          
                                          
                                             2
                                          
                                       
                                       }
                                    
                                    ,
                                    
                                       {
                                       
                                          DIS
                                       
                                       ,
                                       
                                          
                                             L
                                          
                                          
                                             2
                                          
                                       
                                       ,
                                       
                                          
                                             
                                                PL
                                             
                                          
                                          
                                             3
                                          
                                       
                                       ,
                                       
                                          
                                             d
                                          
                                          
                                             2
                                          
                                       
                                       }
                                    
                                    ,
                                    
                                       
                                          d
                                       
                                       
                                          1
                                       
                                    
                                    =
                                    2
                                    
                                       
                                          d
                                       
                                       
                                          2
                                       
                                    
                                    .
                                 
                              
                           
                        
                     

The above examples show that, when the geometric elements are decomposed into BGEs and BDEs, the symmetry of geometric elements can be decomposed into the symmetry of BGEs and the equality between the BDEs at first. After that, more simple constraints of BGEs can be transformed from the symmetry of BGEs. Considering the transformation of three types of symmetry, seven subtypes are obtained. The transformation rules are illustrated in Table A.1
                         in the appendix.

Array constraint allows some topologically similar geometric elements to be situated with respect to a line or a circle, and should be specified manually. The geometric elements 
                           
                              {
                              
                                 
                                    
                                       GE
                                    
                                 
                                 
                                    i
                                 
                              
                              |
                              i
                              =
                              1
                              ,
                              2
                              ,
                              …
                              ,
                              n
                              }
                           
                         keep their characteristic points on a line or a circle 
                           
                              
                                 
                                    GE
                                 
                              
                              
                                 n
                                 +
                                 1
                              
                           
                        . It can be seen clearly that the array constraint is similar with symmetry and should be decomposed and transformed.

(1) Linear array.

One condition of a linear array is that the distances between any two adjacent geometric elements must keep equal. It can be illustrated in the following way: 
                           
                              (15)
                              
                                 
                                    dis
                                 
                                 
                                    (
                                    
                                       
                                          
                                             GE
                                          
                                       
                                       
                                          i
                                       
                                    
                                    ,
                                    
                                       
                                          
                                             GE
                                          
                                       
                                       
                                          i
                                          +
                                          1
                                       
                                    
                                    )
                                 
                                 =
                                 d
                                 ,
                                 
                                 i
                                 =
                                 1
                                 ,
                                 2
                                 ,
                                 …
                                 ,
                                 n
                                 −
                                 1
                              
                           
                         where 
                           d
                         is a constant, 
                           
                              dis
                           
                           
                              (
                              x
                              ,
                              y
                              )
                           
                         is defined as the shortest distance between geometric elements 
                           x
                         and 
                           y
                        . Apart from this, there are a lot of parallel relationships between the lines and planes. They are illustrated as follows: 
                           
                              (16)
                              
                                 
                                    {
                                    
                                       
                                          
                                             
                                                top
                                             
                                             
                                                (
                                                
                                                   
                                                      
                                                         GE
                                                      
                                                   
                                                   
                                                      i
                                                   
                                                
                                                ,
                                                
                                                   
                                                      
                                                         GE
                                                      
                                                   
                                                   
                                                      i
                                                      +
                                                      1
                                                   
                                                
                                                )
                                             
                                             =
                                             
                                                PAR
                                             
                                          
                                       
                                       
                                          
                                             
                                                type
                                             
                                             
                                                (
                                                
                                                   
                                                      
                                                         GE
                                                      
                                                   
                                                   
                                                      i
                                                   
                                                
                                                )
                                             
                                             ∈
                                             
                                                {
                                                L
                                                ,
                                                P
                                                L
                                                }
                                             
                                             ,
                                          
                                       
                                    
                                 
                                 
                                 i
                                 =
                                 1
                                 ,
                                 2
                                 ,
                                 …
                                 ,
                                 n
                              
                           
                         where 
                           
                              type
                           
                           
                              (
                              x
                              )
                           
                         represents the type of geometric element 
                           x
                        . Apart from the types of BGEs and topology which are considered separately, a series of relationships between the BGEs and the array line are set out. The transformation rules of the linear array for BGEs are listed in Table A.2
                         in the appendix.

(2) Circular array

One obvious feature of a circular array is that the distances from the center of circle to every geometric element are equal. It is represented as follows, 
                           
                              (17)
                              
                                 
                                    dis
                                 
                                 
                                    (
                                    
                                       
                                          
                                             GE
                                          
                                       
                                       
                                          i
                                       
                                    
                                    ,
                                    
                                       
                                          
                                             GE
                                          
                                       
                                       
                                          n
                                          +
                                          1
                                       
                                    
                                    ⋅
                                    p
                                    )
                                 
                                 =
                                 d
                                 ,
                                 
                                 i
                                 =
                                 1
                                 ,
                                 2
                                 ,
                                 …
                                 ,
                                 n
                                 −
                                 1
                              
                           
                         where 
                           d
                         is a constant. In the same way, the transformation rules of circular array for BGEs are finally established and shown in Table A.3
                         in the appendix.

The workflow of the intelligent dimension completeness inspection system designed are shown in Fig. 4
                      and illustrated as follows:
                        
                           (1)
                           Geometric elements are decomposed into basic geometric elements and basic dimensional elements.

After individually analyzing the characteristics of various constraints, the complex constraints are transformed into simple constraints and dimensions for BGEs, and the additional constraint for BDEs.

A method based on the combination rules of TGEs is presented, and the constrained states of BGEs are determined.

The values of the basic dimensional elements are computed by the additional constraints and known dimension values.

The constrained state of geometric elements is confirmed according to the combination of BGEs and BDEs.

The completeness states of dimensions are determined based on the dimension usage status and the BGE’s constrained states.

A geometric element always associates with many constraints and depends on several RGEs when it is fixed perfectly. To express these data, two items 
                           
                              
                                 S
                              
                              
                                 d
                              
                           
                         and 
                           
                              
                                 B
                              
                              
                                 f
                              
                           
                         are appended to GE. 
                           
                              
                                 S
                              
                              
                                 d
                              
                           
                         represents a dependent list of RGEs. 
                           
                              
                                 B
                              
                              
                                 f
                              
                           
                         records the constrained state of geometric element, and its values and meanings are listed below: 
                           
                              (18)
                              
                                 
                                    {
                                    
                                       
                                          
                                             
                                                
                                                   B
                                                
                                                
                                                   f
                                                
                                             
                                             =
                                             1
                                             ,
                                             fixed
                                          
                                       
                                       
                                          
                                             
                                                
                                                   B
                                                
                                                
                                                   f
                                                
                                             
                                             =
                                             2
                                             ,
                                             dependently fixed
                                          
                                       
                                       
                                          
                                             
                                                
                                                   B
                                                
                                                
                                                   f
                                                
                                             
                                             =
                                             3
                                             ,
                                             unfixed .
                                          
                                       
                                    
                                 
                              
                           
                        
                     

In summary, the identification principles for the constrained states of geometric elements are established as follows: 
                           
                              (1)
                              If a geometric element with a set of fixed RGEs is fully constrained, then it is perfectly fixed. So 
                                    
                                       
                                          B
                                       
                                       
                                          f
                                       
                                    
                                    =
                                    1
                                 .

If a geometric element with a set of partially fixed RGEs is fully constrained, then it is dependently fixed. So 
                                    
                                       
                                          B
                                       
                                       
                                          f
                                       
                                    
                                    =
                                    2
                                 .

If a geometric element lacking dimensions is partially constrained, then it is unfixed. So 
                                    
                                       
                                          B
                                       
                                       
                                          f
                                       
                                    
                                    =
                                    3
                                 .

An unlabeled dimension can be used as a labeled dimension when its value is identified. If two geometric elements of the unlabeled dimension are fixed, its unknown value can be identified. If the unlabeled dimension with unknown value was used to identify the constrained state of other geometric elements, the unlabeled dimension is a missing dimension. In the initialization, if the value of dimension is unknown, then 
                           V
                           =
                           −
                           1
                        .

Four types of dimension completeness states are defined: essential, redundant, undetermined and missing dimension. They are represented by an item 
                           
                              
                                 B
                              
                              
                                 s
                              
                           
                        , whose values and meanings are illustrated in the following: 
                           
                              (19)
                              
                                 
                                    {
                                    
                                       
                                          
                                             
                                                
                                                   B
                                                
                                                
                                                   s
                                                
                                             
                                             =
                                             1
                                             ,
                                             essential dimension
                                          
                                       
                                       
                                          
                                             
                                                
                                                   B
                                                
                                                
                                                   s
                                                
                                             
                                             =
                                             2
                                             ,
                                             redundant dimension
                                          
                                       
                                       
                                          
                                             
                                                
                                                   B
                                                
                                                
                                                   s
                                                
                                             
                                             =
                                             3
                                             ,
                                             undetermined dimension
                                          
                                       
                                       
                                          
                                             
                                                
                                                   B
                                                
                                                
                                                   s
                                                
                                             
                                             =
                                             4
                                             ,
                                             missing dimension .
                                          
                                       
                                    
                                 
                              
                           
                        
                     

From the foregoing analysis, four identification principles for the dimension completeness states are established as follows: 
                           
                              (1)
                              An annotated and used dimension is defined as an essential dimension, so 
                                    
                                       
                                          B
                                       
                                       
                                          s
                                       
                                    
                                    =
                                    1
                                 . The condition equation will be: 
                                    
                                       (20)
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            B
                                                         
                                                         
                                                            a
                                                         
                                                      
                                                      =
                                                      1
                                                      ,
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            B
                                                         
                                                         
                                                            u
                                                         
                                                      
                                                      =
                                                      1
                                                   
                                                
                                             
                                             }
                                          
                                          ⇒
                                          
                                             
                                                B
                                             
                                             
                                                s
                                             
                                          
                                          =
                                          1
                                       
                                    
                                  where 
                                    
                                       
                                          B
                                       
                                       
                                          u
                                       
                                    
                                  is imported to GC to represent the usage status of the constraint. In the initialization, 
                                    
                                       
                                          B
                                       
                                       
                                          u
                                       
                                    
                                    =
                                    0
                                 , because the constraint is unused. If the constraint is used, then 
                                    
                                       
                                          B
                                       
                                       
                                          u
                                       
                                    
                                    =
                                    1
                                 . A flag 
                                    
                                       
                                          B
                                       
                                       
                                          a
                                       
                                    
                                  is appended to illustrate the annotated state of dimension. 
                                    
                                       
                                          B
                                       
                                       
                                          a
                                       
                                    
                                    =
                                    1
                                  represents the dimension is annotated, otherwise, 
                                    
                                       
                                          B
                                       
                                       
                                          a
                                       
                                    
                                    =
                                    0
                                 .

An annotated and unused dimension is defined as a redundant dimension if its objects are fixed or dependently fixed, thus 
                                    
                                       
                                          B
                                       
                                       
                                          s
                                       
                                    
                                    =
                                    2
                                 . The condition equation will be: 
                                    
                                       (21)
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            B
                                                         
                                                         
                                                            a
                                                         
                                                      
                                                      =
                                                      1
                                                      ,
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            B
                                                         
                                                         
                                                            u
                                                         
                                                      
                                                      =
                                                      0
                                                      ,
                                                   
                                                
                                                
                                                   
                                                      
                                                         Max
                                                      
                                                      
                                                         (
                                                         
                                                            
                                                               O
                                                            
                                                            
                                                               1
                                                            
                                                         
                                                         ⋅
                                                         
                                                            
                                                               B
                                                            
                                                            
                                                               f
                                                            
                                                         
                                                         )
                                                      
                                                      ≤
                                                      2
                                                      ,
                                                   
                                                
                                                
                                                   
                                                      
                                                         Max
                                                      
                                                      
                                                         (
                                                         
                                                            
                                                               O
                                                            
                                                            
                                                               2
                                                            
                                                         
                                                         ⋅
                                                         
                                                            
                                                               B
                                                            
                                                            
                                                               f
                                                            
                                                         
                                                         )
                                                      
                                                      ≤
                                                      2
                                                   
                                                
                                             
                                             }
                                          
                                          ⇒
                                          
                                             
                                                B
                                             
                                             
                                                s
                                             
                                          
                                          =
                                          2
                                          .
                                       
                                    
                                 
                              

An annotated and unused dimension is defined as an undetermined dimension if one of its objects is unfixed at least, so 
                                    
                                       
                                          B
                                       
                                       
                                          s
                                       
                                    
                                    =
                                    3
                                 . The condition equation will be: 
                                    
                                       (22)
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            B
                                                         
                                                         
                                                            a
                                                         
                                                      
                                                      =
                                                      1
                                                      ,
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            B
                                                         
                                                         
                                                            u
                                                         
                                                      
                                                      =
                                                      0
                                                      ,
                                                   
                                                
                                                
                                                   
                                                      
                                                         Max
                                                      
                                                      
                                                         {
                                                         
                                                            
                                                               O
                                                            
                                                            
                                                               1
                                                            
                                                         
                                                         ⋅
                                                         
                                                            
                                                               B
                                                            
                                                            
                                                               f
                                                            
                                                         
                                                         ,
                                                         
                                                            
                                                               O
                                                            
                                                            
                                                               2
                                                            
                                                         
                                                         ⋅
                                                         
                                                            
                                                               B
                                                            
                                                            
                                                               f
                                                            
                                                         
                                                         }
                                                      
                                                      =
                                                      3
                                                   
                                                
                                             
                                             }
                                          
                                          ⇒
                                          
                                             
                                                B
                                             
                                             
                                                s
                                             
                                          
                                          =
                                          3
                                          .
                                       
                                    
                                 
                              

An unlabeled and used dimension with unknown value is defined as a missing dimension, so 
                                    
                                       
                                          B
                                       
                                       
                                          s
                                       
                                    
                                    =
                                    4
                                 . The condition equation will be: 
                                    
                                       (23)
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            B
                                                         
                                                         
                                                            a
                                                         
                                                      
                                                      =
                                                      0
                                                      ,
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            B
                                                         
                                                         
                                                            u
                                                         
                                                      
                                                      =
                                                      1
                                                      ,
                                                   
                                                
                                                
                                                   
                                                      V
                                                      =
                                                      −
                                                      1
                                                   
                                                
                                             
                                             }
                                          
                                          ⇒
                                          
                                             
                                                B
                                             
                                             
                                                s
                                             
                                          
                                          =
                                          4
                                          .
                                       
                                    
                                 
                              

In summary, the feature vector of geometric constraint after decomposition can be finally represented as follows: 
                           
                              (24)
                              
                                 
                                    GC
                                 
                                 =
                                 
                                    {
                                    T
                                    ,
                                    
                                       
                                          O
                                       
                                       
                                          1
                                       
                                    
                                    ,
                                    
                                       
                                          O
                                       
                                       
                                          2
                                       
                                    
                                    ,
                                    V
                                    ,
                                    
                                       
                                          B
                                       
                                       
                                          u
                                       
                                    
                                    ,
                                    
                                       
                                          B
                                       
                                       
                                          a
                                       
                                    
                                    ,
                                    
                                       
                                          B
                                       
                                       
                                          s
                                       
                                    
                                    }
                                 
                                 .
                              
                           
                        
                     

When an OGE associates with several constraints and TGEs, a new TGE will be continuously formed by the combination of every two TGEs until its type is identical to the OGE’s type.

Take the part in Fig. 5
                            as an example. Assuming the planes 
                              
                                 
                                    
                                       PL
                                    
                                 
                                 
                                    1
                                 
                              
                              ,
                              
                                 
                                    
                                       PL
                                    
                                 
                                 
                                    2
                                 
                              
                            and 
                              
                                 
                                    
                                       PL
                                    
                                 
                                 
                                    3
                                 
                              
                            are fixed, the constrained state of plane 
                              
                                 
                                    
                                       PL
                                    
                                 
                                 
                                    4
                                 
                              
                            will be identified. The identification process is illustrated in Fig. 6
                           , and four known constraints are listed as follows: 
                              
                                 
                                    
                                       
                                          
                                             GC
                                          
                                       
                                       
                                          1
                                       
                                    
                                    :
                                    
                                       {
                                       
                                          DIS
                                       
                                       ,
                                       
                                          
                                             
                                                PL
                                             
                                          
                                          
                                             1
                                          
                                       
                                       ,
                                       
                                          
                                             L
                                          
                                          
                                             1
                                          
                                       
                                       ,
                                       40
                                       }
                                    
                                    ,
                                    
                                    
                                       
                                          
                                             GC
                                          
                                       
                                       
                                          2
                                       
                                    
                                    :
                                    
                                       {
                                       
                                          ANG
                                       
                                       ,
                                       
                                          
                                             
                                                PL
                                             
                                          
                                          
                                             3
                                          
                                       
                                       ,
                                       
                                          
                                             
                                                PL
                                             
                                          
                                          
                                             4
                                          
                                       
                                       ,
                                       130
                                       }
                                    
                                    ,
                                    
                                    
                                       
                                          
                                             GC
                                          
                                       
                                       
                                          3
                                       
                                    
                                    :
                                    
                                       {
                                       
                                          SUP
                                       
                                       ,
                                       
                                          
                                             
                                                PL
                                             
                                          
                                          
                                             3
                                          
                                       
                                       ,
                                       
                                          
                                             L
                                          
                                          
                                             1
                                          
                                       
                                       }
                                    
                                    ,
                                    
                                    
                                       
                                          
                                             GC
                                          
                                       
                                       
                                          4
                                       
                                    
                                    :
                                    
                                       {
                                       
                                          SUP
                                       
                                       ,
                                       
                                          
                                             L
                                          
                                          
                                             1
                                          
                                       
                                       ,
                                       
                                          
                                             
                                                PL
                                             
                                          
                                          
                                             4
                                          
                                       
                                       }
                                    
                                    .
                                 
                              
                           
                        

The constrained state of 
                              
                                 
                                    L
                                 
                                 
                                    1
                                 
                              
                            plays an important role in the identification for the constrained state of 
                              
                                 
                                    
                                       PL
                                    
                                 
                                 
                                    4
                                 
                              
                           . So 
                              
                                 
                                    L
                                 
                                 
                                    1
                                 
                              
                            is the OGE and must be identified first. A TGE 
                              
                                 
                                    
                                       PL
                                    
                                 
                                 
                                    5
                                 
                              
                            will be formed for 
                              
                                 
                                    L
                                 
                                 
                                    1
                                 
                              
                            by 
                              
                                 
                                    
                                       GC
                                    
                                 
                                 
                                    1
                                 
                              
                            due to the rules listed in Table 2. A TGE 
                              
                                 
                                    
                                       PL
                                    
                                 
                                 
                                    3
                                 
                              
                            will be formed for 
                              
                                 
                                    L
                                 
                                 
                                    2
                                 
                              
                            by 
                              
                                 
                                    
                                       GC
                                    
                                 
                                 
                                    3
                                 
                              
                           . The OGE 
                              
                                 
                                    L
                                 
                                 
                                    1
                                 
                              
                            locates in not only 
                              
                                 
                                    
                                       PL
                                    
                                 
                                 
                                    5
                                 
                              
                           , but also 
                              
                                 
                                    
                                       PL
                                    
                                 
                                 
                                    3
                                 
                              
                           . In other words, 
                              
                                 
                                    L
                                 
                                 
                                    1
                                 
                              
                            can only be along the intersection line 
                              
                                 
                                    L
                                 
                                 
                                    2
                                 
                              
                            of 
                              
                                 
                                    
                                       PL
                                    
                                 
                                 
                                    5
                                 
                              
                            and 
                              
                                 
                                    
                                       PL
                                    
                                 
                                 
                                    3
                                 
                              
                           . 
                              
                                 
                                    L
                                 
                                 
                                    2
                                 
                              
                            is the new TGE and its type is the same as the type of 
                              
                                 
                                    L
                                 
                                 
                                    1
                                 
                              
                           . Therefore, 
                              
                                 
                                    L
                                 
                                 
                                    1
                                 
                              
                            is perfectly fixed by 
                              
                                 
                                    
                                       GC
                                    
                                 
                                 
                                    1
                                 
                              
                            and 
                              
                                 
                                    
                                       GC
                                    
                                 
                                 
                                    4
                                 
                              
                           .

In the same way, a TGE 
                              
                                 
                                    L
                                 
                                 
                                    1
                                 
                              
                            will be built for 
                              
                                 
                                    
                                       PL
                                    
                                 
                                 
                                    4
                                 
                              
                            by 
                              
                                 
                                    
                                       GC
                                    
                                 
                                 
                                    4
                                 
                              
                           . As shown in Table 3, another TGE COP for 
                              
                                 
                                    
                                       PL
                                    
                                 
                                 
                                    4
                                 
                              
                            is formed by 
                              
                                 
                                    
                                       GC
                                    
                                 
                                 
                                    2
                                 
                              
                           . The OGE 
                              
                                 
                                    
                                       PL
                                    
                                 
                                 
                                    4
                                 
                              
                            not only passes through 
                              
                                 
                                    L
                                 
                                 
                                    1
                                 
                              
                           , but is also tangent to COP at the line of tangency 
                              
                                 
                                    L
                                 
                                 
                                    3
                                 
                              
                           . It seems that 
                              
                                 
                                    L
                                 
                                 
                                    3
                                 
                              
                            always intersects with 
                              
                                 
                                    L
                                 
                                 
                                    1
                                 
                              
                            at the plane 
                              
                                 
                                    
                                       PL
                                    
                                 
                                 
                                    6
                                 
                              
                            wherever COP moves in 
                              
                                 
                                    
                                       PL
                                    
                                 
                                 
                                    3
                                 
                              
                           . 
                              
                                 
                                    
                                       PL
                                    
                                 
                                 
                                    6
                                 
                              
                            is the new TGE because its type is the same as the type of 
                              
                                 
                                    
                                       PL
                                    
                                 
                                 
                                    4
                                 
                              
                           . Then 
                              
                                 
                                    
                                       PL
                                    
                                 
                                 
                                    4
                                 
                              
                            is fixed perfectly by 
                              
                                 
                                    
                                       GC
                                    
                                 
                                 
                                    2
                                 
                              
                            and 
                              
                                 
                                    
                                       GC
                                    
                                 
                                 
                                    4
                                 
                              
                           .

A few nonlinear lines such as circle, and ellipse, will be formed by the combination of TGEs, and are represented by NL. According to the reasoning process of new TGE mentioned above, all the possible combinations of TGEs are analyzed and distinguished. Then 21, 44 and 42 combination rules for point, line and plane are obtained respectively and listed in Tables A.4–A.6
                           
                           
                            in the appendix, where CRO represents the intersection relationship between TGEs.

When a BGE (the OGE) confronts with several TGEs, the workflow of identifying the state of constrained BGE is illustrated in Fig. 7
                           . The identification algorithm for the OGE’s constrained state is shown as follows:


                           
                              
                                 Step 1.
                                 All the unused constraints of OGE 
                                       
                                          
                                             O
                                          
                                          
                                             
                                                GE
                                             
                                          
                                       
                                     with fixed or dependently fixed RGEs are got and added to a set 
                                       
                                          
                                             S
                                          
                                          
                                             
                                                GCo
                                             
                                          
                                       
                                    . The first constraint is selected from 
                                       
                                          
                                             S
                                          
                                          
                                             
                                                GCo
                                             
                                          
                                       
                                     to form a TGE 
                                       
                                          
                                             T
                                          
                                          
                                             
                                                GE
                                             
                                             1
                                          
                                       
                                     for the 
                                       
                                          
                                             O
                                          
                                          
                                             
                                                GE
                                             
                                          
                                       
                                    . Then the constraint is added to a set of used constraints 
                                       
                                          
                                             S
                                          
                                          
                                             
                                                GCt
                                             
                                          
                                       
                                    .

If the types of 
                                       
                                          
                                             T
                                          
                                          
                                             
                                                GE
                                             
                                             1
                                          
                                       
                                     and 
                                       
                                          
                                             O
                                          
                                          
                                             
                                                GE
                                             
                                          
                                       
                                     are the same, then let 
                                       
                                          bFlag
                                       
                                       =
                                       1
                                     and go to Step 3. Otherwise, the next constraint is selected from 
                                       
                                          
                                             S
                                          
                                          
                                             
                                                GCo
                                             
                                          
                                       
                                     to form a new TGE 
                                       
                                          
                                             T
                                          
                                          
                                             
                                                GE
                                             
                                             2
                                          
                                       
                                     for the 
                                       
                                          
                                             O
                                          
                                          
                                             
                                                GE
                                             
                                          
                                       
                                     and added to the set 
                                       
                                          
                                             S
                                          
                                          
                                             
                                                GCt
                                             
                                          
                                       
                                    . Then a new 
                                       
                                          
                                             T
                                          
                                          
                                             
                                                GE
                                             
                                             3
                                          
                                       
                                    will be formed by the combination of 
                                       
                                          
                                             T
                                          
                                          
                                             
                                                GE
                                             
                                             1
                                          
                                       
                                     and 
                                       
                                          
                                             T
                                          
                                          
                                             
                                                GE
                                             
                                             2
                                          
                                       
                                    , let 
                                       
                                          
                                             T
                                          
                                          
                                             
                                                GE
                                             
                                             1
                                          
                                       
                                       =
                                       
                                          
                                             T
                                          
                                          
                                             
                                                GE
                                             
                                             3
                                          
                                       
                                    . This step will be executed repeatedly until all the constraints are processed.

If 
                                       
                                          bFlag
                                       
                                       =
                                       1
                                    , then all the constraints of 
                                       
                                          
                                             S
                                          
                                          
                                             
                                                GCt
                                             
                                          
                                       
                                     are set to used constraints. The RGEs are added to the dependent list of 
                                       
                                          
                                             O
                                          
                                          
                                             
                                                GE
                                             
                                          
                                       
                                    . If all the RGEs are fixed, then 
                                       
                                          
                                             O
                                          
                                          
                                             
                                                GE
                                             
                                          
                                       
                                     is fixed. Otherwise, 
                                       
                                          
                                             O
                                          
                                          
                                             
                                                GE
                                             
                                          
                                       
                                     is dependently fixed. If 
                                       
                                          bFlag
                                       
                                       =
                                       0
                                       ,
                                       
                                          
                                             O
                                          
                                          
                                             
                                                GE
                                             
                                          
                                       
                                     is unfixed.

The set of constraints 
                                       
                                          
                                             S
                                          
                                          
                                             
                                                GCt
                                             
                                          
                                       
                                     which is used to identify the constrained state of 
                                       
                                          
                                             O
                                          
                                          
                                             
                                                GE
                                             
                                          
                                       
                                     is returned.

A large number of additional constraints for dimension values and BDEs are obtained from the transformation of complex constraints. They restrict the distance values and the radius of circular geometric elements. Assuming a set of additional constraints 
                           
                              ACS
                           
                           =
                           
                              {
                              
                                 
                                    
                                       AC
                                    
                                 
                                 
                                    i
                                 
                              
                              |
                              i
                              =
                              1
                              ,
                              2
                              ,
                              …
                              ,
                              n
                              }
                           
                         is achieved after the transformation, the values of unknown dimension and BDEs can be identified in two stages: On the one hand, part of the unknown dimension values and BDEs can be calculated by the annotated dimensions before the completeness inspection. On the other hand, an unlabeled dimension, whose objects are fixed, can be used to calculate other unknown dimension values and BDEs. The workflow of identifying the BDEs and dimension values is illustrated in Fig. 8
                        .

The dimensioning completeness inspection is divided into three stages. The model information will be extracted and classified in the earlier stage. Subsequently, the constrained state of each geometric element and the completeness state of each dimension will be identified. The results will be processed finally.

In the preparation stage, all the geometric elements, dimensions and constraints of a part model are extracted and arranged. The process is illustrated as follows:


                           
                              
                                 (1)
                                 A set of geometric elements 
                                       
                                          GES
                                       
                                       =
                                       
                                          {
                                          
                                             
                                                
                                                   GE
                                                
                                             
                                             
                                                i
                                             
                                          
                                          |
                                          i
                                          =
                                          1
                                          ,
                                          2
                                          ,
                                          …
                                          ,
                                          n
                                          }
                                       
                                     is extracted from the part model, and the mapping relationships between the geometric elements and BGEs, BDEs are established.

The array and symmetric constraints are specified manually. All the distances, angles, radii, perpendicularity, parallelism, and superimposition are obtained by the recognition algorithms. They are transformed into a set of simple constraints for BGEs 
                                       
                                          
                                             S
                                          
                                          
                                             
                                                GC
                                             
                                          
                                       
                                       =
                                       
                                          {
                                          
                                             
                                                
                                                   GC
                                                
                                             
                                             
                                                j
                                             
                                          
                                          |
                                          j
                                          =
                                          1
                                          ,
                                          2
                                          ,
                                          …
                                          ,
                                          m
                                          }
                                       
                                    . Meanwhile, a set of additional constraints ACS is established.

The datum planes of the part model are specified manually. The primary datum is already fixed due to the six-point location principle. The secondary datum will be fixed once the angle between the primary and secondary datum is identified. Then, the tertiary datum will be fixed when the angles between the tertiary and the primary, the secondary datum are identified independently.

All the BDEs and dimension values are processed once by using the algorithm presented in Section  5.4.

In the process stage, all the geometric elements will be inspected successively. The workflow of algorithm is as follows:
                              
                                 Step 1.
                                 Each basic geometric element is determined successively. If the basic geometric element is undetermined or unfixed, then its unused constraints are got. The constrained state of the BGE is identified by the algorithm presented in Section  5.3. If the two objects of any one of the used dimensions are fixed and the value of the dimension is unknown, then the value can be calculated and used to update other BDEs and dimension values by applying the algorithm proposed in Section  5.4.

Step 1 will be executed repeatedly once the constrained state of any one BGE is determined. Otherwise, the constrained states of BGEs are inspected over.

The constrained states of each geometric element are determined due to the constrained states of BGEs and values of BDEs.

On the basis of the identification principles for the dimension completeness, the completeness states of dimensions are determined successively.

When the constrained state of all the geometric elements are accomplished, the results can be collated as follows: 
                              
                                 (1)
                                 The 
                                       
                                          
                                             
                                                GE
                                             
                                          
                                          
                                             i
                                          
                                       
                                     in the set 
                                       
                                          GES
                                       
                                       =
                                       
                                          {
                                          
                                             
                                                
                                                   GE
                                                
                                             
                                             
                                                i
                                             
                                          
                                          |
                                          i
                                          =
                                          1
                                          ,
                                          2
                                          ,
                                          …
                                          ,
                                          n
                                          }
                                       
                                     is judged separately. Every geometric element is added into the corresponding set according to its constrained state.

The 
                                       
                                          
                                             
                                                GC
                                             
                                          
                                          
                                             j
                                          
                                       
                                     in the set 
                                       
                                          
                                             S
                                          
                                          
                                             
                                                GC
                                             
                                          
                                       
                                       =
                                       
                                          {
                                          
                                             
                                                
                                                   GC
                                                
                                             
                                             
                                                j
                                             
                                          
                                          |
                                          j
                                          =
                                          1
                                          ,
                                          2
                                          ,
                                          …
                                          ,
                                          m
                                          }
                                       
                                     is judged separately. Every dimension is added into the corresponding set according to its completeness state.

In summary, the completeness of all the annotated and unlabeled dimensions is inspected completely. The constrained state of all the geometric elements is also identified.

Based on software modules of ACIS and Hoops, a CAPP system named AMTProcesser has been developed in our laboratory. The proposed method has been implemented as a module for intelligent dimension completeness inspection in AMTProcesser. By using this module, many parts have been inspected successfully. As an example, a part is modeled as illustrated in Fig. 9
                      to test the proposed approaches. The model contains most types of constraints mentioned above, such as dimension, linear array, global symmetry, tangency and superimposition. To make an easier expression, the related geometric elements are labeled as shown in Fig. 10
                     .

The simple constraints associated with surfaces for BGEs and additional constraints for BDEs are transformed from the known constraints. 
                        
                           
                              
                                 PL
                              
                           
                           
                              1
                           
                        
                        ,
                        
                           
                              
                                 PL
                              
                           
                           
                              14
                           
                        
                        ,
                        
                           
                              
                                 PL
                              
                           
                           
                              17
                           
                        
                      are specified as the three datum planes and fixed. A large number of parallel and perpendicular constraints associated with the datum are extracted during the identification process in time. Starting from the datum planes and global symmetry, the constrained state of each geometric element is identified in sequence as illustrated in Fig. 11
                     . Most of geometric elements are fixed perfectly, only 
                        
                           
                              
                                 PL
                              
                           
                           
                              15
                           
                        
                      is dependently fixed, and other geometric elements are unfixed. The results are suggested as follows:
                        
                           (1)
                           Dependently fixed geometric elements: 
                                 
                                    
                                       
                                          PL
                                       
                                    
                                    
                                       15
                                    
                                 
                                 ,
                                 
                                    
                                       
                                          PL
                                       
                                    
                                    
                                       15
                                    
                                 
                                 ⋅
                                 
                                    
                                       S
                                    
                                    
                                       d
                                    
                                 
                                 =
                                 
                                    {
                                    
                                       
                                          
                                             PL
                                          
                                       
                                       
                                          6
                                       
                                    
                                    }
                                 
                              .

Unfixed geometric elements: 
                                 
                                    
                                       
                                          PL
                                       
                                    
                                    
                                       3
                                    
                                 
                                 ,
                                 
                                    
                                       
                                          PL
                                       
                                    
                                    
                                       6
                                    
                                 
                                 ,
                                 
                                    
                                       
                                          PL
                                       
                                    
                                    
                                       9
                                    
                                 
                                 ,
                                 
                                    
                                       
                                          CY
                                       
                                    
                                    
                                       1
                                    
                                 
                                 ,
                                 
                                    
                                       
                                          CY
                                       
                                    
                                    
                                       2
                                    
                                 
                                 ,
                                 
                                    
                                       
                                          CY
                                       
                                    
                                    
                                       6
                                    
                                 
                              .

Redundant dimensions: 
                                 
                                    {
                                    
                                       DIS
                                    
                                    ,
                                    
                                       
                                          
                                             PL
                                          
                                       
                                       
                                          20
                                       
                                    
                                    ,
                                    
                                       
                                          
                                             PL
                                          
                                       
                                       
                                          18
                                       
                                    
                                    ,
                                    15
                                    ,
                                    0
                                    ,
                                    1
                                    ,
                                    2
                                    }
                                 
                                 ,
                                 
                                    {
                                    
                                       DIS
                                    
                                    ,
                                    
                                       
                                          
                                             PL
                                          
                                       
                                       
                                          20
                                       
                                    
                                    ,
                                    
                                       
                                          
                                             CY
                                          
                                       
                                       
                                          5
                                       
                                    
                                    ⋅
                                    l
                                    ,
                                    10
                                    ,
                                    0
                                    ,
                                    1
                                    ,
                                    2
                                    }
                                 
                                 ,
                                 
                                    {
                                    
                                       DIS
                                    
                                    ,
                                    
                                       
                                          
                                             SP
                                          
                                       
                                       
                                          1
                                       
                                    
                                    ⋅
                                    p
                                    ,
                                    
                                       
                                          
                                             PL
                                          
                                       
                                       
                                          18
                                       
                                    
                                    ⋅
                                    p
                                    l
                                    ,
                                    35
                                    ,
                                    0
                                    ,
                                    1
                                    ,
                                    2
                                    }
                                 
                              .

Missing dimensions: 
                                 
                                    {
                                    
                                       DIS
                                    
                                    ,
                                    
                                       
                                          
                                             PL
                                          
                                       
                                       
                                          1
                                       
                                    
                                    ,
                                    
                                       
                                          
                                             PL
                                          
                                       
                                       
                                          9
                                       
                                    
                                    ,
                                    −
                                    1
                                    ,
                                    0
                                    ,
                                    0
                                    ,
                                    4
                                    }
                                 
                              , 
                                 
                                    {
                                    
                                       RAD
                                    
                                    ,
                                    
                                       
                                          
                                             CY
                                          
                                       
                                       
                                          2
                                       
                                    
                                    ⋅
                                    
                                       
                                          r
                                       
                                       
                                          1
                                       
                                    
                                    ,
                                    0
                                    ,
                                    −
                                    1
                                    ,
                                    0
                                    ,
                                    0
                                    ,
                                    4
                                    }
                                 
                                 ,
                                 
                                    {
                                    
                                       RAD
                                    
                                    ,
                                    
                                       
                                          
                                             CY
                                          
                                       
                                       
                                          6
                                       
                                    
                                    ⋅
                                    
                                       
                                          r
                                       
                                       
                                          1
                                       
                                    
                                    ,
                                    0
                                    ,
                                    −
                                    1
                                    ,
                                    0
                                    ,
                                    0
                                    ,
                                    4
                                    }
                                 
                              .

Undetermined dimensions: 
                                 
                                    {
                                    
                                       ANG
                                    
                                    ,
                                    
                                       
                                          
                                             PL
                                          
                                       
                                       
                                          14
                                       
                                    
                                    ,
                                    
                                       
                                          
                                             PL
                                          
                                       
                                       
                                          6
                                       
                                    
                                    ,
                                    120
                                    ,
                                    0
                                    ,
                                    1
                                    ,
                                    3
                                    }
                                 
                                 ,
                                 
                                    {
                                    
                                       ANG
                                    
                                    ,
                                    
                                       
                                          
                                             PL
                                          
                                       
                                       
                                          3
                                       
                                    
                                    ,
                                    
                                       
                                          
                                             PL
                                          
                                       
                                       
                                          2
                                       
                                    
                                    ,
                                    120
                                    ,
                                    0
                                    ,
                                    1
                                    ,
                                    3
                                    }
                                 
                              .

The rest of surfaces are fixed perfectly apart from the above mentioned geometric elements, and the rest of annotated dimensions are essential dimensions.

@&#CONCLUSIONS@&#

The dimensioning completeness inspection plays a critical role in 3D product designs. This paper proposes an intelligent reasoning approach to inspect the dimensioning completeness in mechanical parts, with the constrained states of their geometric elements obtained using the transient geometric elements. Specifically, the geometric elements are decomposed into BGEs and BDEs, and then the TGE is proposed to reflect the influences of the constraints on the geometric elements. Afterwards, the generation rules of the TGEs under 6 types of dimensions and simple constraints are analyzed, and the decomposition and simplification strategies of 3 types of complex constraints are established. New TGEs are then created using an upgrading geometric reasoning method to get the states of constrained BGEs and geometric elements. Finally, the completeness states of dimensioning are determined according to both the usage status of dimensions and the states of constrained geometric elements. By executing a typical case of example, the proposed approach is demonstrated to be stable and reliable.

The main advantages of this study are as follows: (1) the presented representation models of geometric elements can simplify the identification of the geometric element constrained states. The proposed transformation rules of constraints can reduce the computational complexity of the system. (2) the time-consuming iterative calculations can be avoided by using the upgrading reasoning method based on TGE. (3) the approach with a good generality is developed based on the research of the B-Rep model. It can deal with 8 types of general geometric elements, 9 types of dimensions and constraints. Therefore, the automaticity of dimension design can be improved when the approaches are applied in commercial systems.

On the basis of dimensioning completeness inspection, two problems will be investigated in the future work. How to generate the suitable dimensioning solutions to the unfixed geometric elements is the first one that needs to be solved. And how to select the alternative dimensioning solutions to the over-constrained geometric elements is another problem to investigate.

@&#ACKNOWLEDGMENT@&#

This work is funded by Defense Pre-research Fund of China under Grant Nos. 9140A18010111JW0602 and 51318010103. We are very grateful to the editor and four anonymous referees for their valuable comments.

See Tables A.1–A.6.

@&#REFERENCES@&#

