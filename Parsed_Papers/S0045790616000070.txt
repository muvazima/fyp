@&#MAIN-TITLE@&#Physical constraint and load aware seamless handover for IPTV in wireless LANs

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           A seamless handover mechanism for IPTV services in WLAN is proposed.


                        
                        
                           
                           The mechanism relies on received signal strength, congestion level and bit error rate.


                        
                        
                           
                           New method for estimation of congestion level of each access point is proposed.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Wireless LAN

IPTV

Seamless handover

BER

Congestion

@&#ABSTRACT@&#


               
               
                  In wireless LANs (WLANs), handover is usually performed based on either signal power or congestion level. However, considering only the congestion level could be insufficient for handover since it may cause traffic loss. Therefore, besides the load of access points (APs), it is necessary to consider the physical conditions of different WLANs for performing a seamless handover. This article introduces a novel scheme for seamless handover of IPTV streams in WLAN carrying IPTV traffic, called Physical Constraint and Load Aware (PCLA) handover. The PCLA can compute the load of APs for congestion detection purposes. In PCLA, a mobile node chooses the best network considering signal strength, bit error rate in the relevant environment, and the congestion of APs for making a seamless handover. The simulation results show the appropriateness of PCLA in improving handover performance.
               
            

@&#INTRODUCTION@&#

Nowadays, Internet Protocol Television (IPTV) is a competitive service in business and commercial areas, and most service providers attempt to deploy this platform because of its attraction and economical potential [1]. IPTV is a method for delivering digital television signals (involving audio, video and data) over Internet Protocol (IP) as the transport platform via broadband infrastructure, usually in a managed network to guarantee quality of service (QoS) [2]. “IPTV is defined as multimedia services such as television/video/audio/text/graphics/data delivered over IP based networks managed to provide the required level of quality of service and experience, security, interactivity and reliability” [3].

IPTV services can use wired or wireless technologies as their communication infrastructures. The IEEE 802.11n wireless local area network (WLAN) and Ultra Wideband (UWB) standards are two examples of wireless technologies that can be used. In 802.11n, data rate can increase up to 540Mbps within 50 meters range of AP (Access Point). In UWB, data rate is between 55Mbps and 480Mbps within small ranges [4].

With the growth of portable devices such as laptops, notebooks, and cell phones, the demand for accessing IPTV services through wireless networks has increased. IPTV users like to access multimedia services everywhere and at any time. However, there are some challenges in wireless networks for establishing IPTV services such as bandwidth, coverage area, Quality of Service (QoS), and Quality of Experience (QoE). IPTV subscribers may be unwilling to tolerate any degradation in quality of received video, and therefore, service providers should try to satisfy users in order to increase the number of customers [5]. An architecture is proposed in [6] for guarantying the QoS of mobile IPTV users which can be implemented in different OSI layers. For improving IPTV QoE in [7], a method has been proposed based on a circular buffer which uses two application layer strategies: forward error correction (FEC) and automatic repeat request (ARQ).

For transmission of IPTV packets, Real-time Transport Protocol (RTP) [8] and RTP Control Protocol (RTCP) [9] can be used. The RTP is an application layer protocol that defines a standard format for packets of multimedia systems such as IPTV. The RTCP is used for gathering transmission statistics and QoS issues. Both RTP and RTCP operate over UDP, where they can be multiplexed on a single UDP port used for each video stream [10].

WLAN is currently the most popular technology for transmitting traffic in local area networks. For supporting movement in WLAN, various mobility management schemes have been introduced. Balancing traffic load among APs is a requirement, especially when multiple APs are attached to one operator's network. It has been proposed in [11] that dynamic management of mobile nodes according to the bandwidth usage of each host can distribute traffic load among APs, thus increasing overall throughput. Due to the fact that IPTV has traffic streaming nature, a seamless service method is required for uninterrupted video playing. For seamless service of IPTV, an architecture that adjusts video streams according to link capabilities has been proposed in [12]. With multiple APs available for IPTV users, handover may reconnect a mobile node (MN) from one AP to another one. Typically, a MN chooses the AP with the highest received signal strength indicator (RSSI) for handover. In this paper, we call this method RSSI-based handover (RSSIH) from now on. However, this parameter is not sufficient by itself [13]. RSSI depends on the AP transmitter power and the distance of the MN from the antenna of AP, while there are many other factors which result in bit error in the MN. This motivates us to propose a new mechanism in which the MN should take into account physical constraints and the load of APs for making better decision in its handover procedure.

Our objective in this paper is to propose a new mechanism, called Physical Constraint and Load Aware (PCLA) handover, which considers various parameters involved in the handover management such as:

                        
                           •
                           RSSI which is the key parameter in handover procedure and represent the magnitude of signal power that can be received from AP.

BER which can represent environmental conditions that affect the quality of received data.

And finally, congestion level of available APs. If traffic in an AP grows so that it becomes congested, packets destined to mobile nodes will suffer from much delay and even loss. Thus, handover of mobile users to other available non-congested APs can overcome this problem.

By this mechanism, an optimum network is selected for handover with the objective of minimizing packet loss and delay of IPTV streams.

Our contribution is to propose a seamless handover procedure that selects the best network for handover in WLAN by considering signal strength, bit error rate (BER), and network congestion all at the same time.

This paper is organized as follows. Section 2 describes related research on mobility management and handover techniques. Section 3 details the proposed PCLA method for seamless handover of IPTV streams. Section 4 presents performance evaluation followed by a conclusion in Section 5.

@&#RELATED WORK@&#

There are some challenges in IPTV such as multicasting, admission control, and traffic management as discussed in [14]. Handover is desirable for supporting movement and connectivity in a WLAN with multiple APs. Handover is performed either by the network or by an end user or by cooperation of both. Handover can be divided into two categories: horizontal handover in homogeneous networks and vertical handover in heterogeneous networks with different infrastructures [15]. IEEE 802.21 has been produced for vertical handover between different wireless networks which are available now [16]. In [17], a protocol has been proposed to handover vertically between different types of WLANs with considering QoS.

According to another classification, handover could be either soft or hard. In the hard handover, before establishing a new connection, the current connection is terminated. On the other hand, there are two simultaneous connections at a period of time under the soft handover. The soft handover is crucial for providing seamless service for real time applications such as IPTV.

Handover procedure includes three steps. First, overlapping WLAN networks are found in the network discovery phase. Second, the best network is determined for handing over. In handover procedure for network selection, multiple parameters can be taken into account such as received signal strength indicator (RSSI), Signal to Noise Ratio (SNR), bandwidth, power consumption, price, and QoS parameters. Selection of appropriate criteria is important since an incorrect handover leads to the degradation of service level, thus reducing QoE. Finally, handover is performed.

For improving throughput of devices, an adaptive congestion control mechanism for vertical handover between 3G and WLAN has been provided in [18]. In [19], a Session Initiation Protocol (SIP) based procedure for handover in heterogeneous networks has been proposed which considers network congestion status.

It has been shown that received signal strength cannot detect reduction in quality of communication for WLAN handovers [20]. For handover initiation in the next generation networks, a fuzzy-logic adaptive threshold has been proposed in [21], where it is shown that in addition to RSSI other parameters such as receiver and transmitter heights are important for determining this threshold.

Handover can be performed at different OSI layers:

                        
                           •
                           In the network layer as Mobile IP [22] and Mobile network address translation (NAT) [23].

In the transport layer as TCP-R (TCP mobility support for continuous operation) [24] and Migrate-TCP [25].

In the session layer as Session Layer Mobility management (SLM) [26].

In the application layer as SIP [27]. In [28], a SIP based method has been proposed, but SIP is not appropriate for handling handover in multimedia systems since it has some drawbacks [29] and causes packet loss within handover procedure. In [28–31], it has been stated that the methods used in mobile IP for handover procedure have some drawbacks and are not efficient for IPTV traffic.

In [30–31], a seamless handover for IPTV streams has been proposed that uses the congestion level of APs for detecting an appropriate network. In these articles, MNs have equipped with two NICs. In [31], the Moving Average of Negative Jitters (MANJ) method has been proposed that can detect congestion level of different antennas using the jitter of IPTV packets. However, it does not consider physical conditions and the changes that occur in environmental positions due to movement of MNs.

Instead of using two 802.11 network interface cards (NICs), the method proposed in [32] uses one NIC with NIC virtualization layer on top of the IEEE 802.11 MAC layer. This can lead to fast switching among frequency channels and comparison of overlapping APs to select the best AP. This method compares the load of different APs with monitoring their beacon frames at inter-frame times. However, it only considers the load of different APs for handover. In addition, if the bandwidth of IPTV is high (e.g., 10Mbps for HDTV [33]), inter-frame time becomes too small for computing the load of neighbor APs.

In WLAN, the transmission medium is shared among users, and the Carrier Sense Multiple Access/Collision Avoidance (CSMA/CA) technique is used for medium access control (MAC). Three criteria are used in this paper for handover procedure as:

                        
                           1.
                           MNs compete with each other to access a channel, and therefore, the bandwidth of each user depends on the traffic of its neighbor nodes. Therefore, one criterion taken into account for handover procedure is the load of each AP.

A signal transmitted in a wireless network may experience considerable physical impairments such as attenuation, thermal noise, background noise, impulse noise, interference, path loss, and multi path fading. These physical constraints that vary according to the environmental conditions degrade the signal quality. Thus, another criterion for handover should be physical conditions in a wireless network. Bit error rate (BER) could be a good parameter for catching environmental conditions.

The RSSI that is related to AP transmitter power and the distance of MNs from the antenna of AP is the last criterion considered for handover issue. Note that BER alone does not include these two characteristics.

Before explaining PCLA, we provide a scenario and show that considering only the load of APs is not enough for handover procedure since it may cause traffic loss. In Fig. 1
                     , there are two WLANs connected to an IPTV server through an IP infrastructure.

In the overlapping area, user A can receive data from two neighbor APs through its two NICs. The IPTV server sends IPTV packets with size 1500 bytes and data rate of 30 packets per second using RTP over UDP to user A, via APs. Furthermore, other nodes connected to AP1 make this access point congested. On the other hand, AP2 is not congested since there is no additional user in its domain. However, AP2 experiences some additional impairments that leads to greater BER in AP2 than AP1. Let average BER of AP1 and AP2 be 10−6 and 5×10−4, respectively [34–35]. After 300s simulation of this scenario, user A receives 8923 packets from AP1, and only 5437 packets from AP2. In this scenario, if user A performed handover based on the load of APs and handed off to AP2 with less traffic, it would experience less IPTV service quality due to high packet loss in AP2 because of high BER in AP2.

Since data transmission in IPTV is streaming and UDP is used for transport protocol, there is no retransmission in transport layer for the packets that cannot be successfully delivered to their destinations. Therefore, in IPTV, packet loss must be minimized.

To estimate congestion level in an AP, a new procedure is developed in this section. Due to the fact that video traffic has VBR (Variable Bit Rate) nature after encoding, IPTV service should transform this VBR as CBR (Constant Bit Rate) traffic using the leaky bucket shaping technique in an encoder. Then, the video traffic is sent to subscribers using the CBR model [36], and therefore, we expect to receive CBR traffic at user nodes. In addition in [31], it has been stated that MANJ depends on the IPTV server transmitting packets at a constant rate. Therefore, we assume traffic rate is constant. However, packets may experience different delays during transmission period. To avoid interrupting a video playing, IPTV packets are usually queued in a buffer in each user node before video decoding and then played out.

Let a MN receive its IPTV packets through a given AP. To detect congestion level in the AP, the MN can employ its buffer size. If the AP becomes congested (e.g., by some background traffic generators), it cannot send IPTV packets to the MN on time. Therefore, the packets received at the MN through the AP will experience additional delay and the number of packets queued in the MN buffer will reduce. In other words, a small number of packets queued in the buffer of the MN denotes congestion in the AP. Therefore, if the departure rate from the buffer is constant, we can estimate the congestion level by measuring the buffer length. After the nth packet arrival at the buffer, packets depart from the buffer with CBR rate equal to the rate of packets transmitted at the IPTV server. Note that n is the initial buffering length, (i.e., n first video packets received at the MN are queued before playing out).

To estimate congestion level in a given AP, we use normalized parameter L that has inverse relation with the congestion level defined by

                           
                              (1)
                              
                                 
                                    L
                                    =
                                    
                                       
                                          L
                                          e
                                       
                                       n
                                    
                                    ,
                                 
                              
                           
                        where Le
                         is estimated congestion level of the AP defined by

                           
                              (2)
                              
                                 
                                    
                                       
                                          L
                                          e
                                       
                                       =
                                    
                                    
                                    Φ
                                    
                                    ×
                                    
                                    
                                       L
                                       a
                                    
                                    ,
                                 
                              
                           
                        where Φ is an encourage/punishment coefficient, which is a number between zero and one. Long-term average buffer length La
                         is defined using the running average method as

                           
                              (3)
                              
                                 
                                    
                                       
                                          L
                                          a
                                       
                                       =
                                    
                                    
                                    δ
                                    
                                    ×
                                    
                                    
                                       L
                                       a
                                    
                                    
                                       +
                                       
                                       
                                          (
                                          
                                             1
                                             −
                                             δ
                                          
                                          )
                                       
                                       ×
                                       
                                       
                                          L
                                          c
                                       
                                    
                                    ,
                                 
                              
                           
                        where the initial value of La
                         equals to Lc
                        , and δ is a coefficient for the running average. Note that Lc
                         is the short-term average buffer length regularly measured after departure of n packets from the queue with CBR rate. For example, at n
                        =10, Lc
                         is measured after departure of the 10th packet, after departure of the 20th packet, after departure of the 30th packet, and so on.

Note that default value of Φ is 1.0 and it is adjusted as follows:

                           
                              •
                              
                                 Punishment 
                                 state: when buffer is empty, Φ is updated by

                                    
                                       (4)
                                       
                                          
                                             
                                                Φ
                                                =
                                             
                                             
                                                
                                                   
                                                   max
                                                   
                                                
                                                
                                                   (
                                                   
                                                      Φ
                                                      −
                                                      
                                                         θ
                                                         
                                                            1
                                                            
                                                         
                                                      
                                                      ,
                                                      
                                                      0
                                                   
                                                   )
                                                
                                             
                                             .
                                          
                                       
                                    
                                 
                              


                                 Encourage 
                                 state: when buffer is not empty and queue length equals to n, Φ is updated by
                                    
                                       (5)
                                       
                                          
                                             
                                                Φ
                                                =
                                             
                                             
                                                
                                                   
                                                   min
                                                   
                                                
                                                
                                                   (
                                                   
                                                      Φ
                                                      +
                                                      
                                                         θ
                                                         
                                                            2
                                                            
                                                         
                                                      
                                                      ,
                                                      
                                                      1
                                                   
                                                   )
                                                
                                             
                                             .
                                          
                                       
                                    
                                 
                              

Here, θ1 and θ2 are two constant parameters set by the network manager. Since a buffer rarely becomes empty and most of the times its length equals to n (i.e., mostly there is no congestion), θ1 is set significantly larger than θ2.

In the PCLA method, a Network Quality Indicator (NQI) parameter for a given AP in a MN is defined by

                           
                              (6)
                              
                                 
                                    
                                       N
                                       Q
                                       I
                                       =
                                    
                                    
                                    α
                                    
                                    ×
                                    
                                    R
                                    
                                       +
                                       
                                       β
                                       ×
                                       
                                       B
                                    
                                    +
                                    
                                    γ
                                    ×
                                    
                                    L
                                    ,
                                 
                              
                           
                        where R is the normalized value for RSSI, B is the normalized value of bit error rate, and L is the normalized value which has inverse relation with the congestion level of the AP. Parameters α, β, and γ are smoothing coefficients used for balancing the NQI value, where α + β + γ = 1 and they are positive numbers. The NQI is used for determining the optimum network. For computing NQI in Eq. (6), each one of the parameters that have more priority should be given high coefficient and vice versa. Since R, B and L have a value between zero and one; NQI has a value between zero and one as a result. When NQI computed for a given AP is high, that AP is more appropriate for handover.

Basically, when the received signal power from a given AP is high or L is high, it is more appropriate for handover. However, when BER is small for a given AP, that AP is better for handover. Therefore, NQI must have direct relation with the signal power and L, and inverse relation with the BER of APs. For example by increasing the congestion level of the AP, parameter L reduces and NQI for that AP decreases. There are two situations in the PCLA method for computing Eq. (6) as:

                           
                              1.
                              Computing NQI for one available AP when there is only one active NIC in a MN: Here, the MN computes the normalized value of RSSI by
                                    
                                       (7)
                                       
                                          
                                             R
                                             =
                                             
                                                
                                                   R
                                                   
                                                      c
                                                      u
                                                      r
                                                   
                                                
                                                
                                                   R
                                                   
                                                      m
                                                      a
                                                      x
                                                   
                                                
                                             
                                             ,
                                          
                                       
                                    
                                 and the normalized value of BER by

                                    
                                       (8)
                                       
                                          
                                             B
                                             =
                                             
                                                {
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        Log
                                                                        
                                                                     
                                                                     
                                                                        (
                                                                        
                                                                           B
                                                                           
                                                                              c
                                                                              u
                                                                              r
                                                                           
                                                                        
                                                                        )
                                                                     
                                                                  
                                                                  
                                                                     
                                                                        Log
                                                                        
                                                                     
                                                                     
                                                                        (
                                                                        
                                                                           B
                                                                           
                                                                              m
                                                                              i
                                                                              n
                                                                           
                                                                        
                                                                        )
                                                                     
                                                                  
                                                               
                                                            
                                                            ,
                                                            
                                                            i
                                                            f
                                                            
                                                            
                                                               B
                                                               
                                                                  m
                                                                  i
                                                                  n
                                                               
                                                            
                                                            >
                                                            0
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        Log
                                                                        
                                                                     
                                                                     
                                                                        (
                                                                        
                                                                           B
                                                                           
                                                                              c
                                                                              u
                                                                              r
                                                                           
                                                                        
                                                                        )
                                                                     
                                                                  
                                                                  
                                                                     −
                                                                     100
                                                                  
                                                               
                                                            
                                                            ,
                                                            
                                                            i
                                                            f
                                                            
                                                            
                                                               B
                                                               
                                                                  m
                                                                  i
                                                                  n
                                                               
                                                            
                                                            =
                                                            0
                                                         
                                                      
                                                   
                                                
                                             
                                             .
                                          
                                       
                                    
                                 
                              

In Eq. (7), Rcur
                                  denotes the current received signal strength from the corresponding AP, and Rmax
                                  denotes the maximum amount of the received signal power of the AP from the beginning of the connection until current time (i.e., the calculation time of NQI). When the MN is close to an antenna, its received signal power increases. Thus, the calculated value for RSSI in Eq. (7) approaches 1.0.

In Eq. (8), Bcur
                                  denotes the current BER of corresponding AP, and Bmin
                                  denotes the minimum amount of BER of corresponding AP from the beginning of the connection until current time. In Eq. (8), if Bmin
                                  = 0, the below equation is computed. This equation is used to solve the problem of division by zero. We assume that the smallest BER in a wireless network could be 10–
                                 100, and therefore, –100 is used in the second condition in Eq. (8). Since the BER value has a lot of variation due to different environmental conditions, the logarithmic value of BER is calculated in order to smooth the BER value. When physical impairments are large, Bcur
                                  increases, and therefore, the calculated B in Eq. (8) reduces and approaches zero. For example, assuming Bmin
                                  = 10−6 and Bcur
                                  = 10−5, we find B
                                 =5/6. Now by considering Bcur
                                  = 10−2, we obtain B
                                 =2/6.

Computing NQI for two available APs when two NICs of the MN are active: Let R_1
                                    cur
                                  and R_2
                                    cur,
                                  respectively, denote the current RSSI of AP1 and AP2; B_1
                                    cur
                                  and B_2
                                    cur,
                                  respectively, denote the current BER of AP1 and AP2; and L_1
                                    cur
                                  and L_2 
                                    cur
                                 , respectively, denote the current computed congestion level of AP1 and AP2. In this case, the network quality indicator for AP1, i.e. NQI_1, is computed by
                                    
                                       (9)
                                       
                                          
                                             
                                                N
                                                Q
                                                I
                                                _
                                                1
                                                =
                                             
                                             
                                             α
                                             
                                             ×
                                             
                                             R
                                             _
                                             1
                                             
                                                +
                                                
                                                β
                                                ×
                                                
                                                B
                                                _
                                                1
                                             
                                             +
                                             
                                             γ
                                             ×
                                             
                                             L
                                             _
                                             1
                                             ,
                                          
                                       
                                    
                                 where the normalized value of RSSI for AP1 (i.e., R_1) is computed by

                                    
                                       (10)
                                       
                                          
                                             R
                                             _
                                             1
                                             =
                                             
                                             
                                                
                                                   R
                                                   _
                                                   
                                                      1
                                                      
                                                         c
                                                         u
                                                         r
                                                      
                                                   
                                                
                                                
                                                   max
                                                   
                                                      (
                                                      
                                                         R
                                                         _
                                                         
                                                            1
                                                            
                                                               c
                                                               u
                                                               r
                                                            
                                                         
                                                         ,
                                                         
                                                         
                                                         R
                                                         _
                                                         
                                                            2
                                                            
                                                               c
                                                               u
                                                               r
                                                            
                                                         
                                                      
                                                      )
                                                   
                                                
                                             
                                             ,
                                          
                                       
                                    
                                 the normalized value of BER for AP1 (i.e., B_1) is given by

                                    
                                       (11)
                                       
                                          
                                             B
                                             _
                                             1
                                             =
                                             
                                             
                                                
                                                   Log
                                                   
                                                   (
                                                   B
                                                   _
                                                   
                                                      1
                                                      
                                                         c
                                                         u
                                                         r
                                                      
                                                   
                                                   )
                                                
                                                
                                                   
                                                      Log
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         min
                                                         
                                                            (
                                                            
                                                               B
                                                               _
                                                               
                                                                  1
                                                                  
                                                                     c
                                                                     u
                                                                     r
                                                                  
                                                               
                                                               ,
                                                               
                                                               
                                                               B
                                                               _
                                                               
                                                                  2
                                                                  
                                                                     c
                                                                     u
                                                                     r
                                                                  
                                                               
                                                            
                                                            )
                                                         
                                                      
                                                      )
                                                   
                                                
                                             
                                             ,
                                          
                                       
                                    
                                 and the normalized value of L for AP1 (i.e., L_1) is calculated by

                                    
                                       (12)
                                       
                                          
                                             L
                                             _
                                             1
                                             =
                                             
                                                
                                                   L
                                                   _
                                                   
                                                      1
                                                      
                                                         c
                                                         u
                                                         r
                                                      
                                                   
                                                
                                                
                                                   max
                                                   
                                                      (
                                                      
                                                         L
                                                         _
                                                         
                                                            1
                                                            
                                                               c
                                                               u
                                                               r
                                                            
                                                         
                                                         ,
                                                         
                                                         
                                                         L
                                                         _
                                                         
                                                            2
                                                            
                                                               c
                                                               u
                                                               r
                                                            
                                                         
                                                      
                                                      )
                                                   
                                                
                                             
                                             ,
                                          
                                       
                                    
                                 
                              

Similarly, we compute the network quality indicator for AP2, NQI_2, by

                           
                              (13)
                              
                                 
                                    
                                       N
                                       Q
                                       I
                                       _
                                       2
                                       =
                                    
                                    
                                    α
                                    
                                    ×
                                    
                                    R
                                    _
                                    2
                                    
                                       +
                                       
                                       β
                                       ×
                                       
                                       B
                                       _
                                       2
                                    
                                    +
                                    
                                    γ
                                    ×
                                    
                                    L
                                    _
                                    2
                                    ,
                                 
                              
                           
                        where the normalized value of RSSI for AP2 (i.e., R_2) is given by

                           
                              (14)
                              
                                 
                                    R
                                    _
                                    2
                                    =
                                    
                                    
                                       
                                          R
                                          _
                                          
                                             2
                                             
                                                c
                                                u
                                                r
                                             
                                          
                                       
                                       
                                          max
                                          
                                             (
                                             
                                                R
                                                _
                                                
                                                   1
                                                   
                                                      c
                                                      u
                                                      r
                                                   
                                                
                                                ,
                                                
                                                
                                                R
                                                _
                                                
                                                   2
                                                   
                                                      c
                                                      u
                                                      r
                                                   
                                                
                                             
                                             )
                                          
                                       
                                    
                                    ,
                                 
                              
                           
                        the normalized value of BER for AP2 (i.e., B_2) is computed by

                           
                              (15)
                              
                                 
                                    B
                                    _
                                    2
                                    =
                                    
                                       
                                          Log
                                          
                                          (
                                          B
                                          _
                                          
                                             2
                                             
                                                c
                                                u
                                                r
                                             
                                          
                                          )
                                       
                                       
                                          
                                             Log
                                             
                                          
                                          
                                             (
                                             
                                                min
                                                
                                                   (
                                                   
                                                      B
                                                      _
                                                      
                                                         1
                                                         
                                                            c
                                                            u
                                                            r
                                                         
                                                      
                                                      ,
                                                      
                                                      
                                                      B
                                                      _
                                                      
                                                         2
                                                         
                                                            c
                                                            u
                                                            r
                                                         
                                                      
                                                   
                                                   )
                                                
                                             
                                             )
                                          
                                       
                                    
                                    ,
                                 
                              
                           
                        and the normalized value of L for AP2 (i.e., L_2) is calculated by

                           
                              (16)
                              
                                 
                                    L
                                    _
                                    2
                                    =
                                    
                                       
                                          L
                                          _
                                          
                                             2
                                             
                                                c
                                                u
                                                r
                                             
                                          
                                       
                                       
                                          max
                                          
                                             (
                                             
                                                L
                                                _
                                                
                                                   1
                                                   
                                                      c
                                                      u
                                                      r
                                                   
                                                
                                                ,
                                                
                                                
                                                L
                                                _
                                                
                                                   2
                                                   
                                                      c
                                                      u
                                                      r
                                                   
                                                
                                             
                                             )
                                          
                                       
                                    
                                    ,
                                 
                              
                           
                        
                     

Notice that parameter L can be determined using the method stated in Section 3.1. In addition, BER can be estimated based on the information of received packets by the method presented in [35].

For estimation of the coefficients used in Eq. (9), several suggestions can be presented. One of them is to use default values. Another way is to set these coefficients in order to provide high priority for the relevant performance parameter. For example, if congestion is fundamental in a WLAN and there are peak times that some APs are crowded, the corresponding coefficient (i.e., γ) should be set to high values in comparison to others. In addition, a trial and error method can be used by a network administrator for finding the best results.

The overall procedure of PCLA is presented in Fig. 2
                        
                        
                        . Consider an IPTV mobile node in a WLAN area. First, the MN searches for available APs through one of its NICs. Then, it chooses one of the APs with the highest RSSI (say APcur) and connects to the IPTV server through APcur.

Then, the MN computes the NQI value for the current APcur and begins the signal quality monitoring phase. Note that index t in the flowchart shows the calculation time and index k indicates the antenna number. For example, NQIt
                           k
                         indicates the computed network quality indicator by antenna k at time t, and Lt
                           k
                         indicates the computed congestion level by antenna k at time t. Define V to be a coefficient value which is used in handover decision making procedure.

When the value of NQI in a MN reduces by a factor of V, the second NIC is activated. Then, the MN starts discovering of other networks. If there is not any other AP, no change happens in the connection. If the MN finds another suitable access point (connected to the same IPTV infrastructure) say APnew, its NQI is computed and compared with the NQI of the current APcur. If the difference is less than a factor of V, then the MN searches for other available APs because there is no major difference between APcur and APnew, and handover may result in the ping–pong effect (oscillation). However, if the difference is greater than a factor of V, then APnew can be a good candidate for handover. Ultimately, handover is performed to APnew. Fig. 3 provides an illustration about handover decision scheme used in PCLA.

@&#PERFORMANCE EVALUATION@&#

In our simulation model, two 802.11g WLAN domains are considered. Two APs are connected to an IPTV server through an IP infrastructure. These APs send IPTV traffic to the subscribers. The IPTV subscribers are dual homed and have two wireless NICs. Some other MNs that are not IPTV subscribers in the model are used for generating background traffic and making the APs congested. Data rates of both APs are 54Mb/s. The transmission powers of all nodes are set to 0.005watts. Radius of each cell is 1km. Packet reception power threshold (receiver sensitivity) is set to –95dBm. Our simulations have been implemented by the OPNET modeler version 14 [37]. For evaluating frame loss rate in the MN under different scenarios, we have carried out 15 simulation replications. The results for frame loss rate have been displayed with 95% confidence interval in the following. Note that default values of V, θ
                     1, θ
                     2, δ, α, β and γ are set to 10, 0.1, 0.01, 0.9, 0.4, 0.2 and 0.4, respectively.

In order to evaluate the proposed congestion level detection algorithm, a number of simulation experiments have been carried out over the network shown in Fig. 4. Video frames streamed from the IPTV server arrive at user A via the AP. Table 1 shows the initialization values of different parameters configured within the simulation. Traffic generation in each node is activated at a different time randomly distributed in range (40s, 300s).


                        Fig. 5
                         displays the variation of Le
                         at user A for different numbers of neighbor nodes. In Fig. 5(a)–(e), there are, respectively, two, four, six, nine, and 12 nodes. These figures show that with increasing the congestion of the AP, estimated value of Le
                         decreases and vice versa. When nodes are inactive between 0 and 40s, the value of Le
                         equals 10 (i.e., configured buffer length). By activating nodes to generate traffic, the value of Le
                         decreases corresponding to the traffic of generators. After 300s, the value of Le
                         increases to reach its maximum value 10. Therefore, the proposed mechanism can follow the trend of congestion in the WLAN.

In order to evaluate the PCLA handover, four scenarios are defined over the network model depicted in Fig. 1. For instance, suppose that an IPTV service (which is implemented in a university campus on an IEEE 802.11 WLAN with multiple APs (say EBSS
                           1
                        
                        
                           1
                           Extended Basic Service Set.
                         topology) over a metropolitan network) brings IPTV packets to students’ portable devices such as notebooks, tablets and so on; while they are walking along the campus and handover between different APs. Table 2
                        
                         shows the initialization values of different parameters configured within the simulation scenarios.

Note that these parameters have been chosen in a way similar to the parameters used in [31]. In the following scenarios, a MN moves between APs with different conditions. The delay performance represents the end-to-end delay of all the data packets successfully received by the WLAN MAC in the MN. The frame loss performance is the difference between the number of all video frames sent by the video server and the number of all video frames successfully received by the MN. The jitter performance denotes the jitter of all the frames successfully arrived at the MN. Finally, the throughput performance denotes total traffic (in bits/sec) successfully received and forwarded to the higher layer by the MN. This measurement does not include (1) unicast frames addressed to another MAC, and (2) duplicate frames for previously received frames, and (3) incomplete frames (i.e., all fragments of a frame have not been received within a certain time, and therefore, the received fragments must be discarded).

A MN begins to move from cell number 1 with constant speed towards cell number 2. Its speed is set in a way that the MN arrives at the specified endpoint shown in Fig. 6
                           
                           
                            in 600s (equivalent to simulation time). In all, 24000 frames are generated in each simulation run. As seen in Fig. 6, there are other nodes in the first cell that make the AP1 congested.

In all of following diagrams, PCLA(AP1) and PCLA(AP2) show respectively the results obtained when using the PCLA method to connect the MN to the IPTV video server over AP1 and AP2. Similarly, MANJ(AP1) and MANJ(AP2) denote the results obtained from using the MANJ method [31] to connect the MN to the video server over AP1 and AP2.


                           Fig. 7 shows the throughput performance under three methods RSSIH, MANJ, and PCLA. In Fig. 7(a), the RSSIH method is compared with PCLA. Under RSSIH, the throughput is zero (between 370 and 390s) during the handover process. On the other hand, using PCLA, before declining data throughput, the second network card has been activated and handover has been fulfilled seamlessly, and therefore, throughput has remained constant.

In Fig. 7(b), MANJ is compared with PCLA. Under the MANJ method, after time t
                           =160s, two antennas are compared in terms of traffic congestion. Since the second antenna has less traffic than the first one, handover is performed quickly. Nevertheless, between time t
                           =160 and time t
                           =250, the MN is far away from AP2 and throughput is still low. However, in PCLA, the MN waits until approaching the second antenna, where its signal power increases enough for performing handover. Therefore, PCLA has better performance in terms of throughput.


                           Fig. 8
                           
                           
                           
                           
                           
                           
                           
                           
                           
                           
                           
                           
                            shows the delay performance under RSSIH, MANJ and PCLA. In Fig. 8(a), the frames received from AP1 experience more delay than from AP2 because of congestion in AP1. In RSSIH, handover to AP2 is performed at time 390s, but this happens at time 240s under PCLA. Thus, users experience less delay overall under PCLA. Note that delay is only calculated when a frame arrives from an AP. Thus, when handover occurs halfway at time 390s for RSSIH and at time 240s for PCLA, the connection with previous AP is terminated and the times series of that AP are stopped in the delay plot. In Fig. 8(b), there is no major difference between MANJ and PCLA. The only difference is that MANJ performs handover a little sooner.


                           Fig. 9 illustrates the frame loss performance in Scenario 1 under the three methods. The RSSIH method has the highest and PCLA has the lowest frame loss. Notably, the number of frames dropped during the handover process is close to zero in MANJ and PCLA, but there are 1000 frames dropped only because of the handover process under RSSIH.


                           Fig. 10 displays the jitter performance under RSSIH, MANJ and PCLA, where the frames received from AP1 have high jitter under all three methods in comparison with the second antenna. The jitter of frames received from AP2 is almost zero because the relevant antenna is free of congestion. Under RSSIH, a MN is connected through AP1 for a longer time compared to MANJ. Although the MN under MANJ performs handover to AP2 faster compared to PCLA, the jitter of the frames received through AP2 is high due to long distance of the MN from AP2 and high frame loss rate. Thus, PCLA provides the lowest jitter in comparison with other methods.

As seen in Fig. 11, a MN begins to move from cell number 1 and enters the overlapping area of the two cells. Next, it remains moving in the overlapping area for 300s, and then moves towards the second cell. In all, 24000 frames are generated in each simulation run. There are a number of nodes in cell number 1 that produce background traffic and make AP1 congested. Note AP2 is free of congestion, but a series of environmental problems in this cell causes frames to experience high bit error rates.


                           Fig. 12 shows the throughput performance under RSSIH, MANJ and PCLA in Scenario 2. In Fig. 12(a), the RSSIH method is compared with PCLA. According to the diagram, in the RSSIH method, the MN is connected to AP1 until time t
                           =450s and then hands over to AP2. The throughput is zero between time t
                           =450 and t
                           =470s. In PCLA, the second NIC is activated at time t
                           =90s and the MN compares two APs with each other. Due to the high bit error rate at AP2, the MN decides to remain in AP1 and its second NIC is deactivated. At time t
                           =410s, the second NIC is activated again. At about t
                           =430s, handover is performed to AP2 seamlessly.

In Fig. 12(b), MANJ is compared with PCLA. Under MANJ, after time t
                           =90s, two antennas are compared in terms of traffic congestion. Since the second antenna has less traffic than the first one, handover is performed quickly. Then, the MN is disconnected from AP1 and connected to the second antenna. Then, it remains connected to the second antenna until the end of simulation. However, according to the diagram, physical layer problems and low throughput due to the second antenna leads to low throughput. Whereas in PCLA, the MN does not immediately handover to AP2 after receiving frames from it because the second antenna has high BER. Despite the congestion of AP1, until time t
                           =430s, AP1 is selected as the appropriate antenna for the connection by PCLA. In PCLA, when the MN goes away from the first antenna and the received signal strength decreases, handover is performed seamlessly to the second antenna.


                           Fig. 13 shows the delay performance under RSSIH, PCLA and MANJ. In Fig. 13(a), the RSSIH method is compared with PCLA, where delays of received frames from AP1 are much higher than from AP2 due to congestion in AP1. In RSSIH, handover is performed to AP2 at time t
                           =470s, but this happens for PCLA at time t
                           =430s. In Fig. 13(b), MANJ is compared with PCLA, where MANJ handovers to AP2 sooner than others. The MANJ has better performance in terms of frame delay, but this is at the price of frame loss.


                           Fig. 14 depicts the number of lost frames, where MANJ has the largest and PCLA has the smallest number of lost frames. Notably, in MANJ and PCLA, the number of frames dropped during the handover process is close to zero. However, in the RSSIH method, 600 frames have been dropped only because of the handover process. Under MANJ, since the MN handovers sooner to AP2 and this antenna has high BER, many received frames are corrupted and lost. Frame loss in AP1 for all three methods is because of congestion and high delay, and in AP2 is because of high BER.


                           Fig. 15 displays the jitter performance, where the MANJ method has the largest jitter and PCLA has the lowest jitter. Comparing PCLA and MANJ, when MANJ performs handover to AP2, PCLA is still connected to AP1. At this time, the jitter of frames received from AP2 is high because of physical impairments. Thus, PCLA provides the lowest jitter in comparison with other methods.

To evaluate a reverse scenario, we consider that the MN moves from AP2 (free of congestion) to AP1 which is congested. This scenario is depicted in Fig. 16. Fig. 17 illustrates the throughput performance under RSSIH, MANJ and PCLA in Scenario 3. In Fig. 17(a), the RSSIH method is compared with PCLA. According to the diagram, in the RSSIH method, a MN is connected to AP2 until time t
                           =250s and then makes handover to AP1. The throughput is zero between time t
                           =250 and t
                           =270s. Under PCLA, the second NIC is activated at time t
                           =145s and the MN compares two APs with each other and handover is seamlessly performed to AP1.

In Fig. 17(b), MANJ is compared with PCLA. Under PCLA, after time t
                           =145s, two antennas are compared. Although the second antenna has more traffic than the first one, but handover is performed quickly before signal power of AP2 is reduced too much. However, in MANJ, the MN finds out that AP1 is congested and decides to remain on AP2 until time t
                           =240seconds, and then makes handover. However, the weak signal power of AP2 after time t
                           =160seconds leads to low throughput. Therefore, PCLA can provide better performance in terms of throughput.


                           Fig. 18 illustrates the frame loss performance in Scenario 3 under the three methods. The RSSIH method has the highest frame loss and PCLA has the lowest frame loss performances. Notably, the number of frames dropped during the handover process is close to zero in MANJ and PCLA, but there are 600 frames dropped only because of the handover process under RSSIH.

To evaluate a different scenario, we consider both APs have similar conditions. However, there is some background traffic in each cell, where neither of APs is congested. The MN moves from AP1 to AP2. This scenario is depicted in Fig. 19.
                        


                           Fig. 20 illustrates the throughput performance under RSSIH, MANJ and PCLA in Scenario 4. In Fig. 20(a), the RSSIH method is compared with PCLA. According to the diagram, under RSSIH, the throughput is zero (between 370 and 390s) during the handover process. In the PCLA, the second NIC is activated at time t
                           =240s and the MN compares two APs with each other and handover is seamlessly performed to AP2. In Fig. 20(b), MANJ is compared with PCLA. At around time t
                           =300, two APs have quite the same conditions in terms of congestion, BER and RSSI. Thus, PCLA and MANJ have quite the same results in terms of throughput.


                           Fig. 21 illustrates the frame loss performance in Scenario 4 under the three methods. The RSSIH method has the highest frame loss and both PCLA and MANJ have almost equal frame loss performances. Notably, the number of frames dropped during the handover process is close to zero in MANJ and PCLA, but there are 600 frames dropped only because of the handover process under RSSIH.

In this section, different simulation parameters for PCLA are evaluated. Three sets of α, β, and γ are considered as follows: Set1: (α = 0.4, β = 0.2, γ =0.4), Set2: (α = 0.3, β = 0.4, γ =0.3), and Set3: (α = 0.2, β = 0.5, γ =0.3). Simulation of Scenario 1 is repeated on these sets. Fig. 22 shows the throughput performance when the MN moves from AP1 to AP2 as shown in Fig. 6. There are other nodes in the first cell that make the AP1 congested. Note that for calculation of throughput in Fig. 22, the duplicate frames received from two APs in the overlap area are not considered and only the frames selected for playing out are depicted.

In Fig. 22(a), the PCLA-Set1 diagram shows the throughput of MN under Set1 values. In this diagram, after time t
                           =250seconds, two antennas are compared and it is found out that AP1 is more congested. Then, the MN decides to handover quickly to AP2 and then remains on AP2 until the end of simulation.

In Fig. 22(b), PCLA-Set2 diagram shows the throughput of MN under Set2 values. Both NICs of the MN are active between time t
                           =250s and t
                           =380s. In this diagram, there is one oscillation in that duration. In Fig. 22(c), the PCLA diagram shows the throughput of MN under Set3. In this diagram, there is an oscillation too between time t
                           =250s and t
                           =380s. This example shows that smoothing coefficients used for balancing NQI are flexible and should be chosen carefully by the WLAN administrator.

We have observed in our simulations that the PCLA can estimate the load of corresponding AP by 10 packets (at n
                           =10) and by measuring buffer length and computing its average for 10 packets departures. Note that BER and RSSI are available every time, and therefore, PCLA can compare two APs within a period of 10 packets departure time. On the other hand, MANJ needs about 150 packets jitter to estimate the load of an AP. At the rate of 40 packets per second, PCLA can make decision for handover in 0.25s, whereas MANJ needs 3.75s for handover decision making.

@&#CONCLUSION@&#

In this paper, a novel scheme for handover of IPTV streams, called PCLA, has been proposed. In this method besides received signal strength, physical impairments and congestion level of APs are considered during handover. A new mechanism for congestion detection and estimation has also been proposed. Our performance evaluation results show that PCLA improves IPTV performance in terms of throughput, frame loss, and jitter. However, for obtaining better results, the coefficients used in PCLA should be selected based on a WLAN environment and condition. The PCLA method can quickly compare available antennas. Hence, it can perform quick handover to an appropriate network. In addition, only one NIC is often active in the PCLA method and the second NIC is only used within handover procedure, thus resulting in low energy consumption.

@&#ACKNOWLEDGMENT@&#

This research was financially supported by Research Institute for ICT, Iran.

@&#REFERENCES@&#

