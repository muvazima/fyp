@&#MAIN-TITLE@&#Optimal inventory policy for two substitutable products with customer service objectives

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           The first paper to study inventory substitution with service level requirements.


                        
                        
                           
                           Deep analysis and additional insights for the model with two substitutable products.


                        
                        
                           
                           Numerical study shows how optimal inventory levels are affected by service levels.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Inventory management

Capacity management

Substitution

Perishability

Customer service objective

@&#ABSTRACT@&#


               
               
                  We consider a firm facing stochastic demand for two products with downward, supplier-driven substitution and customer service objectives. We assume both products are perishable or prone to obsolescence, hence the firm faces a single period problem. The fundamental challenge facing the firm is to determine in advance of observing demand the profit maximizing inventory levels of both products that will meet given service level objectives. Note that while we speak of inventory levels, the products may be either goods or services. We characterize the firm’s optimal inventory policy with and without customer service objectives. Results of a numerical study reveal the benefits obtained from substitution and show how optimal inventory levels are impacted by customer service objectives.
               
            

@&#INTRODUCTION@&#

Product substitution is important to many firms. For example, manufacturers of components used in consumer electronics (CE) routinely design new generations of their devices in a way that allows more than one model of a generation to work in the end-product of a CE manufacturer. If one such model being supplied to a CE manufacturer for use in an end-product stocks out, then the component manufacturer is often able to still meet the CE manufacturer’s demand by providing, in lieu of the model that has stocked out, a superior model. This is an example of downward, supplier-driven substitution. Downward refers to a supplier meeting customer demand for a product j by providing a product i that has better quality and/or more functionality than product j. Supplier-driven indicates it is the supplier of the product that reacts to the stockout and takes action. This is unlike the situation in a restaurant for instance where after a customer learns that his first choice is unavailable, he picks another item from the menu, which is an example of customer-driven substitution.

The earliest study of substitution was undertaken several decades ago by McGillivray and Silver (1978). There now exists a stream of research on this topic. Interestingly, none of it considers customer service objectives, e.g. fill rates or in-stock probabilities (see Cachon & Terwiesch, 2012 for a thorough discussion of these measures). Juxtaposed with this reality are (1) surveys such as the one by Aberdeen (Kay, 2005), which reported that 70 percent of companies feel that providing a high level of service is critical to their business operations, and (2) the fact that in the more general operations and supply chain management literature, there is a steady flow of research with a service level aspect (e.g. see Alptekinoglu, Banerjee, Paul, & Jain, 2013; Bensoussan, Feng, & Sethi, 2011; Chen & Shen, 2012; Wang, Xiao, & Yang, 2014). The lacuna in the substitution literature with respect to service levels, combined with the increasing importance of service levels to business, motivates our study of a substitution problem with customer service objectives.

More specifically, we consider a firm that faces stochastic demand for two products where an in-stock probability service level objective has been set for each product. The in-stock probability of a product is the probability the firm has inventory to meet every customer demand for the product. We designate the two products “1” and “2” with product 1 as good as or superior to product 2 in every respect, hence product 1 can substitute for product 2. As is common practice in the CE industry, we assume that the substitution is supplier-driven. Furthermore, we also assume both products are perishable or prone to obsolescence, i.e. both products have short life cycles. The firm under consideration therefore faces a single period problem, which is to determine in advance of observing demand the profit maximizing inventory/stocking levels of both products that will meet given customer service objectives. Note that throughout the paper we speak of inventory or stocking levels, however the products may be either goods or services and in the latter case we are interested in determining capacities to put in place. Also, we use increasing to mean non-decreasing and decreasing to mean non-increasing.

The rest of the paper is organized as follows. In Section 2, we review the relevant substitution literature. In Section 3, we begin our study of the problem setting without customer service objectives. We develop a general model of inventory policies for the two products with downward, supplier-driven substitution. In Section 4, we introduce into the analysis service level constraints of the in-stock variety and identify the optimal inventory policy for the firm. In Section 5, we present the results of a numerical study that reveal the benefits obtained from substitution and show the impact of customer service objectives on optimal inventory levels. Section 6 summarizes our findings and highlights future research opportunities.

@&#LITERATURE REVIEW@&#

As already noted, the earliest investigation of inventory management involving substitution was undertaken by McGillivray and Silver (1978). In their study inventory was managed using an order-up-to policy with a fixed review period. Some analytical results were established for limiting cases including complete-substitutability and no-substitutability. For cases in-between these two extremes, a heuristic approach was developed and tested for establishing order-up-to levels.

Research undertaken subsequent to McGillivray and Silver (1978) can be divided into whether it is consumer or supplier-driven and whether it involves deterministic or stochastic demand. We refer the reader to the survey by Pentico (2008) for research that has been done on consumer-driven substitution and to the papers of Hsu, Li, and Xiao (2005) and Bardhan, Dawande, Gavirneni, Mu, and Sethi (2013) for reviews of the research on substitution that has been done in the deterministic context. In the rest of this literature review we focus on the previous research that involved stochastic demand and supplier-driven substitution.


                     Pasternack and Drezner (1991) investigated a single-period two-product setting where both products can substitute for each other. They showed that the optimal profit function is concave and they derived formulas for the optimal order quantities. The authors also derived formulas for the optimal stocking levels under specific conditions in the case where only one product can serve as a substitute.


                     Van Mieghem (1998) studied the setting of a two-product firm that has the option to invest in product-dedicated resources and/or in a flexible resource that can produce either product. He showed that investment in a flexible resource can be advantageous even with perfectly correlated product demands.


                     Bassok, Anupindi, and Akella (1999) considered a single-period multi-product setting with downward substitution. Under various assumptions, they showed the concavity and submodularity of their expected profit function. The authors also developed explicit expressions for the first partial derivatives of the profit function and derived the optimal order policy.


                     Van Mieghem and Rudi (2002) extended the multidimensional newsvendor model of Van Mieghem (1998) to a newsvendor network that allows for multiple products and multiple processing and storage points. Using this framework, they studied various problems of capacity and inventory management, including assembly, commonality, distribution, flexibility, substitution and transhipment.


                     Axsäter (2003a; 2003b) examined a single-echelon inventory system consisting of a number of parallel warehouses. While the warehouses are normally replenished from an outside supplier, lateral transhipment between the warehouses is allowed. When demand for a low-quality item cannot be met, a high-quality item can be substituted, which is referred to as a unidirectional transhipment.


                     Karaesmen and van Ryzin (2004) studied an overbooking problem with multiple reservation and inventory classes and a general substitution structure. They formulated a two period model, where reservations are accepted in the first period and then in the second period after cancellations are realized the remaining customers are assigned to the various inventory classes to maximize the net benefit.


                     Rao, Swaminathan, and Zhang (2004) also considered a single-period, multi-product setting with downward substitution but with setup costs. They formulated a two-stage integer stochastic program with recourse where the first stage decision variables determined which products to produce and in what quantity, while the second stage decision variables determined how the products were allocated to meet demand.


                     Shumsky and Zhang (2009) studied a multi-period, multi-product (each product corresponds to a class of demand) capacity allocation problem with downward substitution and a single replenishment opportunity at the beginning of the first period. They showed that the optimal solution is to first use any available inventory to satisfy same-class demand and then upgrade customers until inventory reaches a protection limit.

Most recently, Deflem and Van Nieuwenhuyse (2013) examined the problem of stocking two products with downward substitution in both single period and infinite horizon settings. They assumed a base stock model for the management of each inventory, with full backordering in the infinite horizon case and lost sales for the single period model, and then proceeded to show the cost conditions under which substitution outperforms having separate distinct inventories.

Interestingly, none of the existing literature on product/capacity substitution where demand is stochastic concerns itself with the impact of service level constraints on stocking levels, despite the fact that the study of service-level constraints has received much attention in the more general inventory management literature. Our paper appears to be the first to characterize the optimal inventory policy of a system with product substitution and service level requirements. The numerical study contained herein provides insight into how stocking levels are impacted by service level requirements and how profitability is affected by substitution.

We consider a firm that faces stochastic demand for two products, designated “1” and “2”, where product 1 can downward substitute for product 2. Furthermore, we assume that the substitution is supplier-driven. In addition to the substitutability aspect, we assume that both products are perishable or prone to obsolescence, hence the firm faces a single period problem. The objective of the firm is to determine in advance of observing demand the profit maximizing inventory levels of both products. In this section customer service objectives are ignored. Table 1
                         defines the parameters and variables used throughout the paper; other notation is introduced as needed.

In order for the model we develop in this paper to “make sense”, the parameters defined in Table 1 must satisfy certain conditions. We next specify these conditions as assumptions:

Assumptions: (A1) pi
                         > wi
                         > vi
                         > 0 for i = 1, 2; (A2) p
                        1 > p
                        2; (A3) v
                        1 > v
                        2; (A4) p
                        2 − v
                        1 > 0.

A1 simply states there is a positive profit margin on each unit of product stocked and then sold to a customer. On the other hand, the salvage value is less than the procurement/production cost, hence there is a loss if an item goes unsold. This assumption incentivizes the firm to stock product, but in reasonable amounts. A2 implies that the gain from meeting a demand for product 1 is always greater than the gain from meeting a demand for product 2 using product 1. A3 indicates that surplus product 1 can be salvaged for more than surplus product 2, hence the firm should always use product 2 to meet demand for product 2 when product 2 is available. The implication of A4 is that more is gained from using product 1 to meet a product 2 demand than from salvaging a unit of product 1. Note that, p
                        2 − v
                        1 is the unit gain from substitution. Without this assumption, substitution is not profitable.

Using the above notation and assumptions, we next derive the expected profit function when immediately prior to the realization of demand the inventory levels of products 1 and 2 are Q
                        1 and Q
                        2 units respectively. The initial inventory of products 1 and 2 is denoted by (x
                        1, x
                        2) and the inventory levels after procurement/production (but before demand is observed) by (Q
                        1, Q
                        2). To start, we assume that x
                        1 = 0 and x
                        2 = 0. The objective is to maximize the expected profit (net revenue) after stocking, which is given by:

                           
                              (3.1)
                              
                                 
                                    
                                       
                                          
                                             T
                                             (
                                             
                                                Q
                                                1
                                             
                                             ,
                                             
                                                Q
                                                2
                                             
                                             )
                                          
                                       
                                       
                                          =
                                       
                                       
                                          
                                             E
                                             {
                                             
                                                p
                                                1
                                             
                                             
                                                (
                                                
                                                   D
                                                   1
                                                
                                                ∧
                                                
                                                   Q
                                                   1
                                                
                                                )
                                             
                                             +
                                             
                                                p
                                                2
                                             
                                             
                                                [
                                                
                                                   D
                                                   2
                                                
                                                ∧
                                                
                                                   (
                                                   
                                                      Q
                                                      2
                                                   
                                                   +
                                                   
                                                      
                                                         (
                                                         
                                                            Q
                                                            1
                                                         
                                                         −
                                                         
                                                            D
                                                            1
                                                         
                                                         )
                                                      
                                                      +
                                                   
                                                   )
                                                
                                                ]
                                             
                                          
                                       
                                    
                                    
                                       
                                       
                                       
                                          
                                             +
                                             
                                             
                                                v
                                                1
                                             
                                             
                                                
                                                   [
                                                   
                                                      
                                                         (
                                                         
                                                            Q
                                                            1
                                                         
                                                         −
                                                         
                                                            D
                                                            1
                                                         
                                                         )
                                                      
                                                      +
                                                   
                                                   −
                                                   
                                                      
                                                         (
                                                         
                                                            D
                                                            2
                                                         
                                                         −
                                                         
                                                            Q
                                                            2
                                                         
                                                         )
                                                      
                                                      +
                                                   
                                                   ]
                                                
                                                +
                                             
                                             +
                                             
                                                v
                                                2
                                             
                                             
                                                
                                                   (
                                                   
                                                      Q
                                                      2
                                                   
                                                   −
                                                   
                                                      D
                                                      2
                                                   
                                                   )
                                                
                                                +
                                             
                                             
                                                }
                                             
                                          
                                       
                                    
                                    
                                       
                                       
                                       
                                          
                                             −
                                             
                                             
                                                w
                                                1
                                             
                                             
                                                Q
                                                1
                                             
                                             −
                                             
                                                w
                                                2
                                             
                                             
                                                Q
                                                2
                                             
                                             ,
                                          
                                       
                                    
                                 
                              
                           
                        where for 
                           
                              x
                              ,
                              y
                              ∈
                              R
                           
                        , x∧y = min (x, y). The problem of optimizing expected profit when (x
                        1, x
                        2) = (0, 0) is generalized to the problem of optimizing expected profit for arbitrary (x
                        1, x
                        2). In the first instance the goal is to find

                           
                              
                                 
                                    
                                       max
                                       
                                          
                                             Q
                                             i
                                          
                                          ≥
                                          0
                                          ,
                                          i
                                          =
                                          1
                                          ,
                                          2
                                       
                                    
                                    T
                                    
                                       (
                                       
                                          Q
                                          1
                                       
                                       ,
                                       
                                          Q
                                          2
                                       
                                       )
                                    
                                 
                              
                           
                        and in the second instance to find

                           
                              
                                 
                                    
                                       max
                                       
                                          
                                             Q
                                             i
                                          
                                          ≥
                                          
                                             x
                                             i
                                          
                                          ,
                                          i
                                          =
                                          1
                                          ,
                                          2
                                       
                                    
                                    
                                       [
                                       T
                                       
                                          (
                                          
                                             Q
                                             1
                                          
                                          ,
                                          
                                             Q
                                             2
                                          
                                          )
                                       
                                       +
                                       
                                          w
                                          1
                                       
                                       
                                          x
                                          1
                                       
                                       +
                                       
                                          w
                                          2
                                       
                                       
                                          x
                                          2
                                       
                                       ]
                                    
                                 
                              
                           
                        which is equivalent to finding:

                           
                              (3.2)
                              
                                 
                                    
                                       max
                                       
                                          
                                             Q
                                             i
                                          
                                          ≥
                                          
                                             x
                                             i
                                          
                                          ,
                                          i
                                          =
                                          1
                                          ,
                                          2
                                       
                                    
                                    T
                                    
                                       (
                                       
                                          Q
                                          1
                                       
                                       ,
                                       
                                          Q
                                          2
                                       
                                       )
                                    
                                 
                              
                           
                        since w
                        1
                        x
                        1 + w
                        2
                        x
                        2 is constant.

In this subsection, we first establish properties of the profit function T(Q
                        1, Q
                        2). We then use these properties to identify three monotone curves that are helpful in characterizing the optimal inventory policy.

We begin with some definitions. For 
                           
                              x
                              ,
                              y
                              ∈
                              R
                           
                        , x∨y = max (x, y). A sublattice of 
                           
                              R
                              K
                           
                        , say 
                           V
                        , is a set such that for all 
                           
                              
                                 
                                    x
                                 
                                 ′
                              
                              =
                              
                                 (
                                 
                                    x
                                    1
                                    ′
                                 
                                 ,
                                 …
                                 ,
                                 
                                    x
                                    K
                                    ′
                                 
                                 )
                              
                           
                         and 
                           
                              
                                 
                                    x
                                 
                                 
                                    ′
                                    ′
                                 
                              
                              =
                              
                                 (
                                 
                                    x
                                    1
                                    
                                       ′
                                       ′
                                    
                                 
                                 ,
                                 …
                                 ,
                                 
                                    x
                                    K
                                    
                                       ′
                                       ′
                                    
                                 
                                 )
                              
                           
                         belonging to 
                           V
                        , the meet 
                           
                              
                                 
                                    x
                                 
                                 ′
                              
                              ∧
                              
                                 
                                    x
                                 
                                 
                                    ′
                                    ′
                                 
                              
                              =
                              
                                 (
                                 
                                    x
                                    1
                                    ′
                                 
                                 ∧
                                 
                                    x
                                    1
                                    
                                       ′
                                       ′
                                    
                                 
                                 ,
                                 …
                                 ,
                                 
                                    x
                                    K
                                    ′
                                 
                                 ∧
                                 
                                    x
                                    K
                                    
                                       ′
                                       ′
                                    
                                 
                                 )
                              
                           
                         and the join 
                           
                              
                                 
                                    x
                                 
                                 ′
                              
                              ∨
                              
                                 
                                    x
                                 
                                 
                                    ′
                                    ′
                                 
                              
                              =
                              
                                 (
                                 
                                    x
                                    1
                                    ′
                                 
                                 ∨
                                 
                                    x
                                    1
                                    
                                       ′
                                       ′
                                    
                                 
                                 ,
                                 …
                                 ,
                                 
                                    x
                                    K
                                    ′
                                 
                                 ∨
                                 
                                    x
                                    K
                                    
                                       ′
                                       ′
                                    
                                 
                                 )
                              
                           
                         also belong to 
                           V
                        . Let ψ(x
                        1, …, xK
                        ) be defined on 
                           V
                        . Then ψ is called submodular if for any 
                           
                              
                                 
                                    x
                                 
                                 ′
                              
                              ,
                              
                                 
                                    x
                                 
                                 
                                    ′
                                    ′
                                 
                              
                              ∈
                              V
                           
                        , ψ(x′) + ψ(x′′) ≥ ψ(x′∧x′′) + ψ(x′∨x′′).

                           Lemma 1
                           
                              T(Q
                              1, Q
                              2) is a jointly concave and submodular function of Q
                              1 
                              and Q
                              2
                              .
                           

See Appendix A.□

This lemma establishes the existence of global maximizers for T(Q
                        1, Q
                        2), which in the sequel are fundamental in characterizing the optimal inventory policy. Throughout the paper the partial derivative of the profit function T(Q
                        1, Q
                        2) with respect to Qi
                         is denoted by Ti
                        (Q
                        1, Q
                        2), i = 1, 2. From (3.1) and Leibniz’s rule for differentiating integrals we obtain:

                           
                              (3.3)
                              
                                 
                                    
                                       
                                          
                                             
                                                T
                                                1
                                             
                                             
                                                (
                                                
                                                   Q
                                                   1
                                                
                                                ,
                                                
                                                   Q
                                                   2
                                                
                                                )
                                             
                                          
                                       
                                       
                                          =
                                       
                                       
                                          
                                             
                                                (
                                                
                                                   p
                                                   2
                                                
                                                −
                                                
                                                   p
                                                   1
                                                
                                                )
                                             
                                             
                                                F
                                                1
                                             
                                             
                                                (
                                                
                                                   Q
                                                   1
                                                
                                                )
                                             
                                          
                                       
                                    
                                    
                                       
                                       
                                       
                                          
                                             +
                                             
                                             
                                                (
                                                
                                                   v
                                                   1
                                                
                                                −
                                                
                                                   p
                                                   2
                                                
                                                )
                                             
                                             
                                                ∫
                                                0
                                                
                                                   Q
                                                   1
                                                
                                             
                                             
                                                ∫
                                                0
                                                
                                                   
                                                      Q
                                                      1
                                                   
                                                   +
                                                   
                                                      Q
                                                      2
                                                   
                                                   −
                                                   x
                                                
                                             
                                             f
                                             
                                                (
                                                x
                                                ,
                                                y
                                                )
                                             
                                             d
                                             y
                                             d
                                             x
                                             +
                                             
                                                p
                                                1
                                             
                                             −
                                             
                                                w
                                                1
                                             
                                          
                                       
                                    
                                 
                              
                           
                        and

                           
                              (3.4)
                              
                                 
                                    
                                       
                                          
                                             
                                                T
                                                2
                                             
                                             
                                                (
                                                
                                                   Q
                                                   1
                                                
                                                ,
                                                
                                                   Q
                                                   2
                                                
                                                )
                                             
                                          
                                       
                                       
                                          =
                                       
                                       
                                          
                                             
                                                (
                                                
                                                   v
                                                   1
                                                
                                                −
                                                
                                                   p
                                                   2
                                                
                                                )
                                             
                                             
                                                [
                                                
                                                   ∫
                                                   0
                                                   
                                                      Q
                                                      1
                                                   
                                                
                                                
                                                   ∫
                                                   0
                                                   
                                                      
                                                         Q
                                                         1
                                                      
                                                      +
                                                      
                                                         Q
                                                         2
                                                      
                                                      −
                                                      x
                                                   
                                                
                                                f
                                                
                                                   (
                                                   x
                                                   ,
                                                   y
                                                   )
                                                
                                                d
                                                y
                                                d
                                                x
                                                −
                                                F
                                                
                                                   (
                                                   
                                                      Q
                                                      1
                                                   
                                                   ,
                                                   
                                                      Q
                                                      2
                                                   
                                                   )
                                                
                                                ]
                                             
                                          
                                       
                                    
                                    
                                       
                                       
                                       
                                          
                                             +
                                             
                                             
                                                (
                                                
                                                   v
                                                   2
                                                
                                                −
                                                
                                                   p
                                                   2
                                                
                                                )
                                             
                                             
                                                F
                                                2
                                             
                                             
                                                (
                                                
                                                   Q
                                                   2
                                                
                                                )
                                             
                                             +
                                             
                                                p
                                                2
                                             
                                             −
                                             
                                                w
                                                2
                                             
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        The partial derivative Ti
                        (Q
                        1, Q
                        2) is the marginal profit of product i. It gives the rate at which the expected profit changes per additional unit of product i stocked for interior feasible stocking quantities. A comparison of the partial derivatives reveals which product should be stocked a priori.

In addition, we establish as an identity the difference of the two marginal profits:

                           
                              (3.5)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             
                                                T
                                                1
                                             
                                             
                                                (
                                                
                                                   Q
                                                   1
                                                
                                                ,
                                                
                                                   Q
                                                   2
                                                
                                                )
                                             
                                             −
                                             
                                                T
                                                2
                                             
                                             
                                                (
                                                
                                                   Q
                                                   1
                                                
                                                ,
                                                
                                                   Q
                                                   2
                                                
                                                )
                                             
                                          
                                       
                                    
                                    
                                       
                                       
                                       
                                          
                                             
                                             =
                                             −
                                             
                                                (
                                                
                                                   p
                                                   1
                                                
                                                −
                                                
                                                   p
                                                   2
                                                
                                                )
                                             
                                             
                                                F
                                                1
                                             
                                             
                                                (
                                                
                                                   Q
                                                   1
                                                
                                                )
                                             
                                             +
                                             
                                                (
                                                
                                                   p
                                                   2
                                                
                                                −
                                                
                                                   v
                                                   1
                                                
                                                )
                                             
                                             
                                                ∫
                                                0
                                                
                                                   Q
                                                   2
                                                
                                             
                                             
                                                ∫
                                                
                                                   
                                                      Q
                                                      1
                                                   
                                                
                                                ∞
                                             
                                             f
                                             
                                                (
                                                x
                                                ,
                                                y
                                                )
                                             
                                             d
                                             x
                                             d
                                             y
                                          
                                       
                                    
                                    
                                       
                                       
                                       
                                          
                                             
                                             +
                                             
                                             
                                                (
                                                
                                                   v
                                                   1
                                                
                                                −
                                                
                                                   v
                                                   2
                                                
                                                )
                                             
                                             
                                                F
                                                2
                                             
                                             
                                                (
                                                
                                                   Q
                                                   2
                                                
                                                )
                                             
                                             +
                                             
                                                (
                                                
                                                   p
                                                   1
                                                
                                                −
                                                
                                                   p
                                                   2
                                                
                                                )
                                             
                                             −
                                             
                                                (
                                                
                                                   w
                                                   1
                                                
                                                −
                                                
                                                   w
                                                   2
                                                
                                                )
                                             
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        It follows from this identity that the next lemma holds:

                           Lemma 2
                           
                              T
                              1(Q
                              1, Q
                              2) − T
                              2(Q
                              1, Q
                              2) is decreasing (non-increasing) in Q
                              1 
                              and increasing (non-decreasing) in Q
                              2
                              .
                           

Omitted.□

This lemma establishes that T(Q
                        1 + z, Q
                        2 − z) is supermodular in (z, −Q
                        1) and (z, Q
                        2), which in our two product case is equivalent to diagonal dominance. The ensuing corollary follows from this lemma.

                           Corollary 1
                           
                              T(Q
                              1 + z, Q
                              2 − z) is supermodular in (− Q
                              1, Q
                              2, z).
                           

An implication of this corollary is that when adding to the stock of product 1, it is optimal to simultaneously decrease the inventory of product 2 by the same number of units. Corollary 1 also reveals that T(Q
                        1, Q
                        2) is anti-multimodular in (Q
                        1, Q
                        2)—see Li and Yu (2014) for an in depth discussion of multimodularity/anti-multimodularity defined in real space, the space assumed in this paper, as opposed to on the integers as multimodularity has traditionally been defined (see Hajek, 1985; Murota, 2005). This implies that (1) T(Q
                        1 + z, Q
                        2 − z) is supermodular in (z, Q
                        2), i.e. the quantity z and the inventory of product 2 are complements, and (2) T(Q
                        1 + z, Q
                        2 − z) is submodular in (Q
                        1, z), i.e. the quantity z and the inventory of product 1 are substitutes.

We now define threshold curves that are used to guide the firm’s stocking decisions:

                           
                              
                                 
                                    
                                       
                                          
                                             
                                                S
                                                1
                                             
                                             
                                                (
                                                
                                                   x
                                                   2
                                                
                                                )
                                             
                                          
                                       
                                       
                                          =
                                       
                                       
                                          
                                             sup
                                             {
                                             
                                                x
                                                1
                                             
                                             ≥
                                             0
                                             :
                                             
                                                T
                                                1
                                             
                                             
                                                (
                                                
                                                   x
                                                   1
                                                
                                                ,
                                                
                                                   x
                                                   2
                                                
                                                )
                                             
                                             >
                                             0
                                             }
                                             ,
                                          
                                       
                                    
                                    
                                       
                                          
                                             
                                                S
                                                2
                                             
                                             
                                                (
                                                
                                                   x
                                                   1
                                                
                                                )
                                             
                                          
                                       
                                       
                                          =
                                       
                                       
                                          
                                             sup
                                             {
                                             
                                                x
                                                2
                                             
                                             ≥
                                             0
                                             :
                                             
                                                T
                                                2
                                             
                                             
                                                (
                                                
                                                   x
                                                   1
                                                
                                                ,
                                                
                                                   x
                                                   2
                                                
                                                )
                                             
                                             >
                                             0
                                             }
                                             ,
                                          
                                       
                                    
                                    
                                       
                                          
                                             
                                                S
                                                0
                                             
                                             
                                                (
                                                
                                                   x
                                                   1
                                                
                                                )
                                             
                                          
                                       
                                       
                                          =
                                       
                                       
                                          
                                             inf
                                             {
                                             
                                                x
                                                2
                                             
                                             ≥
                                             0
                                             :
                                             
                                                T
                                                1
                                             
                                             
                                                (
                                                
                                                   x
                                                   1
                                                
                                                ,
                                                
                                                   x
                                                   2
                                                
                                                )
                                             
                                             −
                                             
                                                T
                                                2
                                             
                                             
                                                (
                                                
                                                   x
                                                   1
                                                
                                                ,
                                                
                                                   x
                                                   2
                                                
                                                )
                                             
                                             >
                                             0
                                             }
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        These curves can be obtained respectively by setting the right-hand sides of (3.3), (3.4) and (3.5) to zero. By Lemma 1 
                        T(x
                        1, x
                        2) is concave in xi, i = 1, 2 respectively so that T
                        1(x
                        1, x
                        2)(T
                        2(x
                        1, x
                        2)) is decreasing in x
                        1(x
                        2). Thus S
                        1(x
                        2) is the largest x
                        1 for a given x
                        2 for which augmenting product 1 is profitable, and S
                        2(x
                        1) is the largest x
                        2 for a given x
                        1 for which augmenting product 2 is profitable. By Corollary 1, T(x
                        1 + z, x
                        2 − z) is supermodular in (z, x
                        2) and thus T
                        1(x
                        1, x
                        2) − T
                        2(x
                        1, x
                        2) is increasing in x
                        2. Thus S
                        0(x
                        1) is the smallest x
                        2 for a given x
                        1 above which replenishing product 1 is more profitable than replenishing product 2.

To illustrate the sort of information provided by these threshold curves, consider the curve S
                        1(x
                        2). For a fixed x
                        2, by Lemma 1, we have that the derivative T
                        1(x
                        1, x
                        2) is decreasing in x
                        1. We also have that if x
                        1 < S
                        1(x
                        2), then T
                        1(x
                        1, x
                        2) > 0 and it is optimal to raise the inventory of product 1 (up to S
                        1(x
                        2)); otherwise, T
                        1(x
                        1, x
                        2) ≤ 0 and it is better to do nothing. In addition, as T(x
                        1, x
                        2) is continuous in (x
                        1, x
                        2), at x
                        1 = S
                        1(x
                        2), T
                        1(x
                        1, x
                        2) = 0. In other words, S
                        1(x
                        2) indicates the optimal inventory level for product 1 given the amount of product 2 is fixed at x
                        2.

Based on the properties established by Lemmas 1 and 2 as well as Corollary 1, we can obtain monotone properties of the three threshold curves and use the curves to characterize the optimal inventory policy.

                           Lemma 3
                           
                              
                                 
                                    (1)
                                    
                                       S
                                       1(x
                                       2) and S
                                       2(x
                                       1) are decreasing and S
                                       0(x
                                       1) is increasing.
                                    


                                       The slope of S
                                       1(x
                                       2) is less than or equal to −1 and the slope of S
                                       2(x
                                       1) is greater than or equal to −1.
                                    

See Appendix A.□

The decreasing nature of S
                        1(x
                        2) can be explained as follows. As already noted, for a fixed x
                        2, S
                        1(x
                        2) indicates the optimal inventory level for product 1. If the inventory of product 2 is greater than x
                        2, say 
                           
                              x
                              2
                              ′
                           
                        , then the potential need to substitute product 1 for product 2 is reduced, and hence the optimal amount of product 1 to stock will be no greater than the optimal inventory level when the stock of product 2 is x
                        2, i.e. 
                           
                              
                                 S
                                 1
                              
                              
                                 (
                                 
                                    x
                                    2
                                    ′
                                 
                                 )
                              
                              ≤
                              
                                 S
                                 1
                              
                              
                                 (
                                 
                                    x
                                    2
                                 
                                 )
                              
                           
                        . A similar story holds for S
                        2(x
                        1). The more product 1 available, the less need there is for product 2 as product 1 can substitute for product 2, if necessary. Hence, the optimal inventory level for product 2 is decreasing in the inventory level of product 1. In addition, there is a lower bound of −1 on the rate at which S
                        1(x
                        2) and S
                        2(x
                        1) decrease. This fits with intuition as one expects the optimal inventory level of a product to be more sensitive to its own inventory level than to that of another.

We next discuss how the optimal stocking levels can be determined using the above defined threshold curves {Si; i = 0, 1, 2}. The first quadrant of the inventory plane (see Fig. 1
                        ) is divided into two regions by the curve S
                        0(x
                        1). In the region to the left of S
                        0(x
                        1) we have T
                        1(x
                        1, x
                        2) − T
                        2(x
                        1, x
                        2) > 0, i.e. the marginal profit of stocking product 1 is higher than the marginal profit of stocking product 2, hence if any inventory adjustment is made, it will only be for product 1. On the other hand, in the region to the right of S
                        0(x
                        1) we have T
                        1(x
                        1, x
                        2) − T
                        2(x
                        1, x
                        2) < 0, i.e. the marginal profit of stocking product 1 is lower than the marginal profit of stocking product 2, hence if any inventory adjustment is made, it will only be for product 2. At the point where the three threshold curves intersect, which we denote by 
                           
                              (
                              
                                 Q
                                 1
                                 I
                              
                              ,
                              
                                 Q
                                 2
                                 I
                              
                              )
                           
                        , we have T
                        1(Q
                        1, Q
                        2) = T
                        2(Q
                        1, Q
                        2) = 0. If (x
                        1, x
                        2) the initial inventory of each product is such that 
                           
                              
                                 x
                                 1
                              
                              ≤
                              
                                 Q
                                 1
                                 I
                              
                           
                         and 
                           
                              
                                 x
                                 2
                              
                              ≤
                              
                                 Q
                                 2
                                 I
                              
                           
                        , then the point of intersection is a global maximizer of T(Q
                        1, Q
                        2). In the case where T(Q
                        1, Q
                        2) is simply concave, there may be multiple global maximizers. When there are multiple global maximizers, the curves S
                        1 and S
                        2 overlap/intersect at more than one point (at each such point T
                        1(Q
                        1, Q
                        2) = T
                        2(Q
                        1, Q
                        2) = 0) and we designate the maximizer with the smallest Q
                        1 as 
                           
                              (
                              
                                 Q
                                 1
                                 *
                              
                              ,
                              
                                 Q
                                 2
                                 *
                              
                              )
                           
                        . In the case where T(Q
                        1, Q
                        2) is strictly concave, 
                           
                              (
                              
                                 Q
                                 1
                                 I
                              
                              ,
                              
                                 Q
                                 2
                                 I
                              
                              )
                           
                         the point of intersection is the only global maximizer and we denote it by 
                           
                              (
                              
                                 Q
                                 1
                                 *
                              
                              ,
                              
                                 Q
                                 2
                                 *
                              
                              )
                           
                        . For 
                           
                              
                                 x
                                 1
                              
                              ≤
                              
                                 Q
                                 1
                                 I
                              
                           
                         and 
                           
                              
                                 x
                                 2
                              
                              ≤
                              
                                 Q
                                 2
                                 I
                              
                           
                        , it is optimal to increase the initial inventory of product 1 by 
                           
                              
                                 Q
                                 1
                                 *
                              
                              −
                              
                                 x
                                 1
                              
                           
                         and the initial inventory of product 2 by 
                           
                              
                                 Q
                                 2
                                 *
                              
                              −
                              
                                 x
                                 2
                              
                           
                        . If the initial inventory (x
                        1, x
                        2) is to the right of S
                        0 and 
                           
                              
                                 x
                                 1
                              
                              >
                              
                                 Q
                                 1
                                 I
                              
                           
                        , when x
                        2 < S
                        2(x
                        1) it is optimal to increase the inventory of product 2 by S
                        2(x
                        1) − x
                        2 units, whereas when x
                        2 ≥ S
                        2(x
                        1) it is optimal to do nothing. Analogously, if the initial inventory (x
                        1, x
                        2) is to the left of S
                        0 and 
                           
                              
                                 x
                                 2
                              
                              >
                              
                                 Q
                                 2
                                 I
                              
                           
                        , when x
                        1 < S
                        1(x
                        2) it is optimal to increase the inventory of product 1 by S
                        1(x
                        2) − x
                        1 units, whereas when x
                        1 ≥ S
                        1(x
                        2) it is optimal to do nothing. The following theorem formalizes the previous discussion.

                           Theorem 1
                           
                              For any
                              
                                 
                                    
                                       (
                                       
                                          x
                                          1
                                       
                                       ,
                                       
                                          x
                                          2
                                       
                                       )
                                    
                                    ∈
                                    
                                       R
                                       2
                                    
                                 
                              , let
                              
                                 
                                    
                                       
                                          x
                                          ¯
                                       
                                       1
                                    
                                    =
                                    
                                       S
                                       1
                                    
                                    
                                       (
                                       
                                          x
                                          2
                                       
                                       )
                                    
                                    ∧
                                    
                                       Q
                                       1
                                       *
                                    
                                 
                               
                              and let
                              
                                 
                                    
                                       
                                          x
                                          ¯
                                       
                                       2
                                    
                                    =
                                    
                                       S
                                       2
                                    
                                    
                                       (
                                       
                                          x
                                          1
                                       
                                       )
                                    
                                    ∧
                                    
                                       Q
                                       2
                                       *
                                    
                                 
                              
                              . Then the optimal order-up-to level is
                              
                                 
                                    (
                                    
                                       x
                                       1
                                    
                                    ∨
                                    
                                       
                                          x
                                          ¯
                                       
                                       1
                                    
                                    ,
                                    
                                       x
                                       2
                                    
                                    ∨
                                    
                                       
                                          x
                                          ¯
                                       
                                       2
                                    
                                    )
                                 
                              
                              .
                           

See Appendix A.□

In this section, we consider the situation where the firm commits to providing a minimum level of service, which is defined in terms of an in-stock probability. For product i, the target in-stock probability is given by αi
                     , which is a number that lies between 0 and 1. The selection of a value αi
                      indicates that the firm wants to stock-out of product i with probability no greater than 1 − αi
                     . Hence, when the stocking level for product i is Qi
                     , for i = 1, 2, the service commitment can be characterized mathematically as
                     
                        
                           (4.6)
                           
                              
                                 Pr
                                 
                                    {
                                    
                                       D
                                       1
                                    
                                    ≤
                                    
                                       Q
                                       1
                                    
                                    }
                                 
                                 ≥
                                 
                                    α
                                    1
                                 
                                 
                                 and
                                 
                                 Pr
                                 
                                    {
                                    
                                       D
                                       2
                                    
                                    ≤
                                    
                                       Q
                                       2
                                    
                                    +
                                    
                                       
                                          [
                                          
                                             Q
                                             1
                                          
                                          −
                                          
                                             D
                                             1
                                          
                                          ]
                                       
                                       +
                                    
                                    }
                                 
                                 ≥
                                 
                                    α
                                    2
                                 
                                 .
                              
                           
                        
                     The latter of the foregoing inequalities takes into account any substitution of product 1 for product 2, i.e., where product 1 inventory is used to meet demand for product 2.

For an initial inventory (x
                     1, x
                     2), the firm’s decision-making problem is to choose inventory levels (Q
                     1, Q
                     2) that maximize (3.2) while satisfying (4.6). In order for an inventory level Q
                     1 to be feasible for product 1, we must have 
                        
                           
                              Q
                              1
                           
                           ≥
                           
                              F
                              1
                              
                                 −
                                 1
                              
                           
                           
                              (
                              
                                 α
                                 1
                              
                              )
                           
                        
                     , where F
                     1(Q
                     1) = Pr{D
                     1 ≤ Q
                     1} denotes the in-stock probability of product 1. In order to determine an inventory level Q
                     2 that is feasible for product 2 given a specific Q
                     1, let 
                        
                           H
                           
                              (
                              
                                 Q
                                 1
                              
                              ,
                              
                                 Q
                                 2
                              
                              )
                           
                           =
                           Pr
                           
                              {
                              
                                 D
                                 2
                              
                              ≤
                              
                                 Q
                                 2
                              
                              +
                              
                                 
                                    (
                                    
                                       Q
                                       1
                                    
                                    −
                                    
                                       D
                                       1
                                    
                                    )
                                 
                                 +
                              
                              }
                           
                        
                      denote the in-stock probability of product 2. Explicitly, by conditioning on D
                     1 < Q
                     1 and D
                     1 ≥ Q
                     1 respectively, we have

                        
                           
                              
                                 
                                    
                                       
                                          H
                                          (
                                          
                                             Q
                                             1
                                          
                                          ,
                                          
                                             Q
                                             2
                                          
                                          )
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             ∫
                                             0
                                             
                                                Q
                                                1
                                             
                                          
                                          
                                             ∫
                                             0
                                             
                                                
                                                   Q
                                                   1
                                                
                                                +
                                                
                                                   Q
                                                   2
                                                
                                                −
                                                
                                                   ξ
                                                   1
                                                
                                             
                                          
                                          f
                                          
                                             (
                                             
                                                ξ
                                                1
                                             
                                             ,
                                             
                                                ξ
                                                2
                                             
                                             )
                                          
                                          d
                                          
                                             ξ
                                             2
                                          
                                          d
                                          
                                             ξ
                                             1
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          +
                                          
                                          
                                             ∫
                                             
                                                
                                                   Q
                                                   1
                                                
                                             
                                             ∞
                                          
                                          
                                             ∫
                                             0
                                             
                                                Q
                                                2
                                             
                                          
                                          f
                                          
                                             (
                                             
                                                ξ
                                                1
                                             
                                             ,
                                             
                                                ξ
                                                2
                                             
                                             )
                                          
                                          d
                                          
                                             ξ
                                             2
                                          
                                          d
                                          
                                             ξ
                                             1
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             ∫
                                             0
                                             
                                                Q
                                                1
                                             
                                          
                                          
                                             ∫
                                             
                                                0
                                             
                                             
                                                
                                                   Q
                                                   1
                                                
                                                +
                                                
                                                   Q
                                                   2
                                                
                                                −
                                                
                                                   ξ
                                                   1
                                                
                                             
                                          
                                          f
                                          
                                             (
                                             
                                                ξ
                                                1
                                             
                                             ,
                                             
                                                ξ
                                                2
                                             
                                             )
                                          
                                          d
                                          
                                             ξ
                                             2
                                          
                                          d
                                          
                                             ξ
                                             1
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          −
                                          
                                          
                                             ∫
                                             0
                                             
                                                Q
                                                1
                                             
                                          
                                          
                                             ∫
                                             0
                                             
                                                Q
                                                2
                                             
                                          
                                          f
                                          
                                             (
                                             
                                                ξ
                                                1
                                             
                                             ,
                                             
                                                ξ
                                                2
                                             
                                             )
                                          
                                          d
                                          
                                             ξ
                                             2
                                          
                                          d
                                          
                                             ξ
                                             1
                                          
                                          +
                                          
                                             ∫
                                             
                                                0
                                             
                                             ∞
                                          
                                          
                                             ∫
                                             0
                                             
                                                Q
                                                2
                                             
                                          
                                          f
                                          
                                             (
                                             
                                                ξ
                                                1
                                             
                                             ,
                                             
                                                ξ
                                                2
                                             
                                             )
                                          
                                          d
                                          
                                             ξ
                                             2
                                          
                                          d
                                          
                                             ξ
                                             1
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             ∫
                                             0
                                             
                                                Q
                                                1
                                             
                                          
                                          
                                             ∫
                                             
                                                
                                                   Q
                                                   2
                                                
                                             
                                             
                                                
                                                   Q
                                                   1
                                                
                                                +
                                                
                                                   Q
                                                   2
                                                
                                                −
                                                
                                                   ξ
                                                   1
                                                
                                             
                                          
                                          f
                                          
                                             (
                                             
                                                ξ
                                                1
                                             
                                             ,
                                             
                                                ξ
                                                2
                                             
                                             )
                                          
                                          d
                                          
                                             ξ
                                             2
                                          
                                          d
                                          
                                             ξ
                                             1
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          +
                                          
                                          
                                             ∫
                                             0
                                             
                                                Q
                                                2
                                             
                                          
                                          
                                             ∫
                                             
                                                0
                                             
                                             ∞
                                          
                                          f
                                          
                                             (
                                             
                                                ξ
                                                1
                                             
                                             ,
                                             
                                                ξ
                                                2
                                             
                                             )
                                          
                                          d
                                          
                                             ξ
                                             1
                                          
                                          d
                                          
                                             ξ
                                             2
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             ∫
                                             0
                                             
                                                Q
                                                1
                                             
                                          
                                          
                                             ∫
                                             
                                                
                                                   Q
                                                   2
                                                
                                             
                                             
                                                
                                                   Q
                                                   1
                                                
                                                +
                                                
                                                   Q
                                                   2
                                                
                                                −
                                                
                                                   ξ
                                                   1
                                                
                                             
                                          
                                          f
                                          
                                             (
                                             
                                                ξ
                                                1
                                             
                                             ,
                                             
                                                ξ
                                                2
                                             
                                             )
                                          
                                          d
                                          
                                             ξ
                                             2
                                          
                                          d
                                          
                                             ξ
                                             1
                                          
                                          +
                                          
                                             F
                                             2
                                          
                                          
                                             (
                                             
                                                Q
                                                2
                                             
                                             )
                                          
                                          .
                                       
                                    
                                 
                              
                           
                        
                     Also let Hi
                     (Q
                     1, Q
                     2) denote 
                        
                           
                              ∂
                              H
                              (
                              
                                 Q
                                 1
                              
                              ,
                              
                                 Q
                                 2
                              
                              )
                           
                           
                              ∂
                              
                                 Q
                                 i
                              
                           
                        
                     , the partial derivative of H(Q
                     1, Q
                     2), i = 1, 2. As

                        
                           
                              
                                 
                                    
                                       
                                          
                                             H
                                             1
                                          
                                          
                                             (
                                             
                                                Q
                                                1
                                             
                                             ,
                                             
                                                Q
                                                2
                                             
                                             )
                                          
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             ∫
                                             
                                                
                                                   Q
                                                   2
                                                
                                             
                                             
                                                
                                                   Q
                                                   2
                                                
                                                +
                                                
                                                   Q
                                                   1
                                                
                                                −
                                                
                                                   Q
                                                   1
                                                
                                             
                                          
                                          f
                                          
                                             (
                                             
                                                Q
                                                1
                                             
                                             ,
                                             
                                                ξ
                                                2
                                             
                                             )
                                          
                                          d
                                          
                                             ξ
                                             2
                                          
                                          +
                                          
                                             ∫
                                             0
                                             
                                                Q
                                                1
                                             
                                          
                                          f
                                          
                                             (
                                             
                                                ξ
                                                1
                                             
                                             ,
                                             
                                                Q
                                                1
                                             
                                             +
                                             
                                                Q
                                                2
                                             
                                             −
                                             
                                                ξ
                                                1
                                             
                                             )
                                          
                                          d
                                          
                                             ξ
                                             1
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             ∫
                                             0
                                             
                                                Q
                                                1
                                             
                                          
                                          f
                                          
                                             (
                                             
                                                ξ
                                                1
                                             
                                             ,
                                             
                                                Q
                                                1
                                             
                                             +
                                             
                                                Q
                                                2
                                             
                                             −
                                             
                                                ξ
                                                1
                                             
                                             )
                                          
                                          d
                                          
                                             ξ
                                             1
                                          
                                       
                                    
                                 
                              
                           
                        
                     and

                        
                           
                              
                                 
                                    
                                       
                                          
                                             H
                                             2
                                          
                                          
                                             (
                                             
                                                Q
                                                1
                                             
                                             ,
                                             
                                                Q
                                                2
                                             
                                             )
                                          
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             ∫
                                             0
                                             
                                                Q
                                                1
                                             
                                          
                                          f
                                          
                                             (
                                             
                                                ξ
                                                1
                                             
                                             ,
                                             
                                                Q
                                                1
                                             
                                             +
                                             
                                                Q
                                                2
                                             
                                             −
                                             
                                                ξ
                                                1
                                             
                                             )
                                          
                                          d
                                          
                                             ξ
                                             1
                                          
                                          −
                                          
                                             ∫
                                             0
                                             
                                                Q
                                                1
                                             
                                          
                                          f
                                          
                                             (
                                             
                                                ξ
                                                1
                                             
                                             ,
                                             
                                                Q
                                                2
                                             
                                             )
                                          
                                          d
                                          
                                             ξ
                                             1
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          +
                                          
                                          
                                             ∫
                                             
                                                0
                                             
                                             ∞
                                          
                                          f
                                          
                                             (
                                             
                                                ξ
                                                1
                                             
                                             ,
                                             
                                                Q
                                                2
                                             
                                             )
                                          
                                          d
                                          
                                             ξ
                                             1
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             ∫
                                             0
                                             
                                                Q
                                                1
                                             
                                          
                                          f
                                          
                                             (
                                             
                                                ξ
                                                1
                                             
                                             ,
                                             
                                                Q
                                                1
                                             
                                             +
                                             
                                                Q
                                                2
                                             
                                             −
                                             
                                                ξ
                                                1
                                             
                                             )
                                          
                                          d
                                          
                                             ξ
                                             1
                                          
                                          +
                                          
                                             ∫
                                             
                                                
                                                   Q
                                                   1
                                                
                                             
                                             ∞
                                          
                                          f
                                          
                                             (
                                             
                                                ξ
                                                1
                                             
                                             ,
                                             
                                                Q
                                                2
                                             
                                             )
                                          
                                          d
                                          
                                             ξ
                                             1
                                          
                                          ,
                                       
                                    
                                 
                              
                           
                        
                     
                     H(Q
                     1, Q
                     2) is increasing in both Q
                     1 and Q
                     2. Assuming that 
                        
                           Pr
                           {
                           
                              D
                              i
                           
                           <
                           ∞
                           }
                           =
                           1
                        
                      for i = 1, 2, 
                        
                           
                              lim
                              
                                 
                                    Q
                                    2
                                 
                                 →
                                 ∞
                              
                           
                           H
                           
                              (
                              
                                 Q
                                 1
                              
                              ,
                              
                                 Q
                                 2
                              
                              )
                           
                           =
                           1
                        
                     . So for any 
                        
                           
                              Q
                              1
                           
                           ≥
                           
                              F
                              1
                              
                                 −
                                 1
                              
                           
                           
                              (
                              
                                 α
                                 1
                              
                              )
                           
                        
                     , there exists a smallest Q
                     2 such that H(Q
                     1, Q
                     2) ≥ α
                     2. We let q(Q
                     1, α
                     2) denote this minimum inventory level for product 2. In order for an inventory level Q
                     2 to be feasible for product 2, we must have Q
                     2 ≥ q(Q
                     1, α
                     2). In particular, when Q
                     1 is sufficiently large, H(Q
                     1, 0) ≥ α
                     2 and q(Q
                     1, α
                     2) = 0. In general, q(Q
                     1, α
                     2) is a decreasing function of Q
                     1 for a fixed 0 ≤ α
                     2 ≤ 1 and an increasing function of α
                     2 for a fixed 
                        
                           
                              Q
                              1
                           
                           ≥
                           
                              F
                              1
                              
                                 −
                                 1
                              
                           
                           
                              (
                              
                                 α
                                 1
                              
                              )
                           
                        
                     .

To achieve a target service level for product 2, the inventory level of product 1 or of product 2 or of both may be increased. As H
                     1(Q
                     1, Q
                     2) ≤ H
                     2(Q
                     1, Q
                     2), this implies that if the objective is to achieve a specific service level for product 2 by increasing the inventory of only one product, then this can be accomplished with fewer units of product 2 than product 1. This also implies that the slope of the curve q(x
                     1, α
                     2) is greater than or equal to −1. Considering that S
                     0(x
                     1) is increasing and the slope of S
                     1(x
                     2) is less than or equal to −1, q(x
                     1, α
                     2) must intersect with S
                     0(x
                     1) and with S
                     1(x
                     2). In addition, once q(x
                     1, α
                     2) separates from S
                     0(x
                     1) or from S
                     1(x
                     2), they do not intersect again. Let q
                     0 be the smallest inventory level of product 1 that satisfies the service requirement of product 2 completely by substitution, i.e., without the use of any product 2. Then for any Q
                     1 ≥ q
                     0, q(Q
                     1, α
                     2) = 0. When α
                     2 is large, the curve q(x
                     1, α
                     2) may have no intersection with S
                     2(x
                     1). In the case there is an intersection at (Q
                     1, q(Q
                     1, α
                     2)) and Q
                     1 ≤ q
                     0, then by (3.4), (v
                     1 − p
                     2)α
                     2 − (v
                     1 − v
                     2)F
                     2(q(Q
                     1, α
                     2)) + p
                     2 − w
                     2 = 0. Because q(x
                     1, α
                     2) is decreasing in x
                     1, it is easy to check that once the two curves separate, they will not intersect again.

The constraint curve q(x
                     1, α
                     2) can intersect with S
                     0(x
                     1) and effective parts of S
                     1(x
                     2) (i.e., the part where 
                        
                           
                              x
                              2
                           
                           ≥
                           
                              Q
                              2
                              *
                           
                        
                     ) and S
                     2(x
                     1) (i.e., the part where 
                        
                           
                              x
                              1
                           
                           ≥
                           
                              Q
                              1
                              *
                           
                        
                     ) at one point or three points (if q(x
                     1, α
                     2) has no intersection with S
                     2(x
                     1), we just assume that they intersect at x
                     1 = ∞). The one point case arises when α
                     2 is small. As Case 2 of Fig. 2 shows, in the one point case the constraint curve intersects with S
                     0 and stays below the controlling parts of curves S
                     1 and S
                     2. At any inventory level below the constraint curve the effective parts of the controlling curves S
                     1 and S
                     2 still remain in the feasible decision domain. In this case the optimal inventory levels of the unconstrained problem will satisfy the in-stock commitment for product 2. In the three point case we label the three intersecting points from left to right along the constraint curve q(x
                     1, α
                     2) as 
                        
                           
                              (
                              
                                 Q
                                 1
                                 1
                              
                              ,
                              
                                 Q
                                 2
                                 1
                              
                              )
                           
                           ,
                           
                              (
                              
                                 Q
                                 1
                                 0
                              
                              ,
                              
                                 Q
                                 2
                                 0
                              
                              )
                           
                        
                      and 
                        
                           (
                           
                              Q
                              1
                              2
                           
                           ,
                           
                              Q
                              2
                              2
                           
                           )
                        
                     , respectively (see Fig. 3
                     ). The next lemma shows that in the three point case there exists at least a local maximizer along the curve between 
                        
                           (
                           
                              Q
                              1
                              1
                           
                           ,
                           
                              Q
                              2
                              1
                           
                           )
                        
                      and 
                        
                           (
                           
                              Q
                              1
                              0
                           
                           ,
                           
                              Q
                              2
                              0
                           
                           )
                        
                     .

                        Lemma 4
                        
                           Suppose the constraint curve q(x
                           1, α
                           2) intersects with S
                           1(x
                           2), S
                           0(x
                           1) and S
                           2(x
                           1) at
                           
                              
                                 (
                                 
                                    Q
                                    1
                                    1
                                 
                                 ,
                                 
                                    Q
                                    2
                                    1
                                 
                                 )
                              
                           , 
                              
                                 (
                                 
                                    Q
                                    1
                                    0
                                 
                                 ,
                                 
                                    Q
                                    2
                                    0
                                 
                                 )
                              
                            
                           and
                           
                              
                                 (
                                 
                                    Q
                                    1
                                    2
                                 
                                 ,
                                 
                                    Q
                                    2
                                    2
                                 
                                 )
                              
                           , respectively. Then there exists at least one local maximizer of T(Q
                           1, Q
                           2) along q(x
                           1, α
                           2) between
                           
                              
                                 (
                                 
                                    Q
                                    1
                                    1
                                 
                                 ,
                                 
                                    Q
                                    2
                                    1
                                 
                                 )
                              
                            
                           and
                           
                              
                                 (
                                 
                                    Q
                                    1
                                    0
                                 
                                 ,
                                 
                                    Q
                                    2
                                    0
                                 
                                 )
                              
                           , and there is no local maximizer of T(Q
                           1, Q
                           2) along q(x
                           1, α
                           2) between
                           
                              
                                 (
                                 
                                    Q
                                    1
                                    0
                                 
                                 ,
                                 
                                    Q
                                    2
                                    0
                                 
                                 )
                              
                            
                           and
                           
                              
                                 (
                                 
                                    Q
                                    1
                                    2
                                 
                                 ,
                                 
                                    Q
                                    2
                                    2
                                 
                                 )
                              
                           
                           .
                        

See Appendix A.□

When the assumption of the preceding lemma holds and the initial inventory (x
                     1, x
                     2) = (0, 0), as will be assumed henceforth, it will be shown below that one of the local maximizers mentioned in the lemma optimizes T(Q
                     1, Q
                     2). The following theorem shows that the optimal solution to the constrained problem can be found using the Karush–Kuhn–Tucker (KKT) conditions.

                        Theorem 2
                        
                           The optimal inventory levels can be found among the following points: (i) the global maximizer of T(Q
                           1, Q
                           2), i.e.
                           
                              
                                 (
                                 
                                    Q
                                    1
                                    *
                                 
                                 ,
                                 
                                    Q
                                    2
                                    *
                                 
                                 )
                              
                           
                           ; (ii)
                           
                              
                                 
                                    Q
                                    1
                                 
                                 =
                                 
                                    F
                                    1
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       α
                                       1
                                    
                                    )
                                 
                              
                           , 
                              
                                 
                                    Q
                                    2
                                 
                                 ≥
                                 q
                                 
                                    (
                                    
                                       F
                                       1
                                       
                                          −
                                          1
                                       
                                    
                                    
                                       (
                                       
                                          α
                                          1
                                       
                                       )
                                    
                                    ,
                                    
                                       α
                                       2
                                    
                                    )
                                 
                              
                           , where
                           
                              
                                 
                                    T
                                    1
                                 
                                 
                                    (
                                    
                                       F
                                       1
                                       
                                          −
                                          1
                                       
                                    
                                    
                                       (
                                       
                                          α
                                          1
                                       
                                       )
                                    
                                    ,
                                    
                                       Q
                                       2
                                    
                                    )
                                 
                                 <
                                 0
                              
                            
                           and
                           
                              
                                 
                                    T
                                    2
                                 
                                 
                                    (
                                    
                                       F
                                       1
                                       
                                          −
                                          1
                                       
                                    
                                    
                                       (
                                       
                                          α
                                          1
                                       
                                       )
                                    
                                    ,
                                    
                                       Q
                                       2
                                    
                                    )
                                 
                                 =
                                 0
                              
                           
                           ; (iii)
                           
                              
                                 
                                    Q
                                    1
                                 
                                 =
                                 
                                    F
                                    1
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       α
                                       1
                                    
                                    )
                                 
                                 ,
                                 
                                    Q
                                    2
                                 
                                 =
                                 q
                                 
                                    (
                                    
                                       F
                                       1
                                       
                                          −
                                          1
                                       
                                    
                                    
                                       (
                                       
                                          α
                                          1
                                       
                                       )
                                    
                                    ,
                                    
                                       α
                                       2
                                    
                                    )
                                 
                              
                           , where
                           
                              
                                 
                                    T
                                    1
                                 
                                 
                                    (
                                    
                                       F
                                       1
                                       
                                          −
                                          1
                                       
                                    
                                    
                                       (
                                       
                                          α
                                          1
                                       
                                       )
                                    
                                    ,
                                    q
                                    
                                       (
                                       
                                          F
                                          1
                                          
                                             −
                                             1
                                          
                                       
                                       
                                          (
                                          
                                             α
                                             1
                                          
                                          )
                                       
                                       ,
                                       
                                          α
                                          2
                                       
                                       )
                                    
                                    )
                                 
                                 
                                    )
                                    <
                                    0
                                 
                              
                           , 
                              
                                 
                                    T
                                    2
                                 
                                 
                                    (
                                    
                                       F
                                       1
                                       
                                          −
                                          1
                                       
                                    
                                    
                                       (
                                       
                                          α
                                          1
                                       
                                       )
                                    
                                    ,
                                    q
                                    
                                       (
                                       
                                          F
                                          1
                                          
                                             −
                                             1
                                          
                                       
                                       
                                          (
                                          
                                             α
                                             1
                                          
                                          )
                                       
                                       ,
                                       
                                          α
                                          2
                                       
                                       )
                                    
                                    )
                                 
                                 
                                    )
                                    <
                                    0
                                 
                              
                            
                           and
                           
                              
                                 (4.7)
                                 
                                    
                                       
                                          
                                             
                                                T
                                                1
                                             
                                             
                                                (
                                                
                                                   F
                                                   1
                                                   
                                                      −
                                                      1
                                                   
                                                
                                                
                                                   (
                                                   
                                                      α
                                                      1
                                                   
                                                   )
                                                
                                                ,
                                                q
                                                
                                                   (
                                                   
                                                      F
                                                      1
                                                      
                                                         −
                                                         1
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         α
                                                         1
                                                      
                                                      )
                                                   
                                                   ,
                                                   
                                                      α
                                                      2
                                                   
                                                   )
                                                
                                                )
                                             
                                             
                                                )
                                             
                                          
                                          
                                             
                                                T
                                                2
                                             
                                             
                                                (
                                                
                                                   F
                                                   1
                                                   
                                                      −
                                                      1
                                                   
                                                
                                                
                                                   (
                                                   
                                                      α
                                                      1
                                                   
                                                   )
                                                
                                                ,
                                                q
                                                
                                                   (
                                                   
                                                      F
                                                      1
                                                      
                                                         −
                                                         1
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         α
                                                         1
                                                      
                                                      )
                                                   
                                                   ,
                                                   
                                                      α
                                                      2
                                                   
                                                   )
                                                
                                                )
                                             
                                             
                                                )
                                             
                                          
                                       
                                       >
                                       
                                          
                                             
                                                H
                                                1
                                             
                                             
                                                (
                                                
                                                   F
                                                   1
                                                   
                                                      −
                                                      1
                                                   
                                                
                                                
                                                   (
                                                   
                                                      α
                                                      1
                                                   
                                                   )
                                                
                                                ,
                                                q
                                                
                                                   (
                                                   
                                                      F
                                                      1
                                                      
                                                         −
                                                         1
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         α
                                                         1
                                                      
                                                      )
                                                   
                                                   ,
                                                   
                                                      α
                                                      2
                                                   
                                                   )
                                                
                                                )
                                             
                                             
                                                )
                                             
                                          
                                          
                                             
                                                H
                                                2
                                             
                                             
                                                (
                                                
                                                   F
                                                   1
                                                   
                                                      −
                                                      1
                                                   
                                                
                                                
                                                   (
                                                   
                                                      α
                                                      1
                                                   
                                                   )
                                                
                                                ,
                                                q
                                                
                                                   (
                                                   
                                                      F
                                                      1
                                                      
                                                         −
                                                         1
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         α
                                                         1
                                                      
                                                      )
                                                   
                                                   ,
                                                   
                                                      α
                                                      2
                                                   
                                                   )
                                                
                                                )
                                             
                                             
                                                )
                                             
                                          
                                       
                                       ,
                                    
                                 
                              
                           
                           and (iv)
                           
                              
                                 
                                    Q
                                    1
                                 
                                 ≥
                                 
                                    F
                                    1
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       α
                                       1
                                    
                                    )
                                 
                                 ,
                                 
                                    Q
                                    2
                                 
                                 =
                                 q
                                 
                                    (
                                    
                                       Q
                                       1
                                    
                                    ,
                                    
                                       α
                                       2
                                    
                                    )
                                 
                              
                           , where T
                           1(Q
                           1, q(Q
                           1, α
                           2)) < 0, T
                           2(Q
                           1, q(Q
                           1, α
                           2)) < 0 and
                           
                              
                                 (4.8)
                                 
                                    
                                       
                                          
                                             
                                                T
                                                1
                                             
                                             
                                                (
                                                
                                                   Q
                                                   1
                                                
                                                ,
                                                q
                                                
                                                   (
                                                   
                                                      Q
                                                      1
                                                   
                                                   ,
                                                   
                                                      α
                                                      2
                                                   
                                                   )
                                                
                                                )
                                             
                                          
                                          
                                             
                                                T
                                                2
                                             
                                             
                                                (
                                                
                                                   Q
                                                   1
                                                
                                                ,
                                                q
                                                
                                                   (
                                                   
                                                      Q
                                                      1
                                                   
                                                   ,
                                                   
                                                      α
                                                      2
                                                   
                                                   )
                                                
                                                )
                                             
                                          
                                       
                                       =
                                       
                                          
                                             
                                                H
                                                1
                                             
                                             
                                                (
                                                
                                                   Q
                                                   1
                                                
                                                ,
                                                q
                                                
                                                   (
                                                   
                                                      Q
                                                      1
                                                   
                                                   ,
                                                   
                                                      α
                                                      2
                                                   
                                                   )
                                                
                                                )
                                             
                                          
                                          
                                             
                                                H
                                                2
                                             
                                             
                                                (
                                                
                                                   Q
                                                   1
                                                
                                                ,
                                                q
                                                
                                                   (
                                                   
                                                      Q
                                                      1
                                                   
                                                   ,
                                                   
                                                      α
                                                      2
                                                   
                                                   )
                                                
                                                )
                                             
                                          
                                       
                                       .
                                    
                                 
                              
                           
                        

See Appendix A.□

It should be noted that case (ii) represents the situation where S
                     1 could not satisfy the service constraint. Cases (iii) and (iv) together are related to the local maximizers of T(Q
                     1, Q
                     2) along the boundary x
                     2 = q(x
                     1, α
                     2) where 
                        
                           
                              x
                              1
                           
                           ≥
                           
                              F
                              1
                              
                                 −
                                 1
                              
                           
                           
                              (
                              
                                 α
                                 1
                              
                              )
                           
                        
                     . Denoting the derivative of T(x
                     1, q(x
                     1, α
                     2)) with respect to x
                     1 for 
                        
                           
                              x
                              1
                           
                           ≥
                           
                              F
                              1
                              
                                 −
                                 1
                              
                           
                           
                              (
                              
                                 α
                                 1
                              
                              )
                           
                        
                      by 
                        
                           
                              
                                 T
                                 ˜
                              
                              1
                           
                           
                              (
                              
                                 x
                                 1
                              
                              ,
                              
                                 α
                                 2
                              
                              )
                           
                        
                      we have by the chain rule that

                        
                           (4.9)
                           
                              
                                 
                                    
                                       T
                                       ˜
                                    
                                    1
                                 
                                 
                                    (
                                    
                                       x
                                       1
                                    
                                    ,
                                    
                                       α
                                       2
                                    
                                    )
                                 
                                 =
                                 
                                    T
                                    1
                                 
                                 
                                    (
                                    
                                       x
                                       1
                                    
                                    ,
                                    q
                                    
                                       (
                                       
                                          x
                                          1
                                       
                                       ,
                                       
                                          α
                                          2
                                       
                                       )
                                    
                                    )
                                 
                                 +
                                 
                                    T
                                    2
                                 
                                 
                                    (
                                    
                                       x
                                       1
                                    
                                    ,
                                    q
                                    
                                       (
                                       
                                          x
                                          1
                                       
                                       ,
                                       
                                          α
                                          2
                                       
                                       )
                                    
                                    )
                                 
                                 
                                    q
                                    1
                                 
                                 
                                    (
                                    
                                       x
                                       1
                                    
                                    ,
                                    
                                       α
                                       2
                                    
                                    )
                                 
                                 .
                              
                           
                        
                     As H(x
                     1, q(x
                     1, α
                     2)) = α
                     2, taking the derivative with respect to x
                     1 on both sides of this identity leads to

                        
                           
                              
                                 
                                    H
                                    1
                                 
                                 
                                    (
                                    
                                       x
                                       1
                                    
                                    ,
                                    q
                                    
                                       (
                                       
                                          x
                                          1
                                       
                                       ,
                                       
                                          α
                                          2
                                       
                                       )
                                    
                                    )
                                 
                                 +
                                 
                                    H
                                    2
                                 
                                 
                                    (
                                    
                                       x
                                       1
                                    
                                    ,
                                    q
                                    
                                       (
                                       
                                          x
                                          1
                                       
                                       ,
                                       
                                          α
                                          2
                                       
                                       )
                                    
                                    )
                                 
                                 
                                    q
                                    1
                                 
                                 
                                    (
                                    
                                       x
                                       1
                                    
                                    ,
                                    
                                       α
                                       2
                                    
                                    )
                                 
                                 =
                                 0
                                 ,
                              
                           
                        
                     and thus

                        
                           (4.10)
                           
                              
                                 
                                    q
                                    1
                                 
                                 
                                    (
                                    
                                       x
                                       1
                                    
                                    ,
                                    
                                       α
                                       2
                                    
                                    )
                                 
                                 =
                                 −
                                 
                                    
                                       
                                          H
                                          1
                                       
                                       
                                          (
                                          
                                             x
                                             1
                                          
                                          ,
                                          q
                                          
                                             (
                                             
                                                x
                                                1
                                             
                                             ,
                                             
                                                α
                                                2
                                             
                                             )
                                          
                                          )
                                       
                                    
                                    
                                       
                                          H
                                          2
                                       
                                       
                                          (
                                          
                                             x
                                             1
                                          
                                          ,
                                          q
                                          
                                             (
                                             
                                                x
                                                1
                                             
                                             ,
                                             
                                                α
                                                2
                                             
                                             )
                                          
                                          )
                                       
                                    
                                 
                                 .
                              
                           
                        
                     Substituting this expression for q
                     1(x
                     1, α
                     2) into (4.9) establishes the first-order condition for the maximizer of T along the boundary of x
                     2 = q(x
                     1, α
                     2), i.e.,

                        
                           (4.11)
                           
                              
                                 
                                    T
                                    1
                                 
                                 
                                    (
                                    
                                       x
                                       1
                                    
                                    ,
                                    q
                                    
                                       (
                                       
                                          x
                                          1
                                       
                                       ,
                                       
                                          α
                                          2
                                       
                                       )
                                    
                                    )
                                 
                                 −
                                 
                                    T
                                    2
                                 
                                 
                                    (
                                    
                                       x
                                       1
                                    
                                    ,
                                    q
                                    
                                       (
                                       
                                          x
                                          1
                                       
                                       ,
                                       
                                          α
                                          2
                                       
                                       )
                                    
                                    )
                                 
                                 
                                    
                                       
                                          H
                                          1
                                       
                                       
                                          (
                                          
                                             x
                                             1
                                          
                                          ,
                                          q
                                          
                                             (
                                             
                                                x
                                                1
                                             
                                             ,
                                             
                                                α
                                                2
                                             
                                             )
                                          
                                          )
                                       
                                    
                                    
                                       
                                          H
                                          2
                                       
                                       
                                          (
                                          
                                             x
                                             1
                                          
                                          ,
                                          q
                                          
                                             (
                                             
                                                x
                                                1
                                             
                                             ,
                                             
                                                α
                                                2
                                             
                                             )
                                          
                                          )
                                       
                                    
                                 
                                 =
                                 0
                                 .
                              
                           
                        
                     Thus, cases (iii) and (iv) actually enumerate all of the possible maximizers along the boundary. With them and the values of T for them available, we are able to determine the maximizer of the objective T that not only optimizes T along the boundary but also maximizes T in the admissible decision region.

The next theorem helps us visualize the optimal stocking decision. In the unconstrained problem the feasible decision space, the first quadrant of the two-dimensional plane, is divided into four regions by the controlling curves Si, i = 0, 1, 2 (see Fig. 1). Curve S
                     0 divides the quadrant into two regions and each of these regions is then further divided into two regions either by S
                     1 or S
                     2. We label these four regions in a counterclockwise fashion starting from the lower-left (the region closest to the origin) as I, II, III and IV (see Figs. 2 and 3). In the problem with service level constraints this region is also delimited by the line/curve 
                        
                           
                              x
                              1
                           
                           =
                           
                              F
                              1
                              
                                 −
                                 1
                              
                           
                           
                              (
                              
                                 α
                                 1
                              
                              )
                           
                        
                      and the curve x
                     2 = q(x
                     1, α
                     2). The corner point formed by where these two constraint curves meet, i.e. 
                        
                           (
                           
                              F
                              1
                              
                                 −
                                 1
                              
                           
                           
                              (
                              
                                 α
                                 1
                              
                              )
                           
                           ,
                           q
                           
                              (
                              
                                 F
                                 1
                                 
                                    −
                                    1
                                 
                              
                              
                                 (
                                 
                                    α
                                    1
                                 
                                 )
                              
                              ,
                              
                                 α
                                 2
                              
                              )
                           
                           )
                        
                     , serves as a reference point in the following.

                        Theorem 3
                        
                           The optimal inventory level is given by the upper envelope constructed from the effective parts of curves S
                           1 
                           and S
                           2, and the constraint curves
                           
                              
                                 
                                    x
                                    1
                                 
                                 =
                                 
                                    F
                                    1
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       α
                                       1
                                    
                                    )
                                 
                              
                            
                           and x
                           2 = q(x
                           1, α
                           2).
                        

See Appendix A.□

It is informative to examine Figs. 2 and 3 in light of Theorem 3. We begin with Case 1 of Fig. 2 where the corner point falls in region I. In this case the optimal stocking levels are determined by the part of curve 
                        
                           
                              x
                              1
                           
                           =
                           
                              F
                              1
                              
                                 −
                                 1
                              
                           
                           
                              (
                              
                                 α
                                 1
                              
                              )
                           
                        
                      above S
                     1, the curve S
                     1 from where it intersects with the curve 
                        
                           
                              x
                              1
                           
                           =
                           
                              F
                              1
                              
                                 −
                                 1
                              
                           
                           
                              (
                              
                                 α
                                 1
                              
                              )
                           
                        
                      to where it intersects with the curve q(x
                     1, α
                     2), and the curve q(x
                     1, α
                     2) above S
                     1 and S
                     2. Next consider Case 2 of Fig. 2 where the corner point falls in region II. In this case the optimal stocking levels are determined by the part of curve 
                        
                           
                              x
                              1
                           
                           =
                           
                              F
                              1
                              
                                 −
                                 1
                              
                           
                           
                              (
                              
                                 α
                                 1
                              
                              )
                           
                        
                      above S
                     1, the curve S
                     1 from where it intersects with the curve 
                        
                           
                              x
                              1
                           
                           =
                           
                              F
                              1
                              
                                 −
                                 1
                              
                           
                           
                              (
                              
                                 α
                                 1
                              
                              )
                           
                        
                      to where it intersects with the curve S
                     0, and the curve S
                     2. Now consider Case 3 of Fig. 3 where the corner point falls in region III. In this case the optimal stocking levels are determined by the whole curve 
                        
                           
                              x
                              1
                           
                           =
                           
                              F
                              1
                              
                                 −
                                 1
                              
                           
                           
                              (
                              
                                 α
                                 1
                              
                              )
                           
                        
                     , the curve q(x
                     1, α
                     2) from where it meets the curve 
                        
                           
                              x
                              1
                           
                           =
                           
                              F
                              1
                              
                                 −
                                 1
                              
                           
                           
                              (
                              
                                 α
                                 1
                              
                              )
                           
                        
                      until it intersects the curve S
                     2, and the curve S
                     2 where it lies above the curve q(x, α
                     2). Lastly consider Case 4 of Fig. 3 where the corner point falls in region IV. In this case the optimal stocking levels are determined by the whole curve 
                        
                           
                              x
                              1
                           
                           =
                           
                              F
                              1
                              
                                 −
                                 1
                              
                           
                           
                              (
                              
                                 α
                                 1
                              
                              )
                           
                        
                     , the curve q(x
                     1, α
                     2) from where it meets the curve 
                        
                           
                              x
                              1
                           
                           =
                           
                              F
                              1
                              
                                 −
                                 1
                              
                           
                           
                              (
                              
                                 α
                                 1
                              
                              )
                           
                        
                      until it intersects the curve S
                     2, and the curve S
                     2 where it lies above the curve q(x, α
                     2).

In this section, we present the results of a numerical study in which we investigated (1) how optimal inventory levels are affected by service level requirements specified as target in-stock probabilities, and (2) how profitability is affected by substitution. In the following we let q
                     1(α
                     1, α
                     2) and q
                     2(α
                     1, α
                     2) denote the optimal inventory levels of products 1 and 2, respectively, when their respective target in-stock probabilities are α
                     1 and α
                     2.

                        Lemma 5
                        
                           For fixed α
                           2, as α
                           1 
                           increases, q
                           1(α
                           1, α
                           2), the optimal inventory level of product 1 is increasing, while q
                           2(α
                           1, α
                           2), the optimal inventory level of product 2 is decreasing.
                        

See Appendix A.□

In order to gain insight into how service level requirements affect the optimal inventory levels, we investigated four cases. For all the cases we let w
                     1 = 6, w
                     2 = 5, p
                     1 = 10, p
                     2 = 8, v
                     1 = 4 and v
                     2 = 3. With respect to demand, for each case a different pair of demand distributions was considered: (Case 1) both D
                     1 and D
                     2 uniformly distributed between 0 and 10, denoted by Di
                      ∼ U[0, 10], i = 1, 2; (Case 2) D
                     1 ∼ U[0, 5] and D
                     2 ∼ U[0, 10]; (Case 3) both D
                     1 and D
                     2 exponentially distributed with mean 1, denoted by Di
                      ∼ Exp(1), i = 1, 2; (Case 4) D
                     1 ∼ Exp(2) and D
                     2 ∼ Exp(0.5). For the required service levels we first defined the set A = {0.50, 0.60, 0.70, 0.80, 0.90}. We then generated a set of target in-stock probability (TIP) pairs from the Cartesian product of the set A with itself, denoted by A × A = {(α
                     1, α
                     2); α
                     1 ∈ A, α
                     2 ∈ A}. This exercise gave us 25 TIP pairs to assess for each case. The results of our study are reported in Tables 2
                      and 3
                     
                     . Each pair of numbers in the interior of a table gives the optimal inventory levels for products 1 and 2 for a member of A × A for one of the four cases.

We now discuss the results. We found that for the TIP pair α
                     1 = α
                     2 = 0.50, in every case the optimal inventory level is equal to the global maximizer 
                        
                           (
                           
                              Q
                              1
                              *
                           
                           ,
                           
                              Q
                              2
                              *
                           
                           )
                        
                     . In fact in all four cases the global maximizer gives the optimal inventory level for TIP pairs with α
                     1 < 0.90 and α
                     2 < 0.7. Hence for these cases service level requirements that are low to middling do not impact inventory levels.

It can also be seen in all cases that for fixed α
                     2, as α
                     1 increases, the optimal inventory level of product 1 is increasing while the optimal inventory level of product 2 is decreasing, which is consistent with Lemma 5 (e.g., in Case 3, as α
                     1 → 1, q
                     2(α
                     1, α
                     2) → 0 and hence all demand for product 2 will be met through substitution). On the other hand, for a fixed α
                     1, as α
                     2 increases we observe a more complex dynamic. In every case we found both inventory levels are higher when α
                     2 = 0.9 compared to when α
                     2 = 0.5 (the higher inventory of product 1 reflects that it can substitute for product 2), but the optimal inventory level of product 1 does not always change in a monotone fashion as α
                     2 increases from 0.5 to 0.9. For example in Case 2 it can be observed that as α
                     2 increases, there are instances where the inventory level of product 1 decreases (a reverse substitution effect reflecting that some product 1 formerly stocked to potentially meet product 2 demand is no longer needed because of increased product 2 holdings).

From our review of the results, first with α
                     2 fixed and then with α
                     1, we can conclude that for a fixed α
                     2, the optimal inventory level of product 1 is relatively insensitive to changes in the value of α
                     1, when α
                     1 is not larger than 0.9. For example, in Case 1 with α
                     2 = 0.5, it can be seen that the optimal inventory level of product 1 increases from 8.1 to 9.0 as α
                     1 increases from 0.5 to 0.9, which is a percentage gain in inventory of 11.1 percent. We found the average percentage change in the optimal inventory level of product 1 to be 13.3 percent with the extremes being a 43.8 percent increase and no change in inventory at all. By contrast the optimal inventory level of product 2 is quite sensitive to changes in the value of α
                     2 for a fixed α
                     1. We found the average percentage change in the optimal inventory level of product 2 to be 170.8 percent with the minimum being an increase of 62.2 percent and the maximum an increase of 900 percent. Of course it is important to note that the large percentage increases in the optimal inventory level of product 2 are attributable at least in part to starting from a low base.

Lastly, we observe that when both products face the same demand distribution (see Cases 1 and 3) and both products have the same required service levels, it can be seen that the inventory level of product 1 is always much higher than the inventory level of product 2, reflecting that the additional product 1 can be used to meet unexpectedly high demand for product 1 or used to meet demand for product 2 when demand for product 1 is unexpectedly low.

In the remainder of this section we study the financial benefits of substitution by comparing the optimal inventory policies with and without substitution. When there is no substitution, the two products are independent of each other, so we can calculate the optimal inventory level for each product separately. Making use of the newsvendor formula, it is easy to determine that the optimal inventory level for product i after taking into account the required service level is

                        
                           
                              
                                 
                                    Q
                                    i
                                 
                                 =
                                 
                                    F
                                    i
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       
                                          
                                             p
                                             i
                                          
                                          −
                                          
                                             w
                                             i
                                          
                                       
                                       
                                          
                                             p
                                             i
                                          
                                          −
                                          
                                             v
                                             i
                                          
                                       
                                    
                                    )
                                 
                                 ∨
                                 
                                    F
                                    i
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       α
                                       i
                                    
                                    )
                                 
                                 ,
                                 i
                                 =
                                 1
                                 ,
                                 2
                                 .
                              
                           
                        
                     
                  

To understand the impact of substitution on the bottom line, we compute the percentage increase in expected profit between the optimal policies with and without substitution. The results for Cases 1–4 are shown in Fig. 4.

In Case 1, the percentage increase in expected profit that comes from the use of substitution is never less than 10 percent. It can be seen that for a fixed α
                     1 and α
                     2 ≤ 0.6, the percentage increase remains at a constant level. This reflects that for all these required service levels, the global maximizer is feasible and optimal. Above α
                     2 = 0.6, higher inventory levels become necessary, and as noted earlier in this section, this is sometimes accomplished by stocking more of product 1 which is then substituted for product 2 as appropriate, hence, the higher percentage increase in the expected profit from substitution as α
                     2 rises above 0.6. Even more noteworthy is the percentage increase in expected profit observed as α
                     1 increases from middling values (α
                     1 ≤ 0.7) towards 1 for a fixed α
                     2 (e.g. in Case 1 for α
                     2 = 0.7, as α
                     1 increases from 0.7 to 0.9, the percentage increase goes from 12.37 percent to 18.14 percent). Hence, we find that the financial gain from substitution is greatest when the required service level for product 1 is high. Similar remarks apply to the other cases.

In this paper, we considered a single period problem in which a firm seeks to determine the profit maximizing inventory levels for two products in advance of observing random demand. In making its stocking decisions, the firm wants to take into account downward, supplier-orientated substitution that it can employ and the firm needs to take into account customer service commitments that it has made. For the firm with this problem setting, we identified the optimal inventory policy with and without service commitments. In order to develop a keener understanding of how optimal inventory levels are affected by service commitments and how firm profitability is affected by substitution, we undertook a numerical study. By conducting this study, we learned that middling service level objectives have no impact on the optimal inventory levels. On the other hand, we found that when the service level objective for product 1 (the superior product) is fixed at some level, then as the service level objective for product 2 increases, the optimal inventory level of product 1 may increase, remain the same, or interestingly even decrease. Through the study we also learned that while the availability of substitution as an option always increases a firm’s profitability, the impact can be especially dramatic when the firm faces high service level requirements.

Further research is needed to generalize the two-product results of this paper to the multiple product setting. In addition, research that incorporates price-setting decisions would be valuable and an interesting topic for future study.

@&#ACKNOWLEDGMENTS@&#

This work was funded by a Marie Curie International Incoming Fellowship within the 7th Framework Programme of the European Commission (PIIF-GA-2009-253720), National Natural Science Foundation of China, China (nos. 71272128, 71432003), Program for New Century Excellent Talents in University, China (no. NCET-12-0087), and Youth Foundation for Humanities and Social Sciences of Ministry of Education of China (no. 11YJC630022). The authors are grateful to the editor and the two referees, whose comments led to a much improved version of this article.


                     
                        Proof of Lemma 1
                        First, we observe that the objective function T(Q
                           1, Q
                           2), which, given

                              
                                 
                                    
                                       
                                          
                                             
                                                T
                                                (
                                                
                                                   Q
                                                   1
                                                
                                                ,
                                                
                                                   Q
                                                   2
                                                
                                                )
                                             
                                          
                                          
                                             =
                                          
                                          
                                             
                                                E
                                                {
                                                −
                                                
                                                   p
                                                   1
                                                
                                                
                                                   (
                                                   
                                                      Q
                                                      1
                                                   
                                                   −
                                                   
                                                      D
                                                      1
                                                   
                                                   )
                                                
                                                
                                                   
                                                   +
                                                
                                                +
                                                
                                                   p
                                                   2
                                                
                                                
                                                   [
                                                   
                                                      (
                                                      
                                                         D
                                                         2
                                                      
                                                      −
                                                      
                                                         Q
                                                         2
                                                      
                                                      )
                                                   
                                                   ∧
                                                   
                                                      
                                                         (
                                                         
                                                            Q
                                                            1
                                                         
                                                         −
                                                         
                                                            D
                                                            1
                                                         
                                                         )
                                                      
                                                      +
                                                   
                                                   ]
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                +
                                                
                                                
                                                   v
                                                   1
                                                
                                                
                                                   [
                                                   
                                                      (
                                                      
                                                         Q
                                                         1
                                                      
                                                      −
                                                      
                                                         D
                                                         1
                                                      
                                                      )
                                                   
                                                   
                                                      
                                                      +
                                                   
                                                   −
                                                   
                                                      
                                                         (
                                                         
                                                            D
                                                            2
                                                         
                                                         −
                                                         
                                                            Q
                                                            2
                                                         
                                                         )
                                                      
                                                      +
                                                   
                                                   ]
                                                
                                                
                                                   
                                                   +
                                                
                                                +
                                                
                                                   v
                                                   2
                                                
                                                
                                                   (
                                                   
                                                      Q
                                                      2
                                                   
                                                   −
                                                   
                                                      D
                                                      2
                                                   
                                                   )
                                                
                                                
                                                   
                                                   +
                                                
                                                
                                                   }
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                +
                                                
                                                
                                                   (
                                                   
                                                      p
                                                      1
                                                   
                                                   −
                                                   
                                                      w
                                                      1
                                                   
                                                   )
                                                
                                                
                                                   Q
                                                   1
                                                
                                                +
                                                
                                                   (
                                                   
                                                      p
                                                      2
                                                   
                                                   −
                                                   
                                                      w
                                                      2
                                                   
                                                   )
                                                
                                                
                                                   Q
                                                   2
                                                
                                                ,
                                             
                                          
                                       
                                    
                                 
                              
                           can be expressed as the expectation of

                              
                                 
                                    
                                       
                                          
                                          
                                          
                                             
                                                −
                                                
                                                
                                                   p
                                                   1
                                                
                                                
                                                   
                                                      (
                                                      
                                                         Q
                                                         1
                                                      
                                                      −
                                                      
                                                         d
                                                         1
                                                      
                                                      )
                                                   
                                                   +
                                                
                                                +
                                                
                                                   p
                                                   2
                                                
                                                
                                                   [
                                                   
                                                      (
                                                      
                                                         d
                                                         2
                                                      
                                                      −
                                                      
                                                         Q
                                                         2
                                                      
                                                      )
                                                   
                                                   ∧
                                                   
                                                      
                                                         (
                                                         
                                                            Q
                                                            1
                                                         
                                                         −
                                                         
                                                            d
                                                            1
                                                         
                                                         )
                                                      
                                                      +
                                                   
                                                   ]
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                +
                                                
                                                
                                                   v
                                                   1
                                                
                                                
                                                   [
                                                   
                                                      
                                                         (
                                                         
                                                            Q
                                                            1
                                                         
                                                         −
                                                         
                                                            d
                                                            1
                                                         
                                                         )
                                                      
                                                      +
                                                   
                                                   −
                                                   
                                                      
                                                         (
                                                         
                                                            d
                                                            2
                                                         
                                                         −
                                                         
                                                            Q
                                                            2
                                                         
                                                         )
                                                      
                                                      +
                                                   
                                                   ]
                                                
                                                
                                                   
                                                   +
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                +
                                                
                                                
                                                   v
                                                   2
                                                
                                                
                                                   
                                                      (
                                                      
                                                         Q
                                                         2
                                                      
                                                      −
                                                      
                                                         d
                                                         2
                                                      
                                                      )
                                                   
                                                   +
                                                
                                                +
                                                
                                                   (
                                                   
                                                      p
                                                      1
                                                   
                                                   −
                                                   
                                                      w
                                                      1
                                                   
                                                   )
                                                
                                                
                                                   Q
                                                   1
                                                
                                                +
                                                
                                                   (
                                                   
                                                      p
                                                      2
                                                   
                                                   −
                                                   
                                                      w
                                                      2
                                                   
                                                   )
                                                
                                                
                                                   Q
                                                   2
                                                
                                                ,
                                             
                                          
                                       
                                    
                                 
                              
                           where d
                           1 and d
                           2 can be thought of as any realized demand values. As

                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   (
                                                   
                                                      d
                                                      2
                                                   
                                                   −
                                                   
                                                      Q
                                                      2
                                                   
                                                   )
                                                
                                                ∧
                                                
                                                   
                                                      (
                                                      
                                                         Q
                                                         1
                                                      
                                                      −
                                                      
                                                         d
                                                         1
                                                      
                                                      )
                                                   
                                                   +
                                                
                                             
                                          
                                          
                                             =
                                          
                                          
                                             
                                                −
                                                
                                                   
                                                      (
                                                      
                                                         Q
                                                         2
                                                      
                                                      −
                                                      
                                                         d
                                                         2
                                                      
                                                      )
                                                   
                                                   +
                                                
                                                +
                                                
                                                   
                                                      (
                                                      
                                                         d
                                                         2
                                                      
                                                      −
                                                      
                                                         Q
                                                         2
                                                      
                                                      )
                                                   
                                                   +
                                                
                                                ∧
                                                
                                                   
                                                      (
                                                      
                                                         Q
                                                         1
                                                      
                                                      −
                                                      
                                                         d
                                                         1
                                                      
                                                      )
                                                   
                                                   +
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                             =
                                          
                                          
                                             
                                                −
                                                
                                                   
                                                      (
                                                      
                                                         Q
                                                         2
                                                      
                                                      −
                                                      
                                                         d
                                                         2
                                                      
                                                      )
                                                   
                                                   +
                                                
                                                +
                                                
                                                   
                                                      (
                                                      
                                                         Q
                                                         1
                                                      
                                                      −
                                                      
                                                         d
                                                         1
                                                      
                                                      )
                                                   
                                                   +
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                −
                                                
                                                   
                                                      [
                                                      
                                                         
                                                            (
                                                            
                                                               Q
                                                               1
                                                            
                                                            −
                                                            
                                                               d
                                                               1
                                                            
                                                            )
                                                         
                                                         +
                                                      
                                                      −
                                                      
                                                         
                                                            (
                                                            
                                                               d
                                                               2
                                                            
                                                            −
                                                            
                                                               Q
                                                               2
                                                            
                                                            )
                                                         
                                                         +
                                                      
                                                      ]
                                                   
                                                   +
                                                
                                                ,
                                             
                                          
                                       
                                    
                                 
                              
                           the foregoing identity can be transformed into

                              
                                 
                                    
                                       
                                          
                                          
                                          
                                             
                                                −
                                                
                                                
                                                   p
                                                   1
                                                
                                                
                                                   
                                                      (
                                                      
                                                         Q
                                                         1
                                                      
                                                      −
                                                      
                                                         d
                                                         1
                                                      
                                                      )
                                                   
                                                   +
                                                
                                                −
                                                
                                                   p
                                                   2
                                                
                                                
                                                   
                                                      (
                                                      
                                                         Q
                                                         2
                                                      
                                                      −
                                                      
                                                         d
                                                         2
                                                      
                                                      )
                                                   
                                                   +
                                                
                                                +
                                                
                                                   p
                                                   2
                                                
                                                
                                                   
                                                      (
                                                      
                                                         Q
                                                         1
                                                      
                                                      −
                                                      
                                                         d
                                                         1
                                                      
                                                      )
                                                   
                                                   +
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                −
                                                
                                                
                                                   (
                                                   
                                                      p
                                                      2
                                                   
                                                   −
                                                   
                                                      v
                                                      1
                                                   
                                                   )
                                                
                                                
                                                   
                                                      [
                                                      
                                                         
                                                            (
                                                            
                                                               Q
                                                               1
                                                            
                                                            −
                                                            
                                                               d
                                                               1
                                                            
                                                            )
                                                         
                                                         +
                                                      
                                                      −
                                                      
                                                         
                                                            (
                                                            
                                                               d
                                                               2
                                                            
                                                            −
                                                            
                                                               Q
                                                               2
                                                            
                                                            )
                                                         
                                                         +
                                                      
                                                      ]
                                                   
                                                   +
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                +
                                                
                                                
                                                   v
                                                   2
                                                
                                                
                                                   
                                                      (
                                                      
                                                         Q
                                                         2
                                                      
                                                      −
                                                      
                                                         d
                                                         2
                                                      
                                                      )
                                                   
                                                   +
                                                
                                                +
                                                
                                                   (
                                                   
                                                      p
                                                      1
                                                   
                                                   −
                                                   
                                                      w
                                                      1
                                                   
                                                   )
                                                
                                                
                                                   Q
                                                   1
                                                
                                                +
                                                
                                                   (
                                                   
                                                      p
                                                      2
                                                   
                                                   −
                                                   
                                                      w
                                                      2
                                                   
                                                   )
                                                
                                                
                                                   Q
                                                   2
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                             =
                                          
                                          
                                             
                                                −
                                                
                                                
                                                   (
                                                   
                                                      p
                                                      1
                                                   
                                                   −
                                                   
                                                      p
                                                      2
                                                   
                                                   )
                                                
                                                
                                                   
                                                      (
                                                      
                                                         Q
                                                         1
                                                      
                                                      −
                                                      
                                                         d
                                                         1
                                                      
                                                      )
                                                   
                                                   +
                                                
                                                −
                                                
                                                   (
                                                   
                                                      p
                                                      2
                                                   
                                                   −
                                                   
                                                      v
                                                      2
                                                   
                                                   )
                                                
                                                
                                                   
                                                      (
                                                      
                                                         Q
                                                         2
                                                      
                                                      −
                                                      
                                                         d
                                                         2
                                                      
                                                      )
                                                   
                                                   +
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                −
                                                
                                                
                                                   (
                                                   
                                                      p
                                                      2
                                                   
                                                   −
                                                   
                                                      v
                                                      1
                                                   
                                                   )
                                                
                                                
                                                   
                                                      [
                                                      
                                                         
                                                            (
                                                            
                                                               Q
                                                               1
                                                            
                                                            −
                                                            
                                                               d
                                                               1
                                                            
                                                            )
                                                         
                                                         +
                                                      
                                                      −
                                                      
                                                         
                                                            (
                                                            
                                                               d
                                                               2
                                                            
                                                            −
                                                            
                                                               Q
                                                               2
                                                            
                                                            )
                                                         
                                                         +
                                                      
                                                      ]
                                                   
                                                   +
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                +
                                                
                                                
                                                   (
                                                   
                                                      p
                                                      1
                                                   
                                                   −
                                                   
                                                      w
                                                      1
                                                   
                                                   )
                                                
                                                
                                                   Q
                                                   1
                                                
                                                +
                                                
                                                   (
                                                   
                                                      p
                                                      2
                                                   
                                                   −
                                                   
                                                      w
                                                      2
                                                   
                                                   )
                                                
                                                
                                                   Q
                                                   2
                                                
                                                ,
                                             
                                          
                                       
                                    
                                 
                              
                           which is jointly concave in (Q
                           1, Q
                           2) for any fixed pair d
                           1 and d
                           2. In addition, as 
                              
                                 
                                    ∂
                                    
                                       
                                          [
                                          
                                             
                                                (
                                                
                                                   Q
                                                   1
                                                
                                                −
                                                
                                                   d
                                                   1
                                                
                                                )
                                             
                                             +
                                          
                                          −
                                          
                                             
                                                (
                                                
                                                   d
                                                   2
                                                
                                                −
                                                
                                                   Q
                                                   2
                                                
                                                )
                                             
                                             +
                                          
                                          ]
                                       
                                       +
                                    
                                 
                                 
                                    ∂
                                    
                                       Q
                                       1
                                    
                                 
                              
                            is increasing in Q
                           2, the right-hand side of the last identity is a submodular function of (Q
                           1, Q
                           2). Since concavity and submodularity are preserved under expectation, the proof is complete.□


                           
                              
                                 (1)
                                 It is sufficient to prove the first assertion for S
                                    1(x
                                    2) since the proof for S
                                    2 is similar. To this end, let 
                                       
                                          0
                                          ≤
                                          
                                             x
                                             2
                                             ′
                                          
                                          ≤
                                          
                                             x
                                             2
                                             
                                                ′
                                                ′
                                             
                                          
                                       
                                    , 
                                       
                                          
                                             x
                                             1
                                             ′
                                          
                                          =
                                          
                                             S
                                             1
                                          
                                          
                                             (
                                             
                                                x
                                                2
                                                ′
                                             
                                             )
                                          
                                       
                                     and 
                                       
                                          
                                             x
                                             1
                                             
                                                ′
                                                ′
                                             
                                          
                                          =
                                          
                                             S
                                             1
                                          
                                          
                                             (
                                             
                                                x
                                                2
                                                
                                                   ′
                                                   ′
                                                
                                             
                                             )
                                          
                                       
                                    . As 
                                       
                                          
                                             T
                                             1
                                          
                                          
                                             (
                                             
                                                x
                                                1
                                                ′
                                             
                                             ,
                                             
                                                x
                                                2
                                                ′
                                             
                                             )
                                          
                                          =
                                          0
                                       
                                     and for 
                                       
                                          0
                                          ≤
                                          
                                             x
                                             2
                                          
                                          <
                                          
                                             x
                                             2
                                             ′
                                          
                                       
                                    , 
                                       
                                          
                                             T
                                             1
                                          
                                          
                                             (
                                             
                                                x
                                                1
                                                ′
                                             
                                             ,
                                             
                                                x
                                                2
                                             
                                             )
                                          
                                          >
                                          0
                                       
                                     and for 
                                       
                                          
                                             x
                                             2
                                          
                                          >
                                          
                                             x
                                             2
                                             ′
                                          
                                       
                                    , 
                                       
                                          
                                             T
                                             1
                                          
                                          
                                             (
                                             
                                                x
                                                1
                                                ′
                                             
                                             ,
                                             
                                                x
                                                2
                                             
                                             )
                                          
                                          ≤
                                          0
                                       
                                    , we have 
                                       
                                          
                                             T
                                             1
                                          
                                          
                                             (
                                             
                                                x
                                                1
                                                ′
                                             
                                             ,
                                             
                                                x
                                                2
                                                
                                                   ′
                                                   ′
                                                
                                             
                                             )
                                          
                                          ≤
                                          0
                                       
                                    . Furthermore, because 
                                       
                                          
                                             T
                                             1
                                          
                                          
                                             (
                                             
                                                x
                                                1
                                             
                                             ,
                                             
                                                x
                                                2
                                                
                                                   ′
                                                   ′
                                                
                                             
                                             )
                                          
                                       
                                     is decreasing in x
                                    1, and by definition, 
                                       
                                          
                                             T
                                             1
                                          
                                          
                                             (
                                             
                                                x
                                                1
                                                
                                                   ′
                                                   ′
                                                
                                             
                                             ,
                                             
                                                x
                                                2
                                                
                                                   ′
                                                   ′
                                                
                                             
                                             )
                                          
                                          =
                                          0
                                       
                                    , 
                                       
                                          
                                             x
                                             1
                                             
                                                ′
                                                ′
                                             
                                          
                                          ≤
                                          
                                             x
                                             1
                                             ′
                                          
                                       
                                    . For the last assertion, we start with 
                                       
                                          (
                                          
                                             x
                                             1
                                             ′
                                          
                                          ,
                                          
                                             x
                                             2
                                             ′
                                          
                                          )
                                       
                                     and 
                                       
                                          (
                                          
                                             x
                                             1
                                             
                                                ′
                                                ′
                                             
                                          
                                          ,
                                          
                                             x
                                             2
                                             
                                                ′
                                                ′
                                             
                                          
                                          )
                                       
                                     such that 
                                       
                                          
                                             S
                                             0
                                          
                                          
                                             (
                                             
                                                x
                                                1
                                                ′
                                             
                                             )
                                          
                                          =
                                          
                                             x
                                             2
                                             ′
                                          
                                       
                                     and 
                                       
                                          
                                             S
                                             0
                                          
                                          
                                             (
                                             
                                                x
                                                1
                                                
                                                   ′
                                                   ′
                                                
                                             
                                             )
                                          
                                          =
                                          
                                             x
                                             2
                                             
                                                ′
                                                ′
                                             
                                          
                                       
                                     for 
                                       
                                          
                                             x
                                             1
                                             ′
                                          
                                          ≤
                                          
                                             x
                                             1
                                             
                                                ′
                                                ′
                                             
                                          
                                       
                                    . Because 
                                       
                                          
                                             T
                                             1
                                          
                                          
                                             (
                                             
                                                x
                                                1
                                                ′
                                             
                                             ,
                                             
                                                x
                                                2
                                                ′
                                             
                                             )
                                          
                                          −
                                          
                                             T
                                             2
                                          
                                          
                                             (
                                             
                                                x
                                                1
                                                ′
                                             
                                             ,
                                             
                                                x
                                                2
                                                ′
                                             
                                             )
                                          
                                          =
                                          0
                                       
                                     and since it follows from Lemma 2 that T
                                    1(x
                                    1, x
                                    2) − T
                                    2(x
                                    1, x
                                    2) is decreasing in x
                                    1 and increasing x
                                    2, 
                                       
                                          
                                             T
                                             1
                                          
                                          
                                             (
                                             
                                                x
                                                1
                                                
                                                   ′
                                                   ′
                                                
                                             
                                             ,
                                             
                                                x
                                                2
                                                ′
                                             
                                             )
                                          
                                          −
                                          
                                             T
                                             2
                                          
                                          
                                             (
                                             
                                                x
                                                1
                                                
                                                   ′
                                                   ′
                                                
                                             
                                             ,
                                             
                                                x
                                                2
                                                ′
                                             
                                             )
                                          
                                          ≤
                                          0
                                       
                                    . Making use of Lemma 2 again, as 
                                       
                                          
                                             T
                                             1
                                          
                                          
                                             (
                                             
                                                x
                                                1
                                                
                                                   ′
                                                   ′
                                                
                                             
                                             ,
                                             
                                                x
                                                2
                                                
                                                   ′
                                                   ′
                                                
                                             
                                             )
                                          
                                          −
                                          
                                             T
                                             2
                                          
                                          
                                             (
                                             
                                                x
                                                1
                                                
                                                   ′
                                                   ′
                                                
                                             
                                             ,
                                             
                                                x
                                                2
                                                
                                                   ′
                                                   ′
                                                
                                             
                                             )
                                          
                                          =
                                          0
                                       
                                    , it turns out that 
                                       
                                          
                                             x
                                             2
                                             
                                                ′
                                                ′
                                             
                                          
                                          ≥
                                          
                                             x
                                             2
                                             ′
                                          
                                       
                                    .

It is sufficient to prove this assertion for S
                                    1(x
                                    2) since the proof for S
                                    2 is similar. Because T
                                    1(x
                                    1, x
                                    2) − T
                                    2(x
                                    1, x
                                    2) is decreasing in x
                                    1 and increasing x
                                    2, it follows that for any ε > 0, T(x
                                    1, x
                                    2) − T(x
                                    1 − ε, x
                                    2 + ε) is decreasing in x
                                    1, in other words T
                                    1(x
                                    1, x
                                    2) − T
                                    1(x
                                    1 − ε, x
                                    2 + ε) ≤ 0. Hence, for 
                                       
                                          
                                             x
                                             1
                                             ′
                                          
                                          ≤
                                          
                                             x
                                             1
                                             
                                                ′
                                                ′
                                             
                                          
                                       
                                    ,

                                       
                                          
                                             
                                                0
                                                =
                                                
                                                   T
                                                   1
                                                
                                                
                                                   (
                                                   
                                                      S
                                                      1
                                                   
                                                   
                                                      (
                                                      
                                                         x
                                                         2
                                                         
                                                            ′
                                                            ′
                                                         
                                                      
                                                      )
                                                   
                                                   ,
                                                   
                                                      x
                                                      2
                                                      
                                                         ′
                                                         ′
                                                      
                                                   
                                                   )
                                                
                                                =
                                                
                                                   T
                                                   1
                                                
                                                
                                                   (
                                                   
                                                      S
                                                      1
                                                   
                                                   
                                                      (
                                                      
                                                         x
                                                         2
                                                         ′
                                                      
                                                      )
                                                   
                                                   ,
                                                   
                                                      x
                                                      2
                                                      ′
                                                   
                                                   )
                                                
                                                ≤
                                                
                                                   T
                                                   1
                                                
                                                
                                                   (
                                                   
                                                      S
                                                      1
                                                   
                                                   
                                                      (
                                                      
                                                         x
                                                         2
                                                         ′
                                                      
                                                      )
                                                   
                                                   +
                                                   
                                                      x
                                                      2
                                                      ′
                                                   
                                                   −
                                                   
                                                      x
                                                      2
                                                      
                                                         ′
                                                         ′
                                                      
                                                   
                                                   ,
                                                   
                                                      x
                                                      2
                                                      
                                                         ′
                                                         ′
                                                      
                                                   
                                                   )
                                                
                                                .
                                             
                                          
                                       
                                    This implies that 
                                       
                                          
                                             S
                                             1
                                          
                                          
                                             (
                                             
                                                x
                                                2
                                                ′
                                             
                                             )
                                          
                                          +
                                          
                                             x
                                             2
                                             ′
                                          
                                          −
                                          
                                             x
                                             2
                                             
                                                ′
                                                ′
                                             
                                          
                                       
                                     is on the left side of the curve S
                                    1(x
                                    2), and consequently, the slope of S
                                    1(x
                                    2) is less than or equal to −1.□

For 
                              
                                 
                                    x
                                    i
                                 
                                 ≤
                                 
                                    Q
                                    i
                                    *
                                 
                                 ,
                                 i
                                 =
                                 1
                                 ,
                                 2
                              
                           , since by Lemma 3 
                           Si
                           (x
                           3 − i
                           ) is decreasing, 
                              
                                 
                                    S
                                    i
                                 
                                 
                                    (
                                    
                                       x
                                       
                                          3
                                          −
                                          i
                                       
                                    
                                    )
                                 
                                 ≥
                                 
                                    S
                                    i
                                 
                                 
                                    (
                                    
                                       Q
                                       
                                          3
                                          −
                                          i
                                       
                                       *
                                    
                                    )
                                 
                                 =
                                 
                                    Q
                                    i
                                    *
                                 
                              
                            and thus 
                              
                                 
                                    
                                       x
                                       ¯
                                    
                                    i
                                 
                                 =
                                 
                                    Q
                                    i
                                    *
                                 
                              
                           . In this case it is optimal to order up to 
                              
                                 
                                    (
                                    
                                       Q
                                       1
                                       *
                                    
                                    ,
                                    
                                       Q
                                       2
                                       *
                                    
                                    )
                                 
                                 =
                                 
                                    (
                                    
                                       x
                                       1
                                    
                                    ∨
                                    
                                       
                                          x
                                          ¯
                                       
                                       1
                                    
                                    ,
                                    
                                       x
                                       2
                                    
                                    ∨
                                    
                                       
                                          x
                                          ¯
                                       
                                       2
                                    
                                    )
                                 
                              
                            and thus 
                              
                                 (
                                 
                                    Q
                                    1
                                    *
                                 
                                 ,
                                 
                                    Q
                                    2
                                    *
                                 
                                 )
                              
                            is the optimal joint base stock level. Now consider 
                              
                                 
                                    x
                                    i
                                 
                                 >
                                 
                                    Q
                                    i
                                    *
                                 
                                 ,
                                 i
                                 =
                                 1
                                 ,
                                 2
                              
                           . By Lemma 3 again 
                              
                                 
                                    S
                                    i
                                 
                                 
                                    (
                                    
                                       x
                                       
                                          3
                                          −
                                          i
                                       
                                    
                                    )
                                 
                                 ≤
                                 
                                    S
                                    i
                                 
                                 
                                    (
                                    
                                       Q
                                       
                                          3
                                          −
                                          i
                                       
                                       *
                                    
                                    )
                                 
                                 =
                                 
                                    Q
                                    i
                                    *
                                 
                              
                            and so 
                              
                                 
                                    
                                       x
                                       ¯
                                    
                                    i
                                 
                                 =
                                 
                                    S
                                    i
                                 
                                 
                                    (
                                    
                                       x
                                       
                                          3
                                          −
                                          i
                                       
                                    
                                    )
                                 
                                 ≤
                                 
                                    Q
                                    i
                                    *
                                 
                                 ≤
                                 
                                    x
                                    i
                                 
                              
                           . Thus it is optimal not to order product i for i = 1, 2, implying that the optimal order-up-to level is 
                              
                                 
                                    (
                                    
                                       x
                                       1
                                    
                                    ,
                                    
                                       x
                                       2
                                    
                                    )
                                 
                                 =
                                 
                                    (
                                    
                                       x
                                       1
                                    
                                    ∨
                                    
                                       
                                          x
                                          ¯
                                       
                                       1
                                    
                                    ,
                                    
                                       x
                                       2
                                    
                                    ∨
                                    
                                       
                                          x
                                          ¯
                                       
                                       2
                                    
                                    )
                                 
                              
                           . Finally, in view of symmetry, it is sufficient to consider 
                              
                                 
                                    x
                                    1
                                 
                                 ≤
                                 
                                    Q
                                    1
                                    *
                                 
                              
                            and 
                              
                                 
                                    x
                                    2
                                 
                                 ≥
                                 
                                    Q
                                    2
                                    *
                                 
                              
                           . In this case 
                              
                                 
                                    
                                       x
                                       ¯
                                    
                                    1
                                 
                                 =
                                 
                                    S
                                    1
                                 
                                 
                                    (
                                    
                                       x
                                       2
                                    
                                    )
                                 
                              
                            and 
                              
                                 
                                    
                                       x
                                       ¯
                                    
                                    2
                                 
                                 =
                                 
                                    Q
                                    2
                                    *
                                 
                              
                           . Based on the above discussion it is optimal to order up to x
                           1 ∨ S
                           1(x
                           2) for product 1 and nothing for product 2. As 
                              
                                 
                                    x
                                    2
                                 
                                 ∨
                                 
                                    Q
                                    2
                                    *
                                 
                                 =
                                 
                                    x
                                    2
                                 
                              
                           , it also shows that in this case 
                              
                                 
                                    (
                                    
                                       
                                          x
                                          ¯
                                       
                                       1
                                    
                                    ,
                                    
                                       
                                          x
                                          ¯
                                       
                                       2
                                    
                                    )
                                 
                                 =
                                 
                                    (
                                    
                                       S
                                       1
                                    
                                    
                                       (
                                       
                                          x
                                          2
                                       
                                       )
                                    
                                    ,
                                    
                                       Q
                                       2
                                       *
                                    
                                    )
                                 
                              
                            is the optimal base-stock order level, which completes the proof.□

Note that on the constraint curve, H(Q
                           1, q(Q
                           1, α
                           2)) = α
                           2. Thus, by the chain rule, we have

                              
                                 
                                    
                                       
                                          H
                                          1
                                       
                                       
                                          (
                                          
                                             Q
                                             1
                                          
                                          ,
                                          q
                                          
                                             (
                                             
                                                Q
                                                1
                                             
                                             ,
                                             
                                                α
                                                2
                                             
                                             )
                                          
                                          )
                                       
                                       +
                                       
                                          H
                                          2
                                       
                                       
                                          (
                                          
                                             Q
                                             1
                                          
                                          ,
                                          q
                                          
                                             (
                                             
                                                Q
                                                1
                                             
                                             ,
                                             
                                                α
                                                2
                                             
                                             )
                                          
                                          )
                                       
                                       
                                          q
                                          1
                                       
                                       
                                          (
                                          
                                             Q
                                             1
                                          
                                          ,
                                          
                                             α
                                             2
                                          
                                          )
                                       
                                       =
                                       0
                                       ,
                                    
                                 
                              
                           where q
                           1(Q
                           1, α
                           2) stands for 
                              
                                 
                                    ∂
                                    q
                                    (
                                    
                                       Q
                                       1
                                    
                                    ,
                                    
                                       α
                                       2
                                    
                                    )
                                 
                                 
                                    ∂
                                    
                                       Q
                                       1
                                    
                                 
                              
                           . Because for Q
                           1 > 0,

                              
                                 
                                    
                                       
                                          H
                                          2
                                       
                                       
                                          (
                                          
                                             Q
                                             1
                                          
                                          ,
                                          q
                                          
                                             (
                                             
                                                Q
                                                1
                                             
                                             ,
                                             
                                                α
                                                2
                                             
                                             )
                                          
                                          )
                                       
                                       >
                                       
                                          H
                                          1
                                       
                                       
                                          (
                                          
                                             Q
                                             1
                                          
                                          ,
                                          q
                                          
                                             (
                                             
                                                Q
                                                1
                                             
                                             ,
                                             
                                                α
                                                2
                                             
                                             )
                                          
                                          )
                                       
                                       >
                                       0
                                       ,
                                    
                                 
                              
                           whence we may divide by H
                           2(Q
                           1, q(Q
                           1, α
                           2)) thus obtaining

                              
                                 
                                    
                                       
                                          q
                                          1
                                       
                                       
                                          (
                                          
                                             Q
                                             1
                                          
                                          ,
                                          
                                             α
                                             2
                                          
                                          )
                                       
                                       =
                                       −
                                       
                                          
                                             
                                                H
                                                1
                                             
                                             
                                                (
                                                
                                                   Q
                                                   1
                                                
                                                ,
                                                q
                                                
                                                   (
                                                   
                                                      Q
                                                      1
                                                   
                                                   ,
                                                   
                                                      α
                                                      2
                                                   
                                                   )
                                                
                                                )
                                             
                                          
                                          
                                             
                                                H
                                                2
                                             
                                             
                                                (
                                                
                                                   Q
                                                   1
                                                
                                                ,
                                                q
                                                
                                                   (
                                                   
                                                      Q
                                                      1
                                                   
                                                   ,
                                                   
                                                      α
                                                      2
                                                   
                                                   )
                                                
                                                )
                                             
                                          
                                       
                                       .
                                    
                                 
                              
                           Using the preceding expression for q
                           1(Q
                           1, α
                           2), we can write the derivative of 
                              
                                 
                                    T
                                    ˜
                                 
                                 
                                    (
                                    
                                       Q
                                       1
                                    
                                    ,
                                    
                                       α
                                       2
                                    
                                    )
                                 
                                 =
                                 T
                                 
                                    (
                                    
                                       Q
                                       1
                                    
                                    ,
                                    q
                                    
                                       (
                                       
                                          Q
                                          1
                                       
                                       ,
                                       
                                          α
                                          2
                                       
                                       )
                                    
                                    )
                                 
                              
                           , with respect to Q
                           1 as:

                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      T
                                                      ˜
                                                   
                                                   1
                                                
                                                
                                                   (
                                                   
                                                      Q
                                                      1
                                                   
                                                   ,
                                                   
                                                      α
                                                      2
                                                   
                                                   )
                                                
                                             
                                          
                                          
                                             =
                                          
                                          
                                             
                                                
                                                   T
                                                   1
                                                
                                                
                                                   (
                                                   
                                                      Q
                                                      1
                                                   
                                                   ,
                                                   q
                                                   
                                                      (
                                                      
                                                         Q
                                                         1
                                                      
                                                      ,
                                                      
                                                         α
                                                         2
                                                      
                                                      )
                                                   
                                                   )
                                                
                                                +
                                                
                                                   T
                                                   2
                                                
                                                
                                                   (
                                                   
                                                      Q
                                                      1
                                                   
                                                   ,
                                                   q
                                                   
                                                      (
                                                      
                                                         Q
                                                         1
                                                      
                                                      ,
                                                      
                                                         α
                                                         2
                                                      
                                                      )
                                                   
                                                   )
                                                
                                                
                                                   q
                                                   1
                                                
                                                
                                                   (
                                                   
                                                      Q
                                                      1
                                                   
                                                   ,
                                                   
                                                      α
                                                      2
                                                   
                                                   )
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                             =
                                          
                                          
                                             
                                                
                                                   T
                                                   1
                                                
                                                
                                                   (
                                                   
                                                      Q
                                                      1
                                                   
                                                   ,
                                                   q
                                                   
                                                      (
                                                      
                                                         Q
                                                         1
                                                      
                                                      ,
                                                      
                                                         α
                                                         2
                                                      
                                                      )
                                                   
                                                   )
                                                
                                                −
                                                
                                                   T
                                                   2
                                                
                                                
                                                   (
                                                   
                                                      Q
                                                      1
                                                   
                                                   ,
                                                   q
                                                   
                                                      (
                                                      
                                                         Q
                                                         1
                                                      
                                                      ,
                                                      
                                                         α
                                                         2
                                                      
                                                      )
                                                   
                                                   )
                                                
                                                
                                                   
                                                      
                                                         H
                                                         1
                                                      
                                                      
                                                         (
                                                         
                                                            Q
                                                            1
                                                         
                                                         ,
                                                         q
                                                         
                                                            (
                                                            
                                                               Q
                                                               1
                                                            
                                                            ,
                                                            
                                                               α
                                                               2
                                                            
                                                            )
                                                         
                                                         )
                                                      
                                                   
                                                   
                                                      
                                                         H
                                                         2
                                                      
                                                      
                                                         (
                                                         
                                                            Q
                                                            1
                                                         
                                                         ,
                                                         q
                                                         
                                                            (
                                                            
                                                               Q
                                                               1
                                                            
                                                            ,
                                                            
                                                               α
                                                               2
                                                            
                                                            )
                                                         
                                                         )
                                                      
                                                   
                                                
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           Considering 
                              
                                 
                                    (
                                    
                                       Q
                                       1
                                       1
                                    
                                    ,
                                    
                                       Q
                                       2
                                       1
                                    
                                    )
                                 
                                 =
                                 
                                    (
                                    
                                       Q
                                       1
                                       1
                                    
                                    ,
                                    q
                                    
                                       (
                                       
                                          Q
                                          1
                                          1
                                       
                                       ,
                                       
                                          α
                                          2
                                       
                                       )
                                    
                                    )
                                 
                              
                           , we use the fact that 
                              
                                 
                                    T
                                    1
                                 
                                 
                                    (
                                    
                                       Q
                                       1
                                       1
                                    
                                    ,
                                    q
                                    
                                       (
                                       
                                          Q
                                          1
                                          1
                                       
                                       ,
                                       
                                          α
                                          2
                                       
                                       )
                                    
                                    )
                                 
                                 =
                                 0
                              
                            and 
                              
                                 
                                    T
                                    2
                                 
                                 
                                    (
                                    
                                       Q
                                       1
                                       1
                                    
                                    ,
                                    q
                                    
                                       (
                                       
                                          Q
                                          1
                                          1
                                       
                                       ,
                                       
                                          α
                                          2
                                       
                                       )
                                    
                                    )
                                 
                                 <
                                 0
                              
                           , to conclude that 
                              
                                 
                                    T
                                    1
                                 
                                 
                                    (
                                    
                                       Q
                                       1
                                       1
                                    
                                    ,
                                    
                                       Q
                                       2
                                       1
                                    
                                    )
                                 
                                 =
                                 
                                    
                                       T
                                       ˜
                                    
                                    1
                                 
                                 
                                    (
                                    
                                       Q
                                       1
                                       1
                                    
                                    ,
                                    
                                       α
                                       2
                                    
                                    )
                                 
                                 >
                                 0
                              
                           . Considering 
                              
                                 
                                    (
                                    
                                       Q
                                       1
                                       0
                                    
                                    ,
                                    
                                       Q
                                       2
                                       0
                                    
                                    )
                                 
                                 =
                                 
                                    (
                                    
                                       Q
                                       1
                                       0
                                    
                                    ,
                                    q
                                    
                                       (
                                       
                                          Q
                                          1
                                          0
                                       
                                       ,
                                       
                                          α
                                          2
                                       
                                       )
                                    
                                    )
                                 
                              
                           , we use the fact that 
                              
                                 
                                    T
                                    1
                                 
                                 
                                    (
                                    
                                       Q
                                       1
                                       0
                                    
                                    ,
                                    q
                                    
                                       (
                                       
                                          Q
                                          1
                                          0
                                       
                                       ,
                                       
                                          α
                                          2
                                       
                                       )
                                    
                                    )
                                 
                                 =
                                 
                                    T
                                    2
                                 
                                 
                                    (
                                    
                                       Q
                                       1
                                       0
                                    
                                    ,
                                    q
                                    
                                       (
                                       
                                          Q
                                          1
                                          0
                                       
                                       ,
                                       
                                          α
                                          2
                                       
                                       )
                                    
                                    )
                                 
                                 <
                                 0
                              
                           , to conclude that

                              
                                 
                                    
                                       
                                          
                                             T
                                             ˜
                                          
                                          1
                                       
                                       
                                          (
                                          
                                             Q
                                             1
                                             0
                                          
                                          ,
                                          
                                             α
                                             2
                                          
                                          )
                                       
                                       =
                                       
                                          T
                                          1
                                       
                                       
                                          (
                                          
                                             Q
                                             1
                                             0
                                          
                                          ,
                                          q
                                          
                                             (
                                             
                                                Q
                                                1
                                                0
                                             
                                             ,
                                             
                                                α
                                                2
                                             
                                             )
                                          
                                          )
                                       
                                       
                                          [
                                          1
                                          −
                                          
                                             
                                                
                                                   H
                                                   1
                                                
                                                
                                                   (
                                                   
                                                      Q
                                                      1
                                                      0
                                                   
                                                   ,
                                                   q
                                                   
                                                      (
                                                      
                                                         Q
                                                         1
                                                         0
                                                      
                                                      ,
                                                      
                                                         α
                                                         2
                                                      
                                                      )
                                                   
                                                   )
                                                
                                             
                                             
                                                
                                                   H
                                                   2
                                                
                                                
                                                   (
                                                   
                                                      Q
                                                      1
                                                      0
                                                   
                                                   ,
                                                   q
                                                   
                                                      (
                                                      
                                                         Q
                                                         1
                                                         0
                                                      
                                                      ,
                                                      
                                                         α
                                                         2
                                                      
                                                      )
                                                   
                                                   )
                                                
                                             
                                          
                                          ]
                                       
                                       <
                                       0
                                       .
                                    
                                 
                              
                           Finally, consider 
                              
                                 
                                    Q
                                    1
                                    0
                                 
                                 ≤
                                 x
                                 ≤
                                 
                                    Q
                                    1
                                    2
                                 
                              
                           . Since T
                           1(x, q(x, α
                           2)) ≤ T
                           2(x, q(x, α
                           2)) < 0,

                              
                                 
                                    
                                       
                                          
                                             T
                                             ˜
                                          
                                          1
                                       
                                       
                                          (
                                          x
                                          ,
                                          
                                             α
                                             2
                                          
                                          )
                                       
                                       ≤
                                       
                                          T
                                          2
                                       
                                       
                                          (
                                          x
                                          ,
                                          q
                                          
                                             (
                                             x
                                             ,
                                             
                                                α
                                                2
                                             
                                             )
                                          
                                          )
                                       
                                       
                                          [
                                          1
                                          −
                                          
                                             
                                                
                                                   H
                                                   1
                                                
                                                
                                                   (
                                                   x
                                                   1
                                                   ,
                                                   q
                                                   
                                                      (
                                                      x
                                                      ,
                                                      
                                                         α
                                                         2
                                                      
                                                      )
                                                   
                                                   )
                                                
                                             
                                             
                                                
                                                   H
                                                   2
                                                
                                                
                                                   (
                                                   x
                                                   ,
                                                   q
                                                   
                                                      (
                                                      x
                                                      ,
                                                      
                                                         α
                                                         2
                                                      
                                                      )
                                                   
                                                   )
                                                
                                             
                                          
                                          ]
                                       
                                       <
                                       0
                                       ,
                                    
                                 
                              
                           which implies that there is no local maximizer for the curve between 
                              
                                 (
                                 
                                    Q
                                    1
                                    0
                                 
                                 ,
                                 
                                    Q
                                    2
                                    0
                                 
                                 )
                              
                            and 
                              
                                 (
                                 
                                    Q
                                    1
                                    2
                                 
                                 ,
                                 
                                    Q
                                    2
                                    2
                                 
                                 )
                              
                           . This completes the proof.□

By KKT the optimal solution to our problem needs to satisfy the following conditions:

                              
                                 (A.1)
                                 
                                    
                                       
                                          
                                             0
                                          
                                          
                                             =
                                          
                                          
                                             
                                                
                                                   T
                                                   1
                                                
                                                
                                                   (
                                                   
                                                      Q
                                                      1
                                                   
                                                   ,
                                                   
                                                      Q
                                                      2
                                                   
                                                   )
                                                
                                                +
                                                
                                                   μ
                                                   1
                                                
                                                
                                                   f
                                                   1
                                                
                                                
                                                   (
                                                   
                                                      Q
                                                      1
                                                   
                                                   )
                                                
                                                +
                                                
                                                   μ
                                                   2
                                                
                                                
                                                   H
                                                   1
                                                
                                                
                                                   (
                                                   
                                                      Q
                                                      1
                                                   
                                                   ,
                                                   
                                                      Q
                                                      2
                                                   
                                                   )
                                                
                                                ,
                                             
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             =
                                          
                                          
                                             
                                                
                                                   T
                                                   2
                                                
                                                
                                                   (
                                                   
                                                      Q
                                                      1
                                                   
                                                   ,
                                                   
                                                      Q
                                                      2
                                                   
                                                   )
                                                
                                                +
                                                
                                                   μ
                                                   2
                                                
                                                
                                                   H
                                                   2
                                                
                                                
                                                   (
                                                   
                                                      Q
                                                      1
                                                   
                                                   ,
                                                   
                                                      Q
                                                      2
                                                   
                                                   )
                                                
                                                ,
                                             
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             =
                                          
                                          
                                             
                                                
                                                   μ
                                                   1
                                                
                                                
                                                   [
                                                   
                                                      F
                                                      1
                                                   
                                                   
                                                      (
                                                      
                                                         Q
                                                         1
                                                      
                                                      )
                                                   
                                                   −
                                                   
                                                      α
                                                      1
                                                   
                                                   ]
                                                
                                                =
                                                
                                                   μ
                                                   2
                                                
                                                
                                                   [
                                                   H
                                                   
                                                      (
                                                      
                                                         Q
                                                         1
                                                      
                                                      ,
                                                      
                                                         Q
                                                         2
                                                      
                                                      )
                                                   
                                                   −
                                                   
                                                      α
                                                      2
                                                   
                                                   ]
                                                
                                                
                                                ,
                                             
                                          
                                       
                                    
                                 
                              
                           where μi
                            ≥ 0 is the KKT multiplier corresponding to constraint i, i = 1, 2. Obviously μ
                           1 = 0 if F
                           1(Q
                           1) > α
                           1, and μ
                           2 = 0 if H(Q
                           1, Q
                           2) > α
                           2. We examine each pair (Q
                           1, Q
                           2) with respect to the foregoing conditions. It should be clear that pairs with positive partial derivative are not optimal for the problem, as they make the right-hand side of at least one of the first two equations in (A.1) positive. On the other hand, the global maximizer is a possible candidate for the optimal solution. Whether this pair satisfies the service constraints is unknown, but it is attractive to check this solution first. By simply letting μ
                           1 = μ
                           2 = 0, we find that it meets the KKT conditions.

Continuing with our examination of pairs, we consider (Q
                           1, Q
                           2) with T
                           2(Q
                           1, Q
                           2) = 0 and T
                           1(Q
                           1, Q
                           2) < 0. As H
                           2(Q
                           1, Q
                           2) > 0, the μ
                           2 associated with this pair must be zero and thus the first equation of (A.1) is T
                           1(Q
                           1, Q
                           2) + μ
                           1
                           f
                           1(Q
                           1) = 0. For this pair, as T
                           1(Q
                           1, Q
                           2) < 0 and f
                           1(Q
                           1) > 0, 
                              
                                 
                                    μ
                                    1
                                 
                                 =
                                 −
                                 
                                    
                                       
                                          T
                                          1
                                       
                                       
                                          (
                                          
                                             Q
                                             1
                                          
                                          ,
                                          
                                             Q
                                             2
                                          
                                          )
                                       
                                    
                                    
                                       
                                          f
                                          1
                                       
                                       
                                          (
                                          
                                             Q
                                             1
                                          
                                          )
                                       
                                    
                                 
                                 >
                                 0
                              
                            indicating that F
                           1(Q
                           1) = α
                           1, i.e., this pair is on the boundary and satisfies 
                              
                                 
                                    Q
                                    1
                                 
                                 =
                                 
                                    F
                                    1
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       α
                                       1
                                    
                                    )
                                 
                              
                           . It follows that in this case, at the corner point 
                              
                                 (
                                 
                                    F
                                    1
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       α
                                       1
                                    
                                    )
                                 
                                 ,
                                 q
                                 
                                    (
                                    
                                       F
                                       1
                                       
                                          −
                                          1
                                       
                                    
                                    
                                       (
                                       
                                          α
                                          1
                                       
                                       )
                                    
                                    ,
                                    
                                       α
                                       2
                                    
                                    )
                                 
                                 )
                              
                           , 
                              
                                 
                                    T
                                    2
                                 
                                 
                                    (
                                    
                                       F
                                       1
                                       
                                          −
                                          1
                                       
                                    
                                    
                                       (
                                       
                                          α
                                          1
                                       
                                       )
                                    
                                    ,
                                    q
                                    
                                       (
                                       
                                          F
                                          1
                                          
                                             −
                                             1
                                          
                                       
                                       
                                          (
                                          
                                             α
                                             1
                                          
                                          )
                                       
                                       ,
                                       
                                          α
                                          2
                                       
                                       )
                                    
                                    )
                                 
                                 ≥
                                 0
                              
                           , since otherwise the concavity of T implies that T
                           2(Q
                           1, Q
                           2) < 0 for all 
                              
                                 
                                    Q
                                    1
                                 
                                 =
                                 
                                    F
                                    1
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       α
                                       1
                                    
                                    )
                                 
                              
                            and 
                              
                                 
                                    Q
                                    2
                                 
                                 >
                                 q
                                 
                                    (
                                    
                                       F
                                       1
                                       
                                          −
                                          1
                                       
                                    
                                    
                                       (
                                       
                                          α
                                          1
                                       
                                       )
                                    
                                    ,
                                    
                                       α
                                       2
                                    
                                    )
                                 
                              
                           , a contradiction. The remaining quantities (Q
                           1, Q
                           2) must satisfy T
                           2(Q
                           1, Q
                           2) < 0 and T
                           1(Q
                           1, Q
                           2) ≤ 0. It follows that μ
                           2 > 0 and (Q
                           1, Q
                           2) is on the boundary satisfying H(Q
                           1, Q
                           2) = α
                           2 or Q
                           2 = q(Q
                           1, α
                           2). In particular, 
                              
                                 
                                    μ
                                    2
                                 
                                 =
                                 −
                                 
                                    
                                       
                                          T
                                          2
                                       
                                       
                                          (
                                          
                                             Q
                                             1
                                          
                                          ,
                                          q
                                          
                                             (
                                             
                                                Q
                                                1
                                             
                                             ,
                                             
                                                α
                                                2
                                             
                                             )
                                          
                                          )
                                       
                                    
                                    
                                       
                                          H
                                          2
                                       
                                       
                                          (
                                          
                                             Q
                                             1
                                          
                                          ,
                                          q
                                          
                                             (
                                             
                                                Q
                                                1
                                             
                                             ,
                                             
                                                α
                                                2
                                             
                                             )
                                          
                                          )
                                       
                                    
                                 
                              
                           . For a pair to satisfy the first equation of (A.1), it is necessary that T
                           1(Q
                           1, Q
                           2) + μ
                           2
                           H
                           1(Q
                           1, Q
                           2) ≤ 0, or

                              
                                 
                                    
                                       
                                          
                                             
                                                T
                                                1
                                             
                                             
                                                (
                                                
                                                   Q
                                                   1
                                                
                                                ,
                                                q
                                                
                                                   (
                                                   
                                                      Q
                                                      1
                                                   
                                                   ,
                                                   
                                                      α
                                                      2
                                                   
                                                   )
                                                
                                                )
                                             
                                             
                                                )
                                             
                                          
                                          
                                             
                                                T
                                                2
                                             
                                             
                                                (
                                                
                                                   Q
                                                   1
                                                
                                                ,
                                                q
                                                
                                                   (
                                                   
                                                      Q
                                                      1
                                                   
                                                   ,
                                                   
                                                      α
                                                      2
                                                   
                                                   )
                                                
                                                )
                                             
                                             
                                                )
                                             
                                          
                                       
                                       ≥
                                       
                                          
                                             
                                                H
                                                1
                                             
                                             
                                                (
                                                
                                                   Q
                                                   1
                                                
                                                ,
                                                q
                                                
                                                   (
                                                   
                                                      Q
                                                      1
                                                   
                                                   ,
                                                   
                                                      α
                                                      2
                                                   
                                                   )
                                                
                                                )
                                             
                                             
                                                )
                                             
                                          
                                          
                                             
                                                H
                                                2
                                             
                                             
                                                (
                                                
                                                   Q
                                                   1
                                                
                                                ,
                                                q
                                                
                                                   (
                                                   
                                                      Q
                                                      1
                                                   
                                                   ,
                                                   
                                                      α
                                                      2
                                                   
                                                   )
                                                
                                                )
                                             
                                             
                                                )
                                             
                                          
                                       
                                       .
                                    
                                 
                              
                           If the above relation is an equality, then we choose μ
                           1 = 0 to meet the first equation of (A.1); otherwise, choose μ
                           1 > 0 and 
                              
                                 
                                    Q
                                    1
                                 
                                 =
                                 
                                    F
                                    1
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       α
                                       1
                                    
                                    )
                                 
                              
                           . This completes the proof of the theorem.□

We begin by showing that the theorem holds when the corner point falls in the region labeled I (see Fig. 2). There are two cases to consider. In the first case the curve x
                           2 = q(x
                           1, α
                           2) intersects with curve S
                           0 at or below 
                              
                                 (
                                 
                                    Q
                                    1
                                    *
                                 
                                 ,
                                 
                                    Q
                                    2
                                    *
                                 
                                 )
                              
                           . Two points merit special attention: the first is the intersection of the line 
                              
                                 
                                    x
                                    1
                                 
                                 =
                                 
                                    F
                                    1
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       α
                                       1
                                    
                                    )
                                 
                              
                            with S
                           1 at 
                              
                                 (
                                 
                                    F
                                    1
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       α
                                       1
                                    
                                    )
                                 
                                 ,
                                 
                                    Q
                                    2
                                    ′
                                 
                                 )
                              
                           , where 
                              
                                 
                                    S
                                    1
                                 
                                 
                                    (
                                    
                                       Q
                                       2
                                       ′
                                    
                                    )
                                 
                                 =
                                 
                                    F
                                    1
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       α
                                       1
                                    
                                    )
                                 
                              
                           , and the second is the intersection of the curve q(x
                           1, α
                           2) with S
                           0 at 
                              
                                 (
                                 
                                    Q
                                    1
                                    0
                                 
                                 ,
                                 q
                                 
                                    (
                                    
                                       Q
                                       1
                                       0
                                    
                                    ,
                                    
                                       α
                                       2
                                    
                                    )
                                 
                                 )
                              
                            where 
                              
                                 
                                    S
                                    0
                                 
                                 
                                    (
                                    
                                       Q
                                       1
                                       0
                                    
                                    )
                                 
                                 =
                                 q
                                 
                                    (
                                    
                                       Q
                                       1
                                       0
                                    
                                    ,
                                    
                                       α
                                       2
                                    
                                    )
                                 
                              
                           . When the initial stock (x
                           1, x
                           2) lies within the constraint feasible region and above the controlling curves, it is optimal to do nothing just as in the unconstrained problem. For an initial stock (x
                           1, x
                           2) outside this space, if 
                              
                                 
                                    x
                                    1
                                 
                                 <
                                 
                                    F
                                    1
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       α
                                       1
                                    
                                    )
                                 
                              
                           , 
                              
                                 
                                    x
                                    2
                                 
                                 ≥
                                 
                                    Q
                                    2
                                    ′
                                 
                              
                           , and if there is no service level commitment, then it will be optimal to raise the stock of product 1 to (S
                           1(x
                           2), x
                           2). But, as 
                              
                                 
                                    S
                                    1
                                 
                                 
                                    (
                                    
                                       x
                                       2
                                    
                                    )
                                 
                                 <
                                 
                                    F
                                    1
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       α
                                       1
                                    
                                    )
                                 
                              
                           , and it is necessary to satisfy the service level commitment, the stock must be raised to 
                              
                                 (
                                 
                                    F
                                    1
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       α
                                       1
                                    
                                    )
                                 
                                 ,
                                 
                                    x
                                    2
                                 
                                 )
                              
                            by adding 
                              
                                 
                                    F
                                    1
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       α
                                       1
                                    
                                    )
                                 
                                 −
                                 
                                    S
                                    1
                                 
                                 
                                    (
                                    
                                       x
                                       2
                                    
                                    )
                                 
                              
                            units of product 1 to the stock that would be established if there was no service level commitment. Finally, for an initial stock (x
                           1, x
                           2), where 
                              
                                 
                                    x
                                    2
                                 
                                 <
                                 
                                    Q
                                    2
                                    ′
                                 
                              
                           , the decision rule of the unconstrained problem remains feasible and optimal.

In the second case, the curve x
                           2 = q(x
                           1, α
                           2) intersects with curve S
                           0 above 
                              
                                 (
                                 
                                    Q
                                    1
                                    *
                                 
                                 ,
                                 
                                    Q
                                    2
                                    *
                                 
                                 )
                              
                           . Four points are to be noted: the first is the intersection of the line 
                              
                                 
                                    x
                                    1
                                 
                                 =
                                 
                                    F
                                    1
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       α
                                       1
                                    
                                    )
                                 
                              
                            with S
                           1 at 
                              
                                 (
                                 
                                    F
                                    1
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       α
                                       1
                                    
                                    )
                                 
                                 ,
                                 
                                    Q
                                    2
                                    ′
                                 
                                 )
                              
                           , where 
                              
                                 
                                    S
                                    1
                                 
                                 
                                    (
                                    
                                       Q
                                       2
                                       ′
                                    
                                    )
                                 
                                 =
                                 
                                    F
                                    1
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       α
                                       1
                                    
                                    )
                                 
                              
                           ; the second, third and fourth points involve the intersection of the curve x
                           2 = q(x
                           1, α
                           2) with S
                           1 at 
                              
                                 
                                    (
                                    
                                       Q
                                       1
                                       1
                                    
                                    ,
                                    
                                       Q
                                       2
                                       1
                                    
                                    )
                                 
                                 =
                                 
                                    (
                                    
                                       Q
                                       1
                                       1
                                    
                                    ,
                                    q
                                    
                                       (
                                       
                                          Q
                                          1
                                          1
                                       
                                       ,
                                       
                                          α
                                          2
                                       
                                       )
                                    
                                    )
                                 
                              
                           , where 
                              
                                 
                                    Q
                                    1
                                    1
                                 
                                 =
                                 
                                    S
                                    1
                                 
                                 
                                    (
                                    q
                                    
                                       (
                                       
                                          Q
                                          1
                                          1
                                       
                                       ,
                                       
                                          α
                                          2
                                       
                                       )
                                    
                                    )
                                 
                              
                           , with S
                           0 at 
                              
                                 
                                    (
                                    
                                       Q
                                       1
                                       0
                                    
                                    ,
                                    
                                       Q
                                       2
                                       0
                                    
                                    )
                                 
                                 =
                                 
                                    (
                                    
                                       Q
                                       1
                                       0
                                    
                                    ,
                                    q
                                    
                                       (
                                       
                                          Q
                                          1
                                          0
                                       
                                       ,
                                       
                                          α
                                          2
                                       
                                       )
                                    
                                    )
                                 
                              
                           , where 
                              
                                 
                                    S
                                    0
                                 
                                 
                                    (
                                    
                                       Q
                                       1
                                       0
                                    
                                    )
                                 
                                 =
                                 q
                                 
                                    (
                                    
                                       Q
                                       1
                                       0
                                    
                                    ,
                                    
                                       α
                                       2
                                    
                                    )
                                 
                              
                           , and with S
                           2 at 
                              
                                 (
                                 
                                    Q
                                    1
                                    2
                                 
                                 ,
                                 
                                    Q
                                    2
                                    2
                                 
                                 )
                              
                           , where 
                              
                                 
                                    Q
                                    2
                                    2
                                 
                                 =
                                 q
                                 
                                    (
                                    
                                       Q
                                       1
                                       2
                                    
                                    ,
                                    
                                       α
                                       2
                                    
                                    )
                                 
                                 =
                                 
                                    S
                                    2
                                 
                                 
                                    (
                                    
                                       Q
                                       1
                                       2
                                    
                                    )
                                 
                              
                           . Once again, when the initial stock (x
                           1, x
                           2) lies within the constraint feasible region and above the controlling curves, it is optimal to do nothing just as in the unconstrained problem. For an initial stock (x
                           1, x
                           2) outside this space, (1) if 
                              
                                 
                                    x
                                    1
                                 
                                 <
                                 
                                    F
                                    1
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       α
                                       1
                                    
                                    )
                                 
                              
                            and 
                              
                                 
                                    x
                                    2
                                 
                                 ≥
                                 
                                    Q
                                    2
                                    ′
                                 
                              
                           , it follows from similar reasoning to that employed above that it is optimal to raise the stock of product 1 to 
                              
                                 (
                                 
                                    F
                                    1
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       α
                                       1
                                    
                                    )
                                 
                                 ,
                                 
                                    x
                                    2
                                 
                                 )
                              
                           ; (2) if 
                              
                                 
                                    Q
                                    2
                                    1
                                 
                                 ≤
                                 
                                    x
                                    2
                                 
                                 <
                                 
                                    Q
                                    2
                                    ′
                                 
                              
                           , it is optimal to raise the stock of product 1 to (S
                           1(x
                           2), x
                           2); (3) if 
                              
                                 
                                    Q
                                    2
                                    0
                                 
                                 ≤
                                 
                                    x
                                    2
                                 
                                 <
                                 
                                    Q
                                    2
                                    1
                                 
                              
                           , it is optimal to increase the stock of product 1 or both products to some level in the lower boundary Q
                           2 = q(Q
                           1, α
                           2), say 
                              
                                 (
                                 
                                    
                                       Q
                                       ¯
                                    
                                    1
                                    *
                                 
                                 
                                    (
                                    
                                       x
                                       1
                                    
                                    ,
                                    
                                       x
                                       2
                                    
                                    )
                                 
                                 ,
                                 
                                    
                                       Q
                                       ¯
                                    
                                    2
                                    *
                                 
                                 
                                    (
                                    
                                       x
                                       1
                                    
                                    ,
                                    
                                       x
                                       2
                                    
                                    )
                                 
                                 )
                              
                            with 
                              
                                 
                                    
                                       Q
                                       ¯
                                    
                                    2
                                    *
                                 
                                 
                                    (
                                    
                                       x
                                       1
                                    
                                    ,
                                    
                                       x
                                       2
                                    
                                    )
                                 
                                 =
                                 q
                                 
                                    (
                                    
                                       
                                          Q
                                          ¯
                                       
                                       1
                                       *
                                    
                                    
                                       (
                                       
                                          x
                                          1
                                       
                                       ,
                                       
                                          x
                                          2
                                       
                                       )
                                    
                                    ,
                                    
                                       α
                                       2
                                    
                                    )
                                 
                              
                           , which is a local maximizer of T(Q
                           1, q(Q
                           1, α
                           2)) for (x
                           1, x
                           2) ≤ (Q
                           1, q(Q
                           1, α
                           2)); (4) if 
                              
                                 
                                    Q
                                    2
                                    0
                                 
                                 >
                                 
                                    x
                                    2
                                 
                                 ≥
                                 
                                    Q
                                    2
                                    2
                                 
                              
                           , when 
                              
                                 
                                    x
                                    1
                                 
                                 ≤
                                 
                                    Q
                                    1
                                    0
                                 
                              
                           , it is optimal to raise, either product 1 or 2 or both products, to some level in the lower boundary Q
                           2 = q(Q
                           1, α
                           2), say 
                              
                                 (
                                 
                                    
                                       Q
                                       ¯
                                    
                                    1
                                    *
                                 
                                 
                                    (
                                    
                                       x
                                       1
                                    
                                    ,
                                    
                                       x
                                       2
                                    
                                    )
                                 
                                 ,
                                 
                                    
                                       Q
                                       ¯
                                    
                                    2
                                    *
                                 
                                 
                                    (
                                    
                                       x
                                       1
                                    
                                    ,
                                    
                                       x
                                       2
                                    
                                    )
                                 
                                 )
                              
                            with 
                              
                                 
                                    
                                       Q
                                       ¯
                                    
                                    2
                                    *
                                 
                                 
                                    (
                                    
                                       x
                                       1
                                    
                                    ,
                                    
                                       x
                                       2
                                    
                                    )
                                 
                                 =
                                 q
                                 
                                    (
                                    
                                       
                                          Q
                                          ¯
                                       
                                       1
                                       *
                                    
                                    
                                       (
                                       
                                          x
                                          1
                                       
                                       ,
                                       
                                          x
                                          2
                                       
                                       )
                                    
                                    ,
                                    
                                       α
                                       2
                                    
                                    )
                                 
                              
                           , which is a local maximizer of T(Q
                           1, q(Q
                           1, α
                           2)) for (x
                           1, x
                           2) ≤ (Q
                           1, q(Q
                           1, α
                           2)), and when 
                              
                                 
                                    x
                                    1
                                 
                                 >
                                 
                                    Q
                                    1
                                    0
                                 
                              
                           , it is optimal to raise the stock of product 2 to (x
                           1, S
                           2(x
                           1)); (5) finally, if 
                              
                                 
                                    x
                                    2
                                 
                                 <
                                 
                                    Q
                                    2
                                    2
                                 
                              
                           , when 
                              
                                 
                                    x
                                    1
                                 
                                 ≤
                                 
                                    Q
                                    1
                                    2
                                 
                              
                           , it is optimal to stock to some level in the lower boundary Q
                           2 = q(Q
                           1, α
                           2), which is a local maximizer of T(Q
                           1, q(Q
                           1, α
                           2)) for 
                              
                                 
                                    x
                                    1
                                 
                                 ≤
                                 
                                    Q
                                    1
                                    0
                                 
                              
                           , and is (x
                           1, q(x
                           1, α
                           2)) for 
                              
                                 
                                    Q
                                    1
                                    2
                                 
                                 ≥
                                 
                                    x
                                    1
                                 
                                 >
                                 
                                    Q
                                    1
                                    0
                                 
                              
                           , and when 
                              
                                 
                                    x
                                    1
                                 
                                 >
                                 
                                    Q
                                    1
                                    2
                                 
                              
                           , it is optimal to raise the stock of product 2 to (x
                           1, S
                           2(x
                           1)). Note that those local maximizers of T along the boundary Q
                           2 = q(Q
                           1, α
                           2) only appear in between 
                              
                                 (
                                 
                                    Q
                                    1
                                    1
                                 
                                 ,
                                 q
                                 
                                    (
                                    
                                       Q
                                       1
                                       1
                                    
                                    ,
                                    
                                       α
                                       2
                                    
                                    )
                                 
                                 )
                              
                            and 
                              
                                 (
                                 
                                    Q
                                    1
                                    0
                                 
                                 ,
                                 
                                    S
                                    0
                                 
                                 
                                    (
                                    
                                       Q
                                       1
                                       0
                                    
                                    )
                                 
                                 )
                              
                           , and there may exist multiple local maximizers in this part of the curve. In our selection of optimal stocking levels, we always choose the best among the feasible local maximizers for an initial stock. The proofs for regions II, III, and IV are similar and therefore omitted for the sake of brevity.□

For a fixed α
                           2, as α
                           1 increases, q
                           1(α
                           1, α
                           2) either stays the same (if (q
                           1(α
                           1, α
                           2), q
                           2(α
                           1, α
                           2)) remains feasible), or increases to satisfy the higher required service level. From Theorem 3, we know that the optimal stocking level is either 
                              
                                 (
                                 
                                    Q
                                    1
                                    *
                                 
                                 ,
                                 
                                    Q
                                    2
                                    *
                                 
                                 )
                              
                            if this global maximizer is a feasible solution, or is on one of the following curves: 
                              
                                 
                                    x
                                    1
                                 
                                 =
                                 
                                    F
                                    1
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       α
                                       1
                                    
                                    )
                                 
                              
                           , S
                           1(x
                           2), S
                           2(x
                           1) or q(x
                           1, α
                           2). Note that the last three curves are decreasing in x
                           1, hence when α
                           1 increases, q
                           2(α
                           1, α
                           2) which is the optimal stocking level of product 2 must be decreasing.□

@&#REFERENCES@&#

