@&#MAIN-TITLE@&#Defining tools to address over-constrained geometric problems in Computer Aided Design

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           Support for analyzing over-constraint sketches in CAD.


                        
                        
                           
                           Use of non-cartesian geometric modeling.


                        
                        
                           
                           Tool for decision making in constraint choice.


                        
                        
                           
                           Methodology to solve over-constraint problems.


                        
                        
                           
                           Possible application in collaborative environment.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Geometric modeling

Non-cartesian

Over-constrained

Geometric constraints

GCSP

Specification

@&#ABSTRACT@&#


               
               
                  This paper proposes a new tool for decision support to address geometric over-constrained problems in Computer Aided Design (CAD). It concerns the declarative modeling of geometrical problems. The core of the coordinate free solver used to solve the Geometric Constraint Satisfaction Problem (GCSP) was developed previously by the authors. This research proposes a methodology based on Michelucci’s witness method to determine whether the structure of the problem is over-constrained. In this case, the authors propose a tool for assisting the designer in solving the over-constrained problem by ensuring the consistency of the specifications. An application of the methodology and tool is presented in an academic example.
               
            


                        
                           
                              (34)
                              
                                 
                                    [
                                    
                                       
                                          
                                             2.5
                                          
                                          
                                             2.1578
                                          
                                          
                                             1.854
                                          
                                          
                                             −
                                             2.5
                                          
                                          
                                             −
                                             2.1578
                                          
                                          
                                             −
                                             1.854
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ⋯
                                          
                                          
                                             0
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             −
                                             2.3454
                                          
                                          
                                             −
                                             2.3
                                          
                                          
                                             −
                                             1.7116
                                          
                                          
                                             2.3454
                                          
                                          
                                             2.3
                                          
                                          
                                             1.7116
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ⋯
                                          
                                          
                                             0
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             −
                                             2.3568
                                          
                                          
                                             −
                                             2.0017
                                          
                                          
                                             −
                                             1.9667
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             2.3568
                                          
                                          
                                             2.0017
                                          
                                          
                                             1.9667
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ⋯
                                          
                                          
                                             0
                                          
                                       
                                       
                                          
                                             −
                                             1.1957
                                          
                                          
                                             −
                                             1.3623
                                          
                                          
                                             −
                                             1.3575
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             1.1957
                                          
                                          
                                             1.3623
                                          
                                          
                                             1.3575
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ⋯
                                          
                                          
                                             0
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             −
                                             1.6612
                                          
                                          
                                             −
                                             1.3705
                                          
                                          
                                             −
                                             1.7222
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             1.6612
                                          
                                          
                                             1.3705
                                          
                                          
                                             1.7222
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ⋯
                                          
                                          
                                             0
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             −
                                             2.0754
                                          
                                          
                                             −
                                             2.1397
                                          
                                          
                                             −
                                             1.7289
                                          
                                          
                                             2.0754
                                          
                                          
                                             2.1397
                                          
                                          
                                             1.7289
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ⋯
                                          
                                          
                                             0
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             2.1798
                                          
                                          
                                             1.4924
                                          
                                          
                                             1.6768
                                          
                                          
                                             −
                                             2.1798
                                          
                                          
                                             −
                                             1.4924
                                          
                                          
                                             −
                                             1.6768
                                          
                                          
                                             ⋯
                                          
                                          
                                             0
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             2.4344
                                          
                                          
                                             2.271
                                          
                                          
                                             1.7365
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ⋯
                                          
                                          
                                             0
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             2.4558
                                          
                                          
                                             2.0012
                                          
                                          
                                             1.9071
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ⋯
                                          
                                          
                                             −
                                             1.9071
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             −
                                             1.9762
                                          
                                          
                                             −
                                             2.0172
                                          
                                          
                                             −
                                             1.741
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ⋯
                                          
                                          
                                             1.741
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             −
                                             1.7689
                                          
                                          
                                             −
                                             1.6297
                                          
                                          
                                             −
                                             1.7538
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ⋯
                                          
                                          
                                             0
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             −
                                             1.159
                                          
                                          
                                             −
                                             1.5984
                                          
                                          
                                             −
                                             1.1054
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             1.159
                                          
                                          
                                             1.5984
                                          
                                          
                                             1.1054
                                          
                                          
                                             ⋯
                                          
                                          
                                             0
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             −
                                             0.41569
                                          
                                          
                                             0.41832
                                          
                                          
                                             −
                                             0.47819
                                          
                                          
                                             ⋯
                                          
                                          
                                             0
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             −
                                             1.389
                                          
                                          
                                             −
                                             0.53979
                                          
                                          
                                             −
                                             1.0454
                                          
                                          
                                             ⋯
                                          
                                          
                                             1.0454
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ⋯
                                          
                                          
                                             0.54824
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0.67011
                                          
                                          
                                             1.1941
                                          
                                          
                                             0.060784
                                          
                                          
                                             −
                                             0.67011
                                          
                                          
                                             −
                                             1.1941
                                          
                                          
                                             −
                                             0.060784
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ⋯
                                          
                                          
                                             0
                                          
                                       
                                       
                                          
                                             0.98718
                                          
                                          
                                             0.12051
                                          
                                          
                                             0.80576
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             −
                                             0.98718
                                          
                                          
                                             −
                                             0.12051
                                          
                                          
                                             −
                                             0.80576
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ⋯
                                          
                                          
                                             0
                                          
                                       
                                       
                                          
                                             1.754
                                          
                                          
                                             1.5832
                                          
                                          
                                             0.83324
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             −
                                             1.754
                                          
                                          
                                             −
                                             1.5832
                                          
                                          
                                             −
                                             0.83324
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ⋯
                                          
                                          
                                             0
                                          
                                       
                                    
                                    ]
                                 
                              
                           
                        
                     


                        
                           
                              (35)
                              
                                 
                                    [
                                    
                                       
                                          
                                             ①
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             −
                                             0.54309
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             −
                                             0.63836
                                          
                                          
                                             0
                                          
                                          
                                             −
                                             0.87313
                                          
                                          
                                             ⋯
                                          
                                          
                                             0.904
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             ①
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             1.5846
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0.74544
                                          
                                          
                                             0
                                          
                                          
                                             1.8806
                                          
                                          
                                             ⋯
                                          
                                          
                                             −
                                             1.309
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ①
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             −
                                             1.1119
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0.4288
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ⋯
                                          
                                          
                                             −
                                             1.2757
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ①
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             2.0694
                                          
                                          
                                             0
                                          
                                          
                                             4.8563
                                          
                                          
                                             ⋯
                                          
                                          
                                             −
                                             2.699
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ①
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             −
                                             1.1408
                                          
                                          
                                             0
                                          
                                          
                                             −
                                             4.7575
                                          
                                          
                                             ⋯
                                          
                                          
                                             −
                                             0.82269
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ①
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             −
                                             1.0271
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ⋯
                                          
                                          
                                             3.0168
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ①
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             −
                                             2.0841
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             −
                                             0.87694
                                          
                                          
                                             0
                                          
                                          
                                             −
                                             0.7622
                                          
                                          
                                             ⋯
                                          
                                          
                                             1.786
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ①
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             1.5431
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0.53983
                                          
                                          
                                             0
                                          
                                          
                                             0.97193
                                          
                                          
                                             ⋯
                                          
                                          
                                             −
                                             1.4089
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ①
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0.78228
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0.75185
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ⋯
                                          
                                          
                                             −
                                             2.3414
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ①
                                          
                                          
                                             0
                                          
                                          
                                             0.84097
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0.32545
                                          
                                          
                                             0
                                          
                                          
                                             0.67516
                                          
                                          
                                             ⋯
                                          
                                          
                                             −
                                             0.8287
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ①
                                          
                                          
                                             −
                                             0.0076529
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             −
                                             0.096649
                                          
                                          
                                             0
                                          
                                          
                                             0.16532
                                          
                                          
                                             ⋯
                                          
                                          
                                             −
                                             0.060778
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ①
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             −
                                             1.5895
                                          
                                          
                                             0
                                          
                                          
                                             −
                                             3.1882
                                          
                                          
                                             ⋯
                                          
                                          
                                             1.8921
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ①
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0.70222
                                          
                                          
                                             0
                                          
                                          
                                             3.9125
                                          
                                          
                                             ⋯
                                          
                                          
                                             0.50639
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ①
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             1.3099
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ⋯
                                          
                                          
                                             −
                                             3.9679
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ①
                                          
                                          
                                             0
                                          
                                          
                                             0.86343
                                          
                                          
                                             0
                                          
                                          
                                             0.66885
                                          
                                          
                                             ⋯
                                          
                                          
                                             −
                                             0.67273
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ①
                                          
                                          
                                             −
                                             0.28511
                                          
                                          
                                             0
                                          
                                          
                                             −
                                             1.7211
                                          
                                          
                                             ⋯
                                          
                                          
                                             −
                                             0.2056
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ①
                                          
                                          
                                             1.3945
                                          
                                          
                                             ⋯
                                          
                                          
                                             −
                                             0.46582
                                          
                                       
                                       
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             0
                                          
                                          
                                             ⋯
                                          
                                          
                                             0
                                          
                                       
                                    
                                    ]
                                 
                              
                           
                        
                     

@&#INTRODUCTION@&#

In Computer Aided Design (CAD), the model is the computer representation of the object being designed. This geometric model is often named the Digital Mock-Up (DMU) and is now the core of CAD systems. In this study, the geometric model is the reference model.

There are essentially two strategies for building a digital mock-up in CAD systems: the procedural approach and the declarative approach  [1]. This paper focuses on declarative approaches because they are often used in the 2D sketcher and 3D assembly workbenches of CAD systems  [2] and because the authors have already worked on them in  [3–6]. The declarative approach assumes that the designer first specifies a list of generic geometric objects and, second, a list of constraints between the objects defined previously. Then, a software application is used to solve all these constraints and build the virtual object. In order to obtain a valid object, it is necessary to ensure that all the specifications (generic objects and constraints) given by the user are consistent.

Moreover, the DMU is used in many simulations that cause the geometry to evolve due to changes made to the specifications required by the design team. It is therefore very important to maintain consistency in the statement of the problem. In general, problems that present inconsistencies are of two types: under-constrained problems and over-constrained problems. In this paper, we focus on over-constrained problems.

At present, when a designer comes across an over-constrained problem, no plans are available (at best a message is displayed on the screen). They must unravel it alone. Maintaining the consistency of the digital mock-up is even harder when several designers are involved in the design process. In this paper the authors propose to generate relations between the parameters of specifications in view to guiding users to ensure the consistency of the sets of parameters used. Therefore this paper will describe how to provide users with the elements necessary for maintaining the consistency of the geometry created. How is it possible to help designers to clearly specify their geometry? In the framework of collaboration, if a geometric problem is over-constrained, who arbitrates between the values of different specifications? This paper presents a solution for managing over-constrained geometric problems by giving users a tool for generating consistent sets of specifications.

The authors have already developed a conceptual model based on vectorizing the geometry for generic geometric objects. The associated solving strategy uses a coordinate-free representation. The major advantage of this approach is that it is unnecessary to take the cartesian reference frame into account for solving purposes. In 3D space, a geometric object is characterized by a Gram matrix that is positive semidefinite and has rank 3. Some elements of this matrix must have specific values imposed by the user, the others are unknowns. The geometric problem is solved by obtaining a Gram matrix 
                        
                           H
                        
                      that meets the above conditions. This entails a matrix completion problem  [7,8]. Indeed, in order to complete a partial matrix it is necessary to make specific choices of values for the unspecified entries.

The solution proposed by us is to find a transformation 
                        
                           T
                        
                      that changes an initial object into a final object. The 
                        
                           G
                        
                      Gram matrix characterizes the initial object. 
                        
                           H
                        
                      Gram matrix characterizes the final object and is defined by the fundamental relationship (1), as explained in greater detail in  [9]: 
                        
                           (1)
                           
                              
                                 H
                              
                              =
                              
                                 T
                              
                              
                                 G
                              
                              
                                 
                                    
                                       T
                                    
                                 
                                 
                                    t
                                 
                              
                              .
                           
                        
                      More specifically, in our study, 
                        
                           T
                        
                        =
                        
                           (
                           
                              I
                           
                           +
                           
                              C
                           
                           
                              X
                           
                           )
                        
                     , where 
                        
                           C
                        
                      is the topological connection matrix, 
                        
                           X
                        
                      the vertex perturbation matrix and 
                        
                           I
                        
                      the Identity.

The authors make use of their previous work to address the problem of consistency. The proposed methodology and tool are applied to a case study shown in Fig. 1
                     . It is a 3D bar structure called “double banana”. The lengths of the 18 bars are specified, it can be seen that this system is not rigid because each banana can rotate about the axis defined by the two end points 
                        A
                      and 
                        B
                      connecting them.

We begin in Section  2 by giving a series of tools used to describe the geometric problem. Section  3 describes the coordinate free formulation applied to this GCSP
                        2
                     
                     
                        2
                        Geometric Constraint Satisfaction Problem.
                      and presents the solving method. In Section  4, a method for analyzing whether the geometric problem is overconstrained or not, is described. Following this, if the problem is declared over-constrained, we propose a method for assisting a design team to seek a consistent set of constraints. Finally, Section  5 uses the example of the double banana to illustrate the application of this methodology.


                     
                        Remark
                        The Einstein notation or Einstein summation convention is employed in this paper. This notation implies the summation over a set of indexed terms in a formula, thus achieving notational brevity.

This section presents a non-cartesian model that characterizes geometric objects. We recall here the basics of the method as described in  [5]. The characteristic of this approach is that it is unnecessary to perform cartesian reference frame, which is a real benefit for the sketching tasks of CAD designers. The principle is that any geometry can be represented as points and vectors. These are the central elements of our modeling. In the following, we describe three models that fully describe the design geometry.

The geometry is reduced to a skeleton composed of points and line segments. An incidence matrix 
                           
                              C
                           
                        , establishes the relation between each point of an object and its edges. It is an 
                           n
                           ×
                           m
                         matrix, where 
                           n
                         and 
                           m
                         are the number of edges and vertices respectively, such that 
                           
                              
                                 C
                              
                              
                                 i
                              
                              
                                 j
                              
                           
                           =
                           −
                           1
                         if the edge 
                           
                              
                                 e
                              
                              
                                 i
                              
                           
                         leaves vertex 
                           
                              
                                 p
                              
                              
                                 j
                              
                           
                        , 1 if it enters vertex 
                           
                              
                                 p
                              
                              
                                 j
                              
                           
                         and 0 otherwise. Fig. 2
                         gives an example of an incidence matrix. Edges are oriented arbitrarily.

The geometrical object is closely related to the topological model. Indeed, a vector is associated with each edge. Therefore each vector is an oriented bipoint. Thus the geometrical model is represented by a list of vectors.

Given 
                           V
                         a set of 
                           n
                         non-normed vectors as 
                           V
                           =
                           
                              (
                              
                                 
                                    
                                       v
                                    
                                 
                                 
                                    1
                                 
                              
                              ,
                              
                                 
                                    
                                       v
                                    
                                 
                                 
                                    2
                                 
                              
                              ,
                              …
                              ,
                              
                                 
                                    
                                       v
                                    
                                 
                                 
                                    n
                                 
                              
                              )
                           
                        . The Gram matrix is the mathematical tool used to represent this vectorial model. Thus 
                           
                              G
                           
                           
                              (
                              V
                              )
                           
                         is defined by: 
                           
                              
                                 G
                              
                              
                                 i
                                 j
                              
                           
                           
                              (
                              V
                              )
                           
                           =
                           
                              〈
                              
                                 
                                    
                                       v
                                    
                                 
                                 
                                    i
                                 
                              
                              ,
                              
                                 
                                    
                                       v
                                    
                                 
                                 
                                    j
                                 
                              
                              〉
                           
                         where 
                           
                              〈
                              
                                 
                                    
                                       v
                                    
                                 
                                 
                                    i
                                 
                              
                              ,
                              
                                 
                                    
                                       v
                                    
                                 
                                 
                                    j
                                 
                              
                              〉
                           
                         is the scalar product between vectors 
                           
                              
                                 
                                    v
                                 
                              
                              
                                 i
                              
                           
                         and 
                           
                              
                                 
                                    v
                                 
                              
                              
                                 j
                              
                           
                        . This matrix is also noted 
                           
                              G
                           
                         in the following.

The Gram matrix of a set of vectors is constructed for each representation of a sketch. This Gram matrix fully defines the metrics of the object. It should be noted that this modeling is independent of the Cartesian coordinate system since all the vectors are defined in relation to one another: the vectors are not represented by their Cartesian coordinates but by their relative scalar products. An advantage of this approach is the possibility of ensuring specification consistency by verifying the mathematical properties of the Gram matrix (symmetrical, positive-semidefinite, rank, etc.). For example, by calculating specific determinants, it is possible to know whether or not there is a solution to the problem (see  [10]).

For our purpose, it is assumed that a geometric problem is defined by a skeleton, totally defined by the topological and geometrical models, and by a list of geometric constraints. In this study, we only focus on the length of the vectors, called 
                           L
                        , or the angle between two vectors called 
                           α
                        . All the specifications are stocked in 
                           
                              S
                           
                        . It is a partially filled Gram matrix.

Element 
                           
                              
                                 S
                              
                              
                                 i
                                 i
                              
                           
                         is known if the user chooses a specific length for 
                           
                              
                                 
                                    v
                                 
                              
                              
                                 i
                              
                           
                        , as presented in Eq. (2). 
                           
                              (2)
                              
                                 
                                    
                                       L
                                    
                                    
                                       i
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             S
                                          
                                          
                                             i
                                             i
                                          
                                       
                                    
                                 
                                 .
                              
                           
                        
                     

Element 
                           
                              
                                 S
                              
                              
                                 i
                                 j
                              
                           
                         is defined if the user specifies the angle between 
                           
                              
                                 
                                    v
                                 
                              
                              
                                 i
                              
                           
                         and 
                           
                              
                                 
                                    v
                                 
                              
                              
                                 j
                              
                           
                        . Thus, 
                           
                              (3)
                              
                                 cos
                                 
                                    (
                                    
                                       
                                          α
                                       
                                       
                                          i
                                          j
                                       
                                    
                                    )
                                 
                                 =
                                 
                                    
                                       
                                          
                                             S
                                          
                                          
                                             i
                                             j
                                          
                                       
                                    
                                    
                                       
                                          
                                             
                                                
                                                   S
                                                
                                                
                                                   i
                                                   i
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                                
                                                   S
                                                
                                                
                                                   j
                                                   j
                                                
                                             
                                          
                                       
                                    
                                 
                                 .
                              
                           
                        
                     

These three models fully characterize the GCSP.

The previous section presented the geometric model based on a vectorial representation of the geometric entities and constraints. We now present the approach developed, based on the transformation of the initial geometry and using a perturbation matrix (see Eq. (1)). This method is particularly appropriate for CAD as the users always start by “drawing” an initial shape that is gradually modified to obtain the desired object.

To illustrate this method, let us take the trivial object presented in Fig. 3
                        . For example, 
                           
                              
                                 
                                    v
                                 
                              
                              
                                 1
                              
                           
                         has 
                           
                              
                                 p
                              
                              
                                 1
                              
                           
                         as origin and 
                           
                              
                                 p
                              
                              
                                 4
                              
                           
                         as end vertex. The 
                           
                              G
                           
                           
                              (
                              V
                              )
                           
                         matrix defines the initial object whereas 
                           
                              G
                           
                           
                              (
                              
                                 
                                    V
                                 
                                 
                                    ′
                                 
                              
                              )
                           
                         characterizes the final object. As the 
                           
                              C
                           
                         incidence matrix forms the relation between each point of the object and vectors, we express the edge relation for the initial object in (4). 
                           
                              (4)
                              
                                 
                                    
                                       
                                          v
                                       
                                    
                                    
                                       i
                                    
                                 
                                 =
                                 
                                    
                                       C
                                    
                                    
                                       i
                                    
                                    
                                       j
                                    
                                 
                                 
                                    
                                       
                                          p
                                       
                                    
                                    
                                       j
                                    
                                 
                                 .
                              
                           
                         The edge relation for the final object is found in (5). 
                           
                              (5)
                              
                                 
                                    
                                       
                                          v
                                       
                                    
                                    
                                       i
                                    
                                    
                                       ′
                                    
                                 
                                 =
                                 
                                    
                                       C
                                    
                                    
                                       i
                                    
                                    
                                       j
                                    
                                 
                                 
                                    
                                       
                                          p
                                       
                                    
                                    
                                       j
                                    
                                    
                                       ′
                                    
                                 
                                 .
                              
                           
                         It should be noted that the two objects are represented by the same connection matrix 
                           
                              C
                           
                         because the topology is invariant during the transformation, The variation 
                           
                              
                                 
                                    p
                                 
                              
                              
                                 i
                              
                              
                                 ′
                              
                           
                           −
                           
                              
                                 
                                    p
                                 
                              
                              
                                 i
                              
                           
                         corresponds to the vertex displacement. Here 
                           
                              
                                 
                                    p
                                 
                              
                              
                                 i
                              
                           
                         and 
                           
                              
                                 
                                    p
                                 
                              
                              
                                 i
                              
                              
                                 ′
                              
                           
                         are vectors which are the positions of the vertex 
                           i
                         before and after transformation. If 
                           V
                         is a set of vectors and 
                           
                              
                                 V
                              
                              
                                 ′
                              
                           
                         a set of vectors obtained after a transformation from an initial state to a final one, we express the relation between these two states. We define the vertex variation by (6): 
                           
                              (6)
                              
                                 
                                    
                                       
                                          p
                                       
                                    
                                    
                                       i
                                    
                                    
                                       ′
                                    
                                 
                                 −
                                 
                                    
                                       
                                          p
                                       
                                    
                                    
                                       i
                                    
                                 
                                 =
                                 
                                    
                                       X
                                    
                                    
                                       i
                                    
                                    
                                       j
                                    
                                 
                                 
                                    
                                       
                                          v
                                       
                                    
                                    
                                       j
                                    
                                 
                                 .
                              
                           
                        
                        
                           
                              
                                 X
                              
                              
                                 i
                              
                              
                                 j
                              
                           
                         are elements of matrix 
                           
                              X
                           
                        , which is called the perturbation matrix from the initial state of the geometry to the final one. It is an 
                           n
                           ×
                           m
                         matrix. The last three Eqs. (4)–(6), make it possible to obtain the relation between the initial vectors and the final one in (9) using formulas (7) and (8). Here, 
                           
                              
                                 δ
                              
                              
                                 i
                              
                              
                                 k
                              
                           
                         represents the Kronecker symbol which equals 1 if 
                           i
                           =
                           k
                         and, 0 otherwise. 
                           
                              
                                 (7)
                                 
                                    
                                       
                                          
                                             v
                                          
                                       
                                       
                                          i
                                       
                                       
                                          ′
                                       
                                    
                                    =
                                    
                                       
                                          C
                                       
                                       
                                          i
                                       
                                       
                                          j
                                       
                                    
                                    
                                       (
                                       
                                          
                                             X
                                          
                                          
                                             j
                                          
                                          
                                             k
                                          
                                       
                                       
                                          
                                             
                                                v
                                             
                                          
                                          
                                             k
                                          
                                       
                                       +
                                       
                                          
                                             
                                                p
                                             
                                          
                                          
                                             j
                                          
                                       
                                       )
                                    
                                 
                              
                              
                                 (8)
                                 
                                    
                                       
                                          
                                             v
                                          
                                       
                                       
                                          i
                                       
                                       
                                          ′
                                       
                                    
                                    =
                                    
                                       
                                          
                                             v
                                          
                                       
                                       
                                          i
                                       
                                    
                                    +
                                    
                                       
                                          C
                                       
                                       
                                          i
                                       
                                       
                                          j
                                       
                                    
                                    
                                       
                                          X
                                       
                                       
                                          j
                                       
                                       
                                          k
                                       
                                    
                                    
                                       
                                          
                                             v
                                          
                                       
                                       
                                          k
                                       
                                    
                                 
                              
                              
                                 (9)
                                 
                                    
                                       
                                          
                                             v
                                          
                                       
                                       
                                          i
                                       
                                       
                                          ′
                                       
                                    
                                    =
                                    
                                       (
                                       
                                          
                                             δ
                                          
                                          
                                             i
                                          
                                          
                                             k
                                          
                                       
                                       +
                                       
                                          
                                             C
                                          
                                          
                                             i
                                          
                                          
                                             j
                                          
                                       
                                       
                                          
                                             X
                                          
                                          
                                             j
                                          
                                          
                                             k
                                          
                                       
                                       )
                                    
                                    
                                       
                                          
                                             v
                                          
                                       
                                       
                                          k
                                       
                                    
                                    .
                                 
                              
                           
                         The aim is to obtain the transformation of an object from its initial shape to its final one. The Gram matrix 
                           
                              H
                           
                           =
                           
                              G
                           
                           
                              (
                              
                                 
                                    V
                                 
                                 
                                    ′
                                 
                              
                              )
                           
                         characterizes the final object. Indeed, 
                           
                              
                                 (10)
                                 
                                    
                                       
                                          H
                                       
                                       
                                          i
                                          j
                                       
                                    
                                    =
                                    
                                       〈
                                       
                                          
                                             
                                                v
                                             
                                          
                                          
                                             i
                                          
                                          
                                             ′
                                          
                                       
                                       ,
                                       
                                          
                                             
                                                v
                                             
                                          
                                          
                                             j
                                          
                                          
                                             ′
                                          
                                       
                                       〉
                                    
                                 
                              
                              
                                 (11)
                                 
                                    
                                       
                                          H
                                       
                                       
                                          i
                                          j
                                       
                                    
                                    =
                                    
                                       〈
                                       
                                          (
                                          
                                             
                                                δ
                                             
                                             
                                                i
                                             
                                             
                                                p
                                             
                                          
                                          +
                                          
                                             
                                                C
                                             
                                             
                                                i
                                             
                                             
                                                k
                                             
                                          
                                          
                                             
                                                X
                                             
                                             
                                                k
                                             
                                             
                                                p
                                             
                                          
                                          )
                                       
                                       
                                          
                                             
                                                v
                                             
                                          
                                          
                                             p
                                          
                                       
                                       ,
                                       
                                          (
                                          
                                             
                                                δ
                                             
                                             
                                                j
                                             
                                             
                                                q
                                             
                                          
                                          +
                                          
                                             
                                                C
                                             
                                             
                                                j
                                             
                                             
                                                k
                                             
                                          
                                          
                                             
                                                X
                                             
                                             
                                                k
                                             
                                             
                                                q
                                             
                                          
                                          )
                                       
                                       
                                          
                                             
                                                v
                                             
                                          
                                          
                                             q
                                          
                                       
                                       〉
                                    
                                 
                              
                              
                                 (12)
                                 
                                    
                                       
                                          H
                                       
                                       
                                          i
                                          j
                                       
                                    
                                    =
                                    
                                       (
                                       
                                          
                                             δ
                                          
                                          
                                             i
                                          
                                          
                                             p
                                          
                                       
                                       +
                                       
                                          
                                             C
                                          
                                          
                                             i
                                          
                                          
                                             k
                                          
                                       
                                       
                                          
                                             X
                                          
                                          
                                             k
                                          
                                          
                                             p
                                          
                                       
                                       )
                                    
                                    
                                       (
                                       
                                          
                                             δ
                                          
                                          
                                             j
                                          
                                          
                                             q
                                          
                                       
                                       +
                                       
                                          
                                             C
                                          
                                          
                                             j
                                          
                                          
                                             k
                                          
                                       
                                       
                                          
                                             X
                                          
                                          
                                             k
                                          
                                          
                                             q
                                          
                                       
                                       )
                                    
                                    
                                       〈
                                       
                                          
                                             
                                                v
                                             
                                          
                                          
                                             p
                                          
                                       
                                       ,
                                       
                                          
                                             
                                                v
                                             
                                          
                                          
                                             q
                                          
                                       
                                       〉
                                    
                                 
                              
                              
                                 (13)
                                 
                                    
                                       
                                          H
                                       
                                       
                                          i
                                          j
                                       
                                    
                                    =
                                    
                                       (
                                       
                                          
                                             δ
                                          
                                          
                                             i
                                          
                                          
                                             p
                                          
                                       
                                       +
                                       
                                          
                                             C
                                          
                                          
                                             i
                                          
                                          
                                             k
                                          
                                       
                                       
                                          
                                             X
                                          
                                          
                                             k
                                          
                                          
                                             p
                                          
                                       
                                       )
                                    
                                    
                                       (
                                       
                                          
                                             δ
                                          
                                          
                                             j
                                          
                                          
                                             q
                                          
                                       
                                       +
                                       
                                          
                                             C
                                          
                                          
                                             j
                                          
                                          
                                             k
                                          
                                       
                                       
                                          
                                             X
                                          
                                          
                                             k
                                          
                                          
                                             q
                                          
                                       
                                       )
                                    
                                    
                                       
                                          G
                                       
                                       
                                          p
                                          q
                                       
                                    
                                    .
                                 
                              
                           
                         This expression written in matrix form is: 
                           
                              (14)
                              
                                 
                                    H
                                 
                                 =
                                 
                                    (
                                    
                                       I
                                    
                                    +
                                    
                                       CX
                                    
                                    )
                                 
                                 
                                    G
                                 
                                 
                                    
                                       
                                          (
                                          
                                             I
                                          
                                          +
                                          
                                             CX
                                          
                                          )
                                       
                                    
                                    
                                       t
                                    
                                 
                                 .
                              
                           
                         Note 
                           
                              T
                           
                         the vectorial transformation 
                           
                              I
                           
                           +
                           
                              CX
                           
                        . Due to the rank property: 
                           
                              rank
                           
                           
                              (
                              
                                 H
                              
                              )
                           
                           ≤
                           min
                           
                              (
                              
                                 rank
                              
                              
                                 (
                                 
                                    T
                                 
                                 )
                              
                              ,
                              
                                 rank
                              
                              
                                 (
                                 
                                    G
                                 
                                 )
                              
                              )
                           
                           
                           
                              H
                           
                         is a matrix of rank 
                           r
                        . Formula (14) above represents the variation of the geometric object. The elements of the perturbation matrix 
                           
                              X
                           
                         are the unknowns of the problem. So far, the Gram matrix 
                           
                              G
                           
                         has only been used to characterize the position and orientation of all the vectors of the initial sketch. Numerically, this matrix is totally known.

The geometric constraints specified by the user lead to a set of equations that are presented in the following section. Here we itemize only two types of specifications (useful as examples) but many other specifications have been developed by the authors. The reader may refer to [5,11] for more details.

By definition, an element of diagonal matrix 
                              
                                 
                                    G
                                 
                                 
                                    i
                                    i
                                 
                              
                            (
                              
                                 
                                    H
                                 
                                 
                                    i
                                    i
                                 
                              
                            for the final one) represents the squared length of an initial vector (final resp.). The length specification of vector 
                              
                                 
                                    
                                       v
                                    
                                 
                                 
                                    i
                                 
                              
                            imposed by the designer is denoted 
                              
                                 
                                    L
                                 
                                 
                                    i
                                 
                              
                           . Thus: 
                              
                                 (15)
                                 
                                    
                                       
                                          
                                             
                                                H
                                             
                                             
                                                i
                                                i
                                             
                                          
                                       
                                    
                                    =
                                    
                                       
                                          L
                                       
                                       
                                          i
                                       
                                    
                                    .
                                 
                              
                            Given that each final matrix element is expressed as Eq. (13), and by developing this latter expression to the 1st order, we obtain (16): 
                              
                                 (16)
                                 
                                    
                                       
                                          H
                                       
                                       
                                          i
                                          j
                                       
                                    
                                    ≅
                                    
                                       
                                          G
                                       
                                       
                                          i
                                          j
                                       
                                    
                                    +
                                    
                                       (
                                       
                                          
                                             C
                                          
                                          
                                             i
                                          
                                          
                                             k
                                          
                                       
                                       
                                          
                                             X
                                          
                                          
                                             k
                                          
                                          
                                             p
                                          
                                       
                                       )
                                    
                                    
                                       
                                          G
                                       
                                       
                                          p
                                          j
                                       
                                    
                                    +
                                    
                                       
                                          G
                                       
                                       
                                          i
                                          p
                                       
                                    
                                    
                                       (
                                       
                                          
                                             C
                                          
                                          
                                             j
                                          
                                          
                                             k
                                          
                                       
                                       
                                          
                                             X
                                          
                                          
                                             k
                                          
                                          
                                             p
                                          
                                       
                                       )
                                    
                                    .
                                 
                              
                            In particular, for the formula of the diagonal elements (17) can be used. 
                              
                                 (17)
                                 
                                    
                                       
                                          H
                                       
                                       
                                          i
                                          i
                                       
                                    
                                    ≅
                                    
                                       
                                          G
                                       
                                       
                                          i
                                          i
                                       
                                    
                                    +
                                    2
                                    
                                       (
                                       
                                          
                                             C
                                          
                                          
                                             i
                                          
                                          
                                             k
                                          
                                       
                                       
                                          
                                             X
                                          
                                          
                                             k
                                          
                                          
                                             p
                                          
                                       
                                       )
                                    
                                    
                                       
                                          G
                                       
                                       
                                          p
                                          i
                                       
                                    
                                    .
                                 
                              
                            And by developing Eq. (15), it becomes Eq. (18). This equation is a set of linear equations in the unknowns 
                              
                                 
                                    X
                                 
                                 
                                    k
                                 
                                 
                                    p
                                 
                              
                           . 
                              
                                 (18)
                                 
                                    
                                       
                                          1
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      G
                                                   
                                                   
                                                      i
                                                      i
                                                   
                                                
                                             
                                          
                                       
                                    
                                    
                                       (
                                       
                                          
                                             C
                                          
                                          
                                             i
                                          
                                          
                                             k
                                          
                                       
                                       
                                          
                                             X
                                          
                                          
                                             k
                                          
                                          
                                             p
                                          
                                       
                                       )
                                    
                                    
                                       
                                          G
                                       
                                       
                                          p
                                          i
                                       
                                    
                                    ≅
                                    
                                       
                                          L
                                       
                                       
                                          i
                                       
                                    
                                    −
                                    
                                       
                                          
                                             
                                                G
                                             
                                             
                                                i
                                                i
                                             
                                          
                                       
                                    
                                    .
                                 
                              
                            Terms 
                              
                                 
                                    L
                                 
                                 
                                    i
                                 
                              
                              ,
                              
                                 
                                    G
                                 
                                 
                                    p
                                    i
                                 
                              
                              ,
                              
                                 
                                    C
                                 
                                 
                                    i
                                 
                                 
                                    k
                                 
                              
                            and 
                              
                                 
                                    G
                                 
                                 
                                    i
                                    i
                                 
                              
                            are known. The unknowns of this equation are elements of 
                              
                                 X
                              
                           .

By definition, element 
                              
                                 
                                    G
                                 
                                 
                                    i
                                    j
                                 
                              
                            represents the scalar product between vectors 
                              
                                 
                                    
                                       v
                                    
                                 
                                 
                                    i
                                 
                              
                            and 
                              
                                 
                                    
                                       v
                                    
                                 
                                 
                                    j
                                 
                              
                           . The designer requires the cosine of the angle between vector 
                              
                                 
                                    
                                       v
                                    
                                 
                                 
                                    i
                                 
                              
                            and 
                              
                                 
                                    
                                       v
                                    
                                 
                                 
                                    j
                                 
                              
                            to satisfy specification 
                              
                                 
                                    α
                                 
                                 
                                    i
                                    j
                                 
                              
                           , resulting in the Eq. (19) below: 
                              
                                 (19)
                                 
                                    
                                       
                                          H
                                       
                                       
                                          i
                                          j
                                       
                                    
                                    =
                                    
                                       
                                          
                                             
                                                H
                                             
                                             
                                                i
                                                i
                                             
                                          
                                       
                                    
                                    
                                       
                                          
                                             
                                                H
                                             
                                             
                                                j
                                                j
                                             
                                          
                                       
                                    
                                    cos
                                    
                                       
                                          α
                                       
                                       
                                          i
                                          j
                                       
                                    
                                    .
                                 
                              
                            Rewriting Eq. (19) to move all the terms of 
                              
                                 H
                              
                            to the left of the equal sign gives: 
                              
                                 (20)
                                 
                                    
                                       
                                          H
                                       
                                       
                                          i
                                          j
                                       
                                    
                                    
                                       
                                          
                                             (
                                             
                                                
                                                   H
                                                
                                                
                                                   i
                                                   i
                                                
                                             
                                             )
                                          
                                       
                                       
                                          −
                                          1
                                          /
                                          2
                                       
                                    
                                    
                                       
                                          
                                             (
                                             
                                                
                                                   H
                                                
                                                
                                                   j
                                                   j
                                                
                                             
                                             )
                                          
                                       
                                       
                                          −
                                          1
                                          /
                                          2
                                       
                                    
                                    =
                                    cos
                                    
                                       
                                          α
                                       
                                       
                                          i
                                          j
                                       
                                    
                                    .
                                 
                              
                            By developing 
                              
                                 
                                    H
                                 
                                 
                                    i
                                    j
                                 
                              
                              ,
                              
                                 
                                    H
                                 
                                 
                                    i
                                    i
                                 
                              
                            and 
                              
                                 
                                    H
                                 
                                 
                                    j
                                    j
                                 
                              
                            using Eq. (16) and by linearization to the 1st order, the expression of an angular specification is expressed as follows: 
                              
                                 (21)
                                 
                                    
                                       (
                                       
                                          
                                             G
                                          
                                          
                                             i
                                             p
                                          
                                       
                                       −
                                       
                                          
                                             
                                                
                                                   G
                                                
                                                
                                                   i
                                                   j
                                                
                                             
                                          
                                          
                                             
                                                
                                                   G
                                                
                                                
                                                   j
                                                   j
                                                
                                             
                                          
                                       
                                       
                                          
                                             G
                                          
                                          
                                             p
                                             j
                                          
                                       
                                       )
                                    
                                    
                                       
                                          C
                                       
                                       
                                          j
                                       
                                       
                                          k
                                       
                                    
                                    
                                       
                                          X
                                       
                                       
                                          k
                                       
                                       
                                          p
                                       
                                    
                                    +
                                    
                                       (
                                       
                                          
                                             G
                                          
                                          
                                             p
                                             j
                                          
                                       
                                       −
                                       
                                          
                                             
                                                
                                                   G
                                                
                                                
                                                   i
                                                   j
                                                
                                             
                                          
                                          
                                             
                                                
                                                   G
                                                
                                                
                                                   i
                                                   i
                                                
                                             
                                          
                                       
                                       
                                          
                                             G
                                          
                                          
                                             p
                                             i
                                          
                                       
                                       )
                                    
                                    
                                       
                                          C
                                       
                                       
                                          i
                                       
                                       
                                          k
                                       
                                    
                                    
                                       
                                          X
                                       
                                       
                                          k
                                       
                                       
                                          p
                                       
                                    
                                    ≅
                                    
                                       
                                          
                                             
                                                G
                                             
                                             
                                                i
                                                i
                                             
                                          
                                       
                                    
                                    
                                       
                                          
                                             
                                                G
                                             
                                             
                                                j
                                                j
                                             
                                          
                                       
                                    
                                    cos
                                    
                                       
                                          α
                                       
                                       
                                          i
                                          j
                                       
                                    
                                    −
                                    
                                       
                                          G
                                       
                                       
                                          i
                                          j
                                       
                                    
                                    .
                                 
                              
                            Terms 
                              
                                 
                                    G
                                 
                                 
                                    i
                                    p
                                 
                              
                              ,
                              
                                 
                                    G
                                 
                                 
                                    p
                                    j
                                 
                              
                              ,
                              
                                 
                                    G
                                 
                                 
                                    i
                                    i
                                 
                              
                              ,
                              
                                 
                                    G
                                 
                                 
                                    i
                                    j
                                 
                              
                              ,
                              
                                 
                                    G
                                 
                                 
                                    j
                                    j
                                 
                              
                              ,
                              
                                 
                                    C
                                 
                                 
                                    j
                                 
                                 
                                    k
                                 
                              
                              ,
                              
                                 
                                    C
                                 
                                 
                                    i
                                 
                                 
                                    k
                                 
                              
                            and 
                              cos
                              
                                 (
                                 
                                    
                                       α
                                    
                                    
                                       i
                                       j
                                    
                                 
                                 )
                              
                            are known. The unknowns are elements of 
                              
                                 X
                              
                           . Eq. (21) is a set of linear equations in the unknowns 
                              
                                 
                                    X
                                 
                                 
                                    k
                                 
                                 
                                    p
                                 
                              
                           .

In this section, we do not attempt to describe in detail the method used to solve the equations for the isoconstrained problem. This study was carried out by Moinet in  [11] for a different set of equations but it remains well-adapted to the problem presented in this paper. The geometrical solver developed with Matlab®  computes the 
                           
                              X
                           
                         perturbation matrix of Eq. (14) in order to obtain an object that conforms to the specifications given by the designers. The system to be solved consists of non-linear relations (15) and (19). The known terms are the elements of the initial Gram matrix 
                           
                              G
                           
                        , line–line angle specifications 
                           
                              
                                 α
                              
                              
                                 i
                                 j
                              
                           
                        , and length specifications 
                           
                              
                                 L
                              
                              
                                 i
                              
                           
                        . For solving purposes, the equations generated by the above mentioned solver are linearized to the 1st order. Then it is necessary to find the elements of perturbation matrix 
                           
                              
                                 X
                              
                              
                                 i
                                 j
                              
                           
                         to solve the problem. The most frequently used method to solve this kind of system, 
                           F
                           
                              (
                              X
                              )
                           
                           =
                           0
                        , is the Newton–Raphson method. However, the algorithm implemented is a variation of the Newton–Raphson method that has been described in  [5]. Then Eqs. (18) and (21), as presented in the previous paragraph, can be rewritten and stored in the linear form presented in (22).
                           
                              (22)
                              
                                 
                                    A
                                 
                                 
                                    x
                                 
                                 =
                                 
                                    b
                                 
                                 .
                              
                           
                         In this equation, all the unknown elements from matrix 
                           
                              X
                           
                         are stored in the column vector noted 
                           
                              x
                           
                        . The elements of matrix 
                           
                              A
                           
                         and the second member 
                           
                              b
                           
                         (a column vector) are computed from 
                           
                              S
                           
                           ,
                           
                              G
                           
                         and 
                           
                              C
                           
                        . Note that there are as many elements in 
                           
                              b
                           
                         as the number of specifications given by the user. Indeed, these elements are extracted from matrix 
                           
                              S
                           
                           −
                           
                              
                                 
                                    G
                                 
                              
                              
                                 
                                    (
                                    i
                                    )
                                 
                              
                           
                         at each step 
                           i
                        . In this case, 
                           
                              S
                           
                         is the specification given by the designer, whereas 
                           
                              
                                 
                                    G
                                 
                              
                              
                                 
                                    (
                                    i
                                    )
                                 
                              
                           
                         is the Gram matrix at step 
                           i
                        . The initial value, 
                           
                              
                                 
                                    G
                                 
                              
                              
                                 
                                    (
                                    0
                                    )
                                 
                              
                           
                           =
                           
                              G
                           
                        , is given by the measure of the geometric parameter in the initial sketch. Then, the solving method can be summed up as in Algorithm 1: 
                           
                              
                           
                        
                     

This algorithm converges if the GCSP is underconstrained, isoconstrained or overconstrained with consistent specifications. Therefore in the next section the authors present a method that always ensures consistency of the GCSP.

An application of this algorithm is presented in Section  5.

When, for generic values of the GCSP, the number of solutions is finite and nonzero (resp. zero, infinity), the problem is said to be well- (resp. over-, under-) constrained.

Here, we only focus on the overconstrained problem and propose using the witness method of Michelucci et al.  [12–14] to perform the problem analysis. The first part of this section will briefly introduce Michelucci’s witness method. In the second part, we explain how to generate a useful witness using a coordinate free formulation for the geometric constraint solving problem. Then, the third part introduces the proposed method to analyze the chosen witness using the Rouché–Fontené theorem. The fourth part proposes a method to handle over-constrained problems.

Michelucci’s witness method proposes studying the generic properties of a collection of objects by studying one of them that is called a “witness”. Up to now this method has always been used in the context of constraints formulated in a Cartesian framework. In addition, the literature states that if there is a sketch with the same properties as the solution sought (coincidence, collinearity, coplanarity, etc.) then this is generally a witness. In the framework of this research, it is always assumed that the user has drawn such a sketch to describe a problem of geometrical constraints. This is why this method seems well-adapted to this task. It should be noted that the witness method has never been applied with non-Cartesian formulations. The authors therefore felt it pertinent to demonstrate that this method can be applied in this case.

Sometimes the sketch proposed by a designer is not totally representative of the shape of the desired solution. This occurs when certain geometric elements are drawn with specific properties (collinearity, coplanarities, etc.) without representing a real constraint. In this case the sketch cannot be used as a witness. This situation occurs when the sketch is not generic. A sketch is considered generic when it remains rigid before and after an infinitesimal perturbation. Likewise if the sketch was not rigid before the perturbation and continues not being rigid after it. Details on rigidity and generic frameworks can be found in  [15]. This situation is illustrated in Fig. 4
                        . The rigid sketch (Fig. 4(a)) is not generic: a small perturbation on the dimensions of the bars will result in a non rigid sketch like that shown in Fig. 4(b). On the other hand the sketch in Fig. 4(b) is generic: if a small perturbation is introduced in the dimension of this sketch, it will remain non rigid. Usually, non generic sketches are constituted with line segments that are aligned as presented in Fig. 4(a). In the representation chosen (based on Gram matrix) for this paper, the vectors representing these line segments are collinear or coplanar. The collinearity of the vectors will lead to an artificial redundancy between the constraints associated with the collinear vectors. Consequently, before using the witness method with a coordinate free formulation of the GCSP, it is necessary to ensure that the sketch used as witness is generic. In order to ensure that the sketch is generic, the authors have used a naive technique that consists of the algorithm presented in Fig. 5
                        . This algorithm has four steps: 
                           
                              1.
                              The system of equations modeling the GCSP is based on the user’s sketch. The rank of this system is calculated.

The starting point is a random perturbation of the sketch. Then a second linearized system is generated and its rank calculated.

If the rank of the second system is higher than that of the first, the first sketch is replaced by the second and the second step is reiterated.

Otherwise the first sketch is considered generic.

Once the witness has been generated, it can be analyzed. In the second case of an over-constrained problem, the purpose of this analysis is to determine which constraints are redundant. Overconstrained problems that are locally underconstrained do not disturb the proposed methodology of this article. For example, system (23) holds this characteristic. Furthermore, the analysis proposed by the authors also permits determining, for each redundant constraint, the relation that links this constraint to those that are independent. The main steps of the method proposed are presented in Fig. 6
                        . In this paragraph we assume that the system of equations is written in linear form: 
                           
                              A
                           
                           
                              x
                           
                           =
                           
                              b
                           
                         (cf. Section  3.3). It should be noted that matrix 
                           
                              A
                           
                         has the dimension 
                           d
                           ×
                           n
                           m
                        . We also assume that this system is composed of 
                           r
                         independent constraints (the matrix 
                           
                              A
                           
                         has rank 
                           r
                        ). As the GCSP is overconstrained, it is additionally assumed that 
                           d
                           >
                           r
                         and 
                           n
                           m
                           ≥
                           r
                        .

To find the redundant constraints, the authors propose using the Gauss elimination method  [17] to obtain a triangular form of the matrix 
                              
                                 A
                              
                           . This triangular form is used to identify the redundant constraints by searching the lines that contain only 0. These redundant constraints are withdrawn from the problem. The independent specifications are stored in 
                              
                                 
                                    
                                       S
                                    
                                 
                                 
                                    ̃
                                 
                              
                           , a partially filled Gram matrix. Comment: if a column of the matrix does not contain an elimination value, this means that the value of the unknown associated with this column can be fixed freely.
                              
                                 (23)
                                 
                                    
                                       {
                                       
                                          
                                             
                                                
                                                   
                                                      x
                                                   
                                                   
                                                      1
                                                   
                                                
                                                +
                                                
                                                   
                                                      x
                                                   
                                                   
                                                      4
                                                   
                                                
                                                =
                                                
                                                   
                                                      b
                                                   
                                                   
                                                      1
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      x
                                                   
                                                   
                                                      2
                                                   
                                                
                                                +
                                                
                                                   
                                                      x
                                                   
                                                   
                                                      4
                                                   
                                                
                                                =
                                                
                                                   
                                                      b
                                                   
                                                   
                                                      2
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      x
                                                   
                                                   
                                                      3
                                                   
                                                
                                                +
                                                
                                                   
                                                      x
                                                   
                                                   
                                                      4
                                                   
                                                
                                                =
                                                
                                                   
                                                      b
                                                   
                                                   
                                                      3
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      x
                                                   
                                                   
                                                      1
                                                   
                                                
                                                +
                                                
                                                   
                                                      x
                                                   
                                                   
                                                      2
                                                   
                                                
                                                +
                                                2
                                                
                                                   
                                                      x
                                                   
                                                   
                                                      4
                                                   
                                                
                                                =
                                                
                                                   
                                                      b
                                                   
                                                   
                                                      4
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      x
                                                   
                                                   
                                                      2
                                                   
                                                
                                                +
                                                
                                                   
                                                      x
                                                   
                                                   
                                                      3
                                                   
                                                
                                                +
                                                2
                                                
                                                   
                                                      x
                                                   
                                                   
                                                      4
                                                   
                                                
                                                =
                                                
                                                   
                                                      b
                                                   
                                                   
                                                      5
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      x
                                                   
                                                   
                                                      5
                                                   
                                                
                                                =
                                                
                                                   
                                                      b
                                                   
                                                   
                                                      6
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      x
                                                   
                                                   
                                                      6
                                                   
                                                
                                                =
                                                
                                                   
                                                      b
                                                   
                                                   
                                                      7
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      x
                                                   
                                                   
                                                      5
                                                   
                                                
                                                +
                                                
                                                   
                                                      x
                                                   
                                                   
                                                      6
                                                   
                                                
                                                =
                                                
                                                   
                                                      b
                                                   
                                                   
                                                      8
                                                   
                                                
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                            For example, the system (23) can be represented by the matrix shown in Fig. 7
                           (a). This matrix can be given a triangular form in Fig. 7(c) by using the circled values and by performing the sequence of operations indicated in Fig. 7(b) on its lines: Using this example, we can conclude that Eqs. (4), (5) and (8) are redundant. We can also conclude that the 4th unknown can be chosen freely since the fourth column of the matrix (Fig. 7(c)) does not contain a Gauss value.

If the system 
                              
                                 A
                              
                              
                                 x
                              
                              =
                              
                                 b
                              
                            is over-constrained the Rouché–Fontené theorem  [17,18] indicates that for a solution to exist, the second member 
                              
                                 b
                              
                            must conform to 
                              d
                              −
                              r
                            conditions. In the following, these conditions will be called equations of compatibility. It is always possible to rewrite the system without loss of generality so that the first 
                              r
                            lines and the first 
                              r
                            columns are independent. This amounts, on the one hand, to writing the redundant constraints on the last lines, and on the other hand, to rewriting the unknowns that can be fixed freely at the end (which corresponds to the last columns of the matrix). Thus the system 
                              
                                 A
                              
                              
                                 x
                              
                              =
                              
                                 b
                              
                            will take the form presented in Eq. (26). Then, the expression of each compatibility equation is given by 
                              
                                 
                                    h
                                 
                                 
                                    q
                                 
                              
                              =
                              0
                           . The expression of 
                              
                                 
                                    h
                                 
                                 
                                    q
                                 
                              
                            is given in Eq. (27) with 
                              q
                              ∈
                              
                                 {
                                 1
                                 ,
                                 …
                                 ,
                                 d
                                 −
                                 r
                                 }
                              
                           . 
                              
                                 
                                    (26)
                                    
                                       
                                          [
                                          
                                             
                                                
                                                   
                                                      
                                                         A
                                                      
                                                      
                                                         1
                                                      
                                                      
                                                         1
                                                      
                                                   
                                                
                                                
                                                   ⋯
                                                
                                                
                                                   
                                                      
                                                         A
                                                      
                                                      
                                                         1
                                                      
                                                      
                                                         r
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         A
                                                      
                                                      
                                                         1
                                                      
                                                      
                                                         r
                                                         +
                                                         1
                                                      
                                                   
                                                
                                                
                                                   ⋯
                                                
                                                
                                                   
                                                      
                                                         A
                                                      
                                                      
                                                         1
                                                      
                                                      
                                                         n
                                                         m
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   ⋮
                                                
                                                
                                                   ⋱
                                                
                                                
                                                   ⋮
                                                
                                                
                                                   ⋮
                                                
                                                
                                                   ⋱
                                                
                                                
                                                   ⋮
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         A
                                                      
                                                      
                                                         r
                                                      
                                                      
                                                         1
                                                      
                                                   
                                                
                                                
                                                   ⋯
                                                
                                                
                                                   
                                                      
                                                         A
                                                      
                                                      
                                                         r
                                                      
                                                      
                                                         r
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         A
                                                      
                                                      
                                                         r
                                                      
                                                      
                                                         r
                                                         +
                                                         1
                                                      
                                                   
                                                
                                                
                                                   ⋯
                                                
                                                
                                                   
                                                      
                                                         A
                                                      
                                                      
                                                         r
                                                      
                                                      
                                                         n
                                                         m
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         A
                                                      
                                                      
                                                         r
                                                         +
                                                         1
                                                      
                                                      
                                                         1
                                                      
                                                   
                                                
                                                
                                                   ⋯
                                                
                                                
                                                   
                                                      
                                                         A
                                                      
                                                      
                                                         r
                                                         +
                                                         1
                                                      
                                                      
                                                         r
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         A
                                                      
                                                      
                                                         r
                                                         +
                                                         1
                                                      
                                                      
                                                         r
                                                         +
                                                         1
                                                      
                                                   
                                                
                                                
                                                   ⋯
                                                
                                                
                                                   
                                                      
                                                         A
                                                      
                                                      
                                                         r
                                                         +
                                                         1
                                                      
                                                      
                                                         n
                                                         m
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   ⋮
                                                
                                                
                                                   ⋱
                                                
                                                
                                                   ⋮
                                                
                                                
                                                   ⋮
                                                
                                                
                                                   ⋱
                                                
                                                
                                                   ⋮
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         A
                                                      
                                                      
                                                         d
                                                      
                                                      
                                                         1
                                                      
                                                   
                                                
                                                
                                                   ⋯
                                                
                                                
                                                   
                                                      
                                                         A
                                                      
                                                      
                                                         d
                                                      
                                                      
                                                         r
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         A
                                                      
                                                      
                                                         d
                                                      
                                                      
                                                         r
                                                         +
                                                         1
                                                      
                                                   
                                                
                                                
                                                   ⋯
                                                
                                                
                                                   
                                                      
                                                         A
                                                      
                                                      
                                                         d
                                                      
                                                      
                                                         n
                                                         m
                                                      
                                                   
                                                
                                             
                                          
                                          ]
                                       
                                       ×
                                       
                                          [
                                          
                                             
                                                
                                                   
                                                      
                                                         x
                                                      
                                                      
                                                         1
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   ⋮
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         x
                                                      
                                                      
                                                         r
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         x
                                                      
                                                      
                                                         r
                                                         +
                                                         1
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   ⋮
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         x
                                                      
                                                      
                                                         n
                                                         m
                                                      
                                                   
                                                
                                             
                                          
                                          ]
                                       
                                       =
                                       
                                          [
                                          
                                             
                                                
                                                   
                                                      
                                                         b
                                                      
                                                      
                                                         1
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   ⋮
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         b
                                                      
                                                      
                                                         r
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         b
                                                      
                                                      
                                                         r
                                                         +
                                                         1
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   ⋮
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         b
                                                      
                                                      
                                                         d
                                                      
                                                   
                                                
                                             
                                          
                                          ]
                                       
                                    
                                 
                                 
                                    (27)
                                    
                                       
                                          
                                             h
                                          
                                          
                                             q
                                          
                                       
                                       =
                                       
                                          |
                                          
                                             
                                                
                                                   
                                                      
                                                         b
                                                      
                                                      
                                                         1
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         A
                                                      
                                                      
                                                         1
                                                      
                                                      
                                                         1
                                                      
                                                   
                                                
                                                
                                                   ⋯
                                                
                                                
                                                   
                                                      
                                                         A
                                                      
                                                      
                                                         1
                                                      
                                                      
                                                         r
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   ⋮
                                                
                                                
                                                   ⋮
                                                
                                                
                                                   ⋱
                                                
                                                
                                                   ⋮
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         b
                                                      
                                                      
                                                         r
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         A
                                                      
                                                      
                                                         r
                                                      
                                                      
                                                         1
                                                      
                                                   
                                                
                                                
                                                   ⋯
                                                
                                                
                                                   
                                                      
                                                         A
                                                      
                                                      
                                                         r
                                                      
                                                      
                                                         r
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         b
                                                      
                                                      
                                                         r
                                                         +
                                                         q
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         A
                                                      
                                                      
                                                         r
                                                         +
                                                         q
                                                      
                                                      
                                                         1
                                                      
                                                   
                                                
                                                
                                                   ⋯
                                                
                                                
                                                   
                                                      
                                                         A
                                                      
                                                      
                                                         r
                                                         +
                                                         q
                                                      
                                                      
                                                         r
                                                      
                                                   
                                                
                                             
                                          
                                          |
                                       
                                       =
                                       0
                                       .
                                    
                                 
                              
                            It is important to note that in Eq. (27) variables 
                              
                                 
                                    A
                                 
                                 
                                    i
                                 
                                 
                                    j
                                 
                              
                            have known numerical values. On the contrary, the objective of this calculation is to obtain a linear relation that links variables 
                              
                                 
                                    b
                                 
                                 
                                    i
                                 
                              
                            in the form presented in Eq. (28). 
                              
                                 (28)
                                 
                                    
                                       
                                          h
                                       
                                       
                                          q
                                       
                                    
                                    =
                                    
                                       
                                          ∑
                                       
                                       
                                          i
                                          ∈
                                          
                                             {
                                             1
                                             ,
                                             …
                                             ,
                                             r
                                             ,
                                             r
                                             +
                                             q
                                             }
                                          
                                       
                                    
                                    
                                       
                                          γ
                                       
                                       
                                          q
                                       
                                       
                                          i
                                       
                                    
                                    
                                       
                                          b
                                       
                                       
                                          i
                                       
                                    
                                    .
                                 
                              
                            To explain this relation it is possible to expand the determinant of Eq. (27) by the first column. We therefore obtain the value of the coefficients 
                              
                                 
                                    γ
                                 
                                 
                                    q
                                 
                                 
                                    i
                                 
                              
                            by the formula (29). 
                              
                                 (29)
                                 
                                    
                                       
                                          γ
                                       
                                       
                                          q
                                       
                                       
                                          i
                                       
                                    
                                    =
                                    
                                       {
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         (
                                                         −
                                                         1
                                                         )
                                                      
                                                   
                                                   
                                                      i
                                                      +
                                                      1
                                                   
                                                
                                                
                                                   |
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  A
                                                               
                                                               
                                                                  1
                                                               
                                                               
                                                                  1
                                                               
                                                            
                                                         
                                                         
                                                            ⋯
                                                         
                                                         
                                                            
                                                               
                                                                  A
                                                               
                                                               
                                                                  1
                                                               
                                                               
                                                                  r
                                                               
                                                            
                                                         
                                                      
                                                      
                                                         
                                                            ⋮
                                                         
                                                         
                                                            ⋱
                                                         
                                                         
                                                            ⋮
                                                         
                                                      
                                                      
                                                         
                                                            
                                                               
                                                                  A
                                                               
                                                               
                                                                  i
                                                                  −
                                                                  1
                                                               
                                                               
                                                                  1
                                                               
                                                            
                                                         
                                                         
                                                            ⋯
                                                         
                                                         
                                                            
                                                               
                                                                  A
                                                               
                                                               
                                                                  i
                                                                  −
                                                                  1
                                                               
                                                               
                                                                  r
                                                               
                                                            
                                                         
                                                      
                                                      
                                                         
                                                            
                                                               
                                                                  A
                                                               
                                                               
                                                                  i
                                                                  +
                                                                  1
                                                               
                                                               
                                                                  1
                                                               
                                                            
                                                         
                                                         
                                                            ⋯
                                                         
                                                         
                                                            
                                                               
                                                                  A
                                                               
                                                               
                                                                  i
                                                                  +
                                                                  1
                                                               
                                                               
                                                                  r
                                                               
                                                            
                                                         
                                                      
                                                      
                                                         
                                                            ⋮
                                                         
                                                         
                                                            ⋱
                                                         
                                                         
                                                            ⋮
                                                         
                                                      
                                                      
                                                         
                                                            
                                                               
                                                                  A
                                                               
                                                               
                                                                  r
                                                               
                                                               
                                                                  1
                                                               
                                                            
                                                         
                                                         
                                                            ⋯
                                                         
                                                         
                                                            
                                                               
                                                                  A
                                                               
                                                               
                                                                  r
                                                               
                                                               
                                                                  r
                                                               
                                                            
                                                         
                                                      
                                                      
                                                         
                                                            
                                                               
                                                                  A
                                                               
                                                               
                                                                  r
                                                                  +
                                                                  q
                                                               
                                                               
                                                                  1
                                                               
                                                            
                                                         
                                                         
                                                            ⋯
                                                         
                                                         
                                                            
                                                               
                                                                  A
                                                               
                                                               
                                                                  r
                                                                  +
                                                                  q
                                                               
                                                               
                                                                  r
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   |
                                                
                                             
                                             
                                                if  
                                                i
                                                ∈
                                                
                                                   {
                                                   1
                                                   ,
                                                   …
                                                   ,
                                                   r
                                                   ,
                                                   r
                                                   +
                                                   q
                                                   }
                                                
                                                ,
                                             
                                          
                                          
                                             
                                                0
                                             
                                             
                                                otherwise.
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

In the case where the problem is over-constrained, i.e. there is no solution that conforms to all the specifications 
                           
                              S
                           
                        , the authors propose a method to help designers to find all the consistent specification values bringing them close to the initial expectations. The idea is to use the compatibility equations to change the independent specifications so that the redundant specifications draw close to the value desired. To do this the authors propose searching a set of new specifications stored in the Gram matrix 
                           
                              
                                 
                                    S
                                 
                              
                              
                                 ′
                              
                           
                        . The specification values must conform to the compatibility equation  (30): 
                           
                              (30)
                              
                                 
                                    Γ
                                 
                                 
                                    t
                                 
                                 =
                                 0
                                 .
                              
                           
                         We define 
                           
                              t
                           
                        , the vector of size
                           
                              (
                              d
                              ×
                              1
                              )
                           
                         equal to the 
                           d
                         elements extracted from the column vector formed by stacking the lines of 
                           
                              (
                              
                                 
                                    
                                       S
                                    
                                 
                                 
                                    ′
                                 
                              
                              −
                              
                                 H
                              
                              )
                           
                        . The expression of terms 
                           
                              
                                 γ
                              
                              
                                 q
                              
                              
                                 i
                              
                           
                         of matrix 
                           
                              Γ
                           
                         is given by Eq. (29). In a general way, we note that matrix 
                           
                              Γ
                           
                         has size 
                           
                              (
                              d
                              −
                              r
                              )
                           
                           ×
                           d
                        . In most engineering cases, the number of compatibility equations is much lower than the number of independent specifications 
                           
                              (
                              d
                              −
                              r
                              <
                              r
                              )
                           
                        . When 
                           d
                           −
                           r
                           ≥
                           r
                         the designers must have imposed a very high number of redundant constraints 
                           
                              (
                              d
                              ≥
                              2
                              r
                              )
                           
                        . In this specific but improbable case, the designers would be asked to reformulate their problem. Furthermore, in the general case where 
                           d
                           −
                           r
                           <
                           r
                        , matrix 
                           
                              Γ
                           
                         will have rank 
                           d
                           −
                           r
                         since the compatibility equations are independent by construction. Consequently, by using system (30) it is possible to calculate 
                           d
                           −
                           r
                         values of 
                           
                              
                                 t
                              
                              
                                 i
                              
                           
                         among 
                           d
                        . If, without loss of generality, the columns of matrix 
                           
                              Γ
                           
                         are re-ordered so that its first 
                           d
                           −
                           r
                         columns are independent, system (30) can be written in the form (31) and (32) by introducing two matrices 
                           
                              
                                 
                                    Γ
                                 
                              
                              
                                 
                                    1
                                 
                              
                           
                         (of size 
                           
                              (
                              d
                              −
                              r
                              )
                           
                           ×
                           
                              (
                              d
                              −
                              r
                              )
                           
                        ) and 
                           
                              
                                 
                                    Γ
                                 
                              
                              
                                 
                                    2
                                 
                              
                           
                         (of size 
                           
                              (
                              d
                              −
                              r
                              )
                           
                           ×
                           r
                        ). In this form matrix 
                           
                              
                                 
                                    Γ
                                 
                              
                              
                                 
                                    1
                                 
                              
                           
                         is invertible and we can calculate the values 
                           
                              
                                 t
                              
                              
                                 1
                              
                           
                         to 
                           
                              
                                 t
                              
                              
                                 d
                                 −
                                 r
                              
                           
                         using the formula (33). 
                           
                              
                                 (31)
                                 
                                    
                                       [
                                       
                                          
                                             
                                                
                                                   
                                                      γ
                                                   
                                                   
                                                      1
                                                   
                                                   
                                                      1
                                                   
                                                
                                             
                                             
                                                ⋯
                                             
                                             
                                                
                                                   
                                                      γ
                                                   
                                                   
                                                      1
                                                   
                                                   
                                                      d
                                                      −
                                                      r
                                                   
                                                
                                             
                                          
                                          
                                             
                                                ⋮
                                             
                                             
                                                ⋱
                                             
                                             
                                                ⋮
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      γ
                                                   
                                                   
                                                      d
                                                      −
                                                      r
                                                   
                                                   
                                                      1
                                                   
                                                
                                             
                                             
                                                ⋯
                                             
                                             
                                                
                                                   
                                                      γ
                                                   
                                                   
                                                      d
                                                      −
                                                      r
                                                   
                                                   
                                                      d
                                                      −
                                                      r
                                                   
                                                
                                             
                                          
                                       
                                       ]
                                    
                                    ×
                                    
                                       [
                                       
                                          
                                             
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      1
                                                   
                                                
                                             
                                          
                                          
                                             
                                                ⋮
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      d
                                                      −
                                                      r
                                                   
                                                
                                             
                                          
                                       
                                       ]
                                    
                                    +
                                    
                                       [
                                       
                                          
                                             
                                                
                                                   
                                                      γ
                                                   
                                                   
                                                      1
                                                   
                                                   
                                                      d
                                                      −
                                                      r
                                                      +
                                                      1
                                                   
                                                
                                             
                                             
                                                ⋯
                                             
                                             
                                                
                                                   
                                                      γ
                                                   
                                                   
                                                      1
                                                   
                                                   
                                                      d
                                                   
                                                
                                             
                                          
                                          
                                             
                                                ⋮
                                             
                                             
                                                ⋱
                                             
                                             
                                                ⋮
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      γ
                                                   
                                                   
                                                      d
                                                      −
                                                      r
                                                   
                                                   
                                                      d
                                                      −
                                                      r
                                                      +
                                                      1
                                                   
                                                
                                             
                                             
                                                ⋯
                                             
                                             
                                                
                                                   
                                                      γ
                                                   
                                                   
                                                      d
                                                      −
                                                      r
                                                   
                                                   
                                                      d
                                                   
                                                
                                             
                                          
                                       
                                       ]
                                    
                                    ×
                                    
                                       [
                                       
                                          
                                             
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      d
                                                      −
                                                      r
                                                      +
                                                      1
                                                   
                                                
                                             
                                          
                                          
                                             
                                                ⋮
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      d
                                                   
                                                
                                             
                                          
                                       
                                       ]
                                    
                                    =
                                    0
                                 
                              
                              
                                 (32)
                                 
                                    
                                       
                                          
                                             Γ
                                          
                                       
                                       
                                          
                                             1
                                          
                                       
                                    
                                    ×
                                    
                                       [
                                       
                                          
                                             
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      1
                                                   
                                                
                                             
                                          
                                          
                                             
                                                ⋮
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      d
                                                      −
                                                      r
                                                   
                                                
                                             
                                          
                                       
                                       ]
                                    
                                    +
                                    
                                       
                                          
                                             Γ
                                          
                                       
                                       
                                          
                                             2
                                          
                                       
                                    
                                    ×
                                    
                                       [
                                       
                                          
                                             
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      d
                                                      −
                                                      r
                                                      +
                                                      1
                                                   
                                                
                                             
                                          
                                          
                                             
                                                ⋮
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      d
                                                   
                                                
                                             
                                          
                                       
                                       ]
                                    
                                    =
                                    0
                                 
                              
                              
                                 (33)
                                 
                                    
                                       [
                                       
                                          
                                             
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      1
                                                   
                                                
                                             
                                          
                                          
                                             
                                                ⋮
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      d
                                                      −
                                                      r
                                                   
                                                
                                             
                                          
                                       
                                       ]
                                    
                                    =
                                    −
                                    
                                       
                                          
                                             Γ
                                          
                                       
                                       
                                          
                                             1
                                          
                                       
                                       
                                          −
                                          1
                                       
                                    
                                    
                                       
                                          
                                             Γ
                                          
                                       
                                       
                                          
                                             2
                                          
                                       
                                    
                                    ×
                                    
                                       [
                                       
                                          
                                             
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      d
                                                      −
                                                      r
                                                      +
                                                      1
                                                   
                                                
                                             
                                          
                                          
                                             
                                                ⋮
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      d
                                                   
                                                
                                             
                                          
                                       
                                       ]
                                    
                                    .
                                 
                              
                           
                         Now the above has been presented, the problem remaining to be solved is to partition 
                           
                              t
                           
                         so that the 
                           
                              
                                 
                                    Γ
                                 
                              
                              
                                 
                                    1
                                 
                              
                           
                         matrix is full rank.

The technique presented in Section  4.3.1 allows for determining the redundant constraints. It also provides a set of independent target specifications. However, in an engineering context, the designer may want to conserve the initial value for the redundant specification detected by the Gauss elimination method. In this case, it is necessary to find another partition for the target specifications. The following proposition does not claim to solve the problem of partitioning the set of specification parameters. The two ideas raised here are more the paths to be followed to give a clear framework for designers to choose a partition of 
                              
                                 
                                    t
                                 
                                 
                                    i
                                 
                              
                           . Firstly, the designers may wish to assign priorities or importances to specifications: the solution must meet the important specifications as precisely as possible, whereas the accuracy for other specifications can be lower. In this case it is advisable to place the important specifications in subassembly 
                              
                                 (
                                 
                                    
                                       t
                                    
                                    
                                       d
                                       −
                                       r
                                       +
                                       1
                                    
                                 
                                 ,
                                 …
                                 ,
                                 
                                    
                                       t
                                    
                                    
                                       d
                                    
                                 
                                 )
                              
                            and the less important specifications in subassembly 
                              
                                 (
                                 
                                    
                                       t
                                    
                                    
                                       1
                                    
                                 
                                 ,
                                 …
                                 ,
                                 
                                    
                                       t
                                    
                                    
                                       d
                                       −
                                       r
                                    
                                 
                                 )
                              
                            which will be calculated using relation (33). Secondly, it could also be interesting to follow paths suggested in research works on robust design such as  [19]. This study indicates criteria to help designers to divide their specifications into two parts to minimize the variation of values 
                              
                                 (
                                 
                                    
                                       t
                                    
                                    
                                       1
                                    
                                 
                                 ,
                                 …
                                 ,
                                 
                                    
                                       t
                                    
                                    
                                       d
                                       −
                                       r
                                    
                                 
                                 )
                              
                            that are calculated from 
                              
                                 (
                                 
                                    
                                       t
                                    
                                    
                                       d
                                       −
                                       r
                                       +
                                       1
                                    
                                 
                                 ,
                                 …
                                 ,
                                 
                                    
                                       t
                                    
                                    
                                       d
                                    
                                 
                                 )
                              
                            which is also our aim. Whatever the case, once the designers have chosen a partition, it is advisable that matrix 
                              
                                 
                                    
                                       Γ
                                    
                                 
                                 
                                    
                                       1
                                    
                                 
                              
                            is invertible.

@&#DISCUSSION@&#

On the basis of the compatibility equations (30) generated, the authors present two paths that should be combined carefully to permit a team of designers to solve an overconstrained problem. The paths proposed in this section to calculate the values of the target specifications 
                              
                                 t
                              
                            using matrix 
                              
                                 Γ
                              
                            require relatively basic linear algebra functions. This means that the calculations necessary to obtain the target specifications 
                              
                                 t
                              
                            will be fast. A simple tool for calculating the target specifications used in these two paths could be developed. Then it would be possible to use this tool during a design review to generate several sets of target specifications. During the same meeting, the design team and experts could then decide on which target value seems most pertinent. However, it is important to note that the compatibility equations were generated using a linearized version of the problem. Consequently, these equations are only valid in the vicinity of the solution used to generate them.

This section presents a case study with the application of the method to a double banana configuration. The skeleton of the double banana is composed of 8 Vertices and 18 edges. These 26 elements are declared in the text file presented in Fig. 8
                     . The initial geometry is also declared in the same text file by the position of 8 points associated with each vertex. This over-constrained and under-constrained academic example is a good candidate for illustrating the proposed algorithm. The declaration of the geometrical elements composing the double banana geometry is done as follows.


                     
                        
                           •
                           First, the number indicated after the key word ‘VERTICES’ gives the total number of points in the geometry. Then each line that follows is used to declare each single point. This declaration starts with the keyword ‘Point’. Then, the name of the point, such as 
                                 P
                                 t
                                 1
                                 ,
                                 P
                                 t
                                 2
                                 ,
                                 …
                               in Fig. 8 and the initial coordinates of the point must be entered. This part provides the information needed to fill the initial Gram matrix, 
                                 
                                    
                                       
                                          G
                                       
                                    
                                    
                                       
                                          (
                                          0
                                          )
                                       
                                    
                                 
                               presented in Algorithm 1.

Second, the number indicated after the key word ‘EDGES’ gives the total number of edges in the geometry. Then each line that follows is used to declare each single edge. This declaration starts with the keyword ‘Edge’. Then, the name of the edge, such as 
                                 A
                                 1
                                 ,
                                 A
                                 2
                                 ,
                                 …
                               in Fig. 8 must be entered. Afterwards, the name of the origin point of the current edge is preceded by a minus sign whereas no sign specifies the ending point. Consequently, all the edges are oriented. This part corresponds to providing the 
                                 
                                    C
                                 
                               information presented in Algorithm 1.

Third, the number indicated after the key word ‘LENGTH SPECIFICATIONS’ gives the total number of length constraints declared in the GCSP. Each constraint is declared using the approach presented before. In this case, they are named l1 to l18 with their corresponding numerical values specified after the equal sign. This part gives the specifications contained in the partially filled Gram matrix 
                                 
                                    S
                                 
                              .

The numerical analysis of the problem is performed by adapting the witness method to the case of the double banana structure. The first part is to find a generic sketch. A linear system is generated from the initial configuration. Its rank is calculated as 17. The points of the initial sketch are perturbed randomly. A second system is generated and its rank is calculated. It is also 17. It can therefore be concluded that the initial object is generic. Furthermore, the rank of matrix 
                           
                              A
                           
                         is lower than the number of constraints (17<18); thus we can assume (based on Michelucci results) that the case is over-constrained. Then two options are offered to the users: either they reformulate the problem alone, or they leave the algorithm to manage this overstress. We now describe the second scenario. In this example, an extract of the matrix 
                           
                              A
                           
                         of size 18×144 (144=18⋅8) is given in (34) (see Box I
                        ). The computation of the Gaussian elimination using Matlab rref() function gives the matrix presented in (35) (see Box II
                        ). From this point we can first observe that the 18th row is full of 0, meaning that the 18th specification is redundant. Secondly, it can be seen that the columns numbered {12,18,20,21,…,144} do not contain any elimination value which means that the value of unknowns {12,18,20,21,…,144} can be chosen freely. This second feature is not considered in the method presented.

Consequently to have a well-posed problem, the proposed solution is to release the 18th constraint. The new reduced problem is therefore composed of 17 specifications which are stored in 
                           
                              
                                 
                                    S
                                 
                              
                              
                                 ̃
                              
                           
                        . This new well-posed problem, is sent to the solver. A solution is found in 4 iterations. In Fig. 10
                        , we can see all the configurations of the objects obtained during the solving. An object can be drawn at each step of the algorithm. Convergence is reached very quickly. Indeed, the configuration desired is almost obtained after only one iteration. It is necessary to wait for the 4th stage for an object to reach standard convergence (
                           ϵ
                           =
                           1
                           
                              
                                 e
                              
                              
                                 −
                                 6
                              
                           
                         in Algorithm 1).

The solution computed is a set of points called 
                           
                              
                                 
                                    P
                                 
                              
                              
                                 ′
                              
                           
                        , with the same topology as before. The geometrical solution is illustrated by Fig. 11
                        . The analysis of this solution gives the length parameters presented in Table 1
                        . It can be seen that the 18th constraint that has been removed is equal to 
                           
                              
                                 L
                              
                              
                                 18
                              
                           
                           =
                           27.622761
                         instead of 32 (the designer’s original goal). This solution is not the exact desired solution. It is probably just one solution close to the designer’s aims. The geometrical solver also gives the compatibility equations (in this example, only one equation describes the dependence between the 18 parameters) (there are only 17 independent parameters). The following section describes the generation of this compatibility equation.

As we found that there was only one redundant constraint, there is therefore only one compatibility equation of the form (28) to be calculated. Thus we perform the calculation of 
                           
                              
                                 γ
                              
                              
                                 q
                              
                              
                                 i
                              
                           
                         presented in (29). Note that 
                           q
                           =
                           1
                         in this case. 
                           
                              (36)
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       =
                                       1
                                    
                                    
                                       18
                                    
                                 
                                 
                                    
                                       γ
                                    
                                    
                                       1
                                    
                                    
                                       i
                                    
                                 
                                 
                                    
                                       b
                                    
                                    
                                       i
                                    
                                 
                                 =
                                 0
                                 .
                              
                           
                         Using Eq. (36), each element 
                           
                              
                                 b
                              
                              
                                 i
                              
                           
                         can be calculated by a linear combination of the 17 others.

For example, let us assume that the value for 
                           
                              
                                 L
                              
                              
                                 18
                              
                           
                         calculated by the solver is too far from the designer’s aims and that the value of 
                           
                              
                                 L
                              
                              
                                 9
                              
                           
                         may be less accurate than its primary specification. The other values are correct. Therefore the user wishes to know the new value of 
                           
                              
                                 L
                              
                              
                                 9
                              
                           
                         which conforms to the consistency of the problem. They can also change more than one value. For the compatibility equation, the coefficients of 
                           
                              
                                 γ
                              
                              
                                 1
                              
                              
                                 i
                              
                           
                         are the influence factors of each specification 
                           i
                         which ensures the consistency between the 18 length specifications. (see Table 2
                        ). As we want to specify 
                           
                              
                                 L
                              
                              
                                 18
                              
                           
                         and let 
                           
                              
                                 L
                              
                              
                                 9
                              
                           
                         free, we apply Eq. (32) with 
                           
                              
                                 t
                              
                              
                                 i
                              
                           
                           =
                           0
                         for 
                           i
                           ∈
                           
                              {
                              1
                              ,
                              …
                              ,
                              8
                              ,
                              10
                              ,
                              …
                              ,
                              17
                              }
                           
                        . Then, 
                           
                              
                                 (37)
                                 
                                    
                                       
                                          γ
                                       
                                       
                                          1
                                       
                                       
                                          9
                                       
                                    
                                    
                                       
                                          t
                                       
                                       
                                          9
                                       
                                    
                                    +
                                    
                                       
                                          γ
                                       
                                       
                                          1
                                       
                                       
                                          18
                                       
                                    
                                    
                                       
                                          t
                                       
                                       
                                          18
                                       
                                    
                                    =
                                    0
                                 
                              
                              
                                 (38)
                                 
                                    
                                       
                                          t
                                       
                                       
                                          9
                                       
                                    
                                    =
                                    −
                                    
                                       
                                          
                                             
                                                γ
                                             
                                             
                                                1
                                             
                                             
                                                18
                                             
                                          
                                       
                                       
                                          
                                             
                                                γ
                                             
                                             
                                                1
                                             
                                             
                                                9
                                             
                                          
                                       
                                    
                                    
                                       
                                          t
                                       
                                       
                                          18
                                       
                                    
                                    .
                                 
                              
                           
                         As 
                           
                              
                                 t
                              
                              
                                 9
                              
                           
                           =
                           
                              
                                 L
                              
                              
                                 9
                              
                              
                                 ′
                              
                           
                           −
                           
                              
                                 L
                              
                              
                                 9
                              
                           
                         and 
                           
                              
                                 L
                              
                              
                                 9
                              
                           
                         is equal to 
                           
                              
                                 
                                    
                                       H
                                    
                                    
                                       99
                                    
                                 
                              
                           
                        , we have: 
                           
                              (39)
                              
                                 
                                    
                                       L
                                    
                                    
                                       9
                                    
                                    
                                       ′
                                    
                                 
                                 =
                                 
                                    
                                       t
                                    
                                    
                                       9
                                    
                                 
                                 +
                                 
                                    
                                       
                                          
                                             H
                                          
                                          
                                             99
                                          
                                       
                                    
                                 
                                 .
                              
                           
                         Length 
                           
                              
                                 L
                              
                              
                                 9
                              
                              
                                 ′
                              
                           
                         can be easily calculated thanks to relation (40). 
                           
                              (40)
                              
                                 
                                    
                                       L
                                    
                                    
                                       9
                                    
                                    
                                       ′
                                    
                                 
                                 =
                                 −
                                 
                                    
                                       
                                          
                                             γ
                                          
                                          
                                             1
                                          
                                          
                                             18
                                          
                                       
                                    
                                    
                                       
                                          
                                             γ
                                          
                                          
                                             1
                                          
                                          
                                             9
                                          
                                       
                                    
                                 
                                 
                                    
                                       t
                                    
                                    
                                       18
                                    
                                 
                                 +
                                 
                                    
                                       
                                          
                                             H
                                          
                                          
                                             99
                                          
                                       
                                    
                                 
                                 .
                              
                           
                         With 
                           
                              
                                 L
                              
                              
                                 9
                              
                           
                           =
                           45.000000
                           ,
                           
                              
                                 t
                              
                              
                                 18
                              
                           
                           =
                           32
                           −
                           27.622761
                           ,
                           
                              
                                 γ
                              
                              
                                 1
                              
                              
                                 9
                              
                           
                           =
                           0.039190
                         and 
                           
                              
                                 γ
                              
                              
                                 1
                              
                              
                                 18
                              
                           
                           =
                           −
                           0.006685
                        .

After calculus, we find 
                           
                              
                                 L
                              
                              
                                 9
                              
                              
                                 ′
                              
                           
                           =
                           45.746657
                        .

@&#DISCUSSION@&#

The geometric problem is described by a coordinate-free formulation. To solve the GCSP, the authors obtained the transformation between an initial configuration and a final one that conformed to the users’ specifications. This transformation was totally defined when the 
                        
                           X
                        
                      matrix was calculated. The present size of matrix 
                        
                           X
                        
                      is 
                        m
                        ×
                        n
                     , consequently the number of unknowns is 
                        n
                        m
                     . As 
                        3
                        n
                        −
                        6
                      unknowns are sufficient to position 
                        n
                      points in 3D, the algebraic problem is underconstrained, so values of some unknowns can be fixed to zero. This strategy was tested on several examples but was not presented in this paper.

The authors presented a method to analyze the GCSP. The analysis was performed before the solving process, something not done at present at each step of the resolution. An improvement is possible: to detect particular properties of geometric elements during the solving process. It will be interesting to analyze the algebraic system in it in order to know whether the final sketch is generic. If the final sketch is not generic, the proposed method cannot be applied.

When problems are over-constrained, a search is made to identify the redundant constraints by using the Gaussian elimination method. The independent specifications set depend on the order of the rows in the matrix 
                        
                           A
                        
                     . Different strategies could be studied to sort the rows in 
                        
                           A
                        
                      differently.

Finally, the double-banana problem is an academic example with only one overconstraint. It was chosen for pedagogical reasons. Further applications must be performed to demonstrate the efficiency of this on industrial problems with several overconstraints.

@&#CONCLUSION@&#

In this paper we used a non-cartesian formulation for GCSP. We wrote constraint equations for point–point distance and line–line angles. The efficiency of the witness method for handling problems defined by a coordinate free formulation was demonstrated and a solution for identifying redundancy between constraints in over-constrained cases was presented. A set of compatibility equations was generated after performing a prior analysis. Finally, strategies and tools were proposed to assist a team of designers to find a set of consistent specifications. The complete process was illustrated using the double banana geometrical configuration.

In the design environment it is increasingly difficult to specify a geometric problem correctly in a declarative way since designers often work together. The proposed tools could be used in a collaborative environment, where it is quite difficult to arbitrate between the different goals of design engineers.

@&#REFERENCES@&#

